const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomeView-icNRM1oi.js","assets/Spinner.vue_vue_type_script_setup_true_lang-xwR7VsNi.js","assets/Auth-CKwy6bMy.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ze={},Ai=[],Kn=()=>{},Sv=()=>!1,Cc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Vf=t=>t.startsWith("onUpdate:"),St=Object.assign,Lf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},II=Object.prototype.hasOwnProperty,We=(t,e)=>II.call(t,e),be=Array.isArray,Si=t=>Pc(t)==="[object Map]",Cv=t=>Pc(t)==="[object Set]",Pe=t=>typeof t=="function",ut=t=>typeof t=="string",kr=t=>typeof t=="symbol",tt=t=>t!==null&&typeof t=="object",Pv=t=>(tt(t)||Pe(t))&&Pe(t.then)&&Pe(t.catch),Rv=Object.prototype.toString,Pc=t=>Rv.call(t),AI=t=>Pc(t).slice(8,-1),xv=t=>Pc(t)==="[object Object]",Ff=t=>ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Lo=Mf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rc=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},SI=/-\w/g,tn=Rc(t=>t.replace(SI,e=>e.slice(1).toUpperCase())),CI=/\B([A-Z])/g,Or=Rc(t=>t.replace(CI,"-$1").toLowerCase()),xc=Rc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pl=Rc(t=>t?`on${xc(t)}`:""),an=(t,e)=>!Object.is(t,e),Rl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},kv=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Sd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},PI=t=>{const e=ut(t)?Number(t):NaN;return isNaN(e)?t:e};let nm;const kc=()=>nm||(nm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function En(t){if(be(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=ut(r)?OI(r):En(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ut(t)||tt(t))return t}const RI=/;(?![^(]*\))/g,xI=/:([^]+)/,kI=/\/\*[^]*?\*\//g;function OI(t){const e={};return t.replace(kI,"").split(RI).forEach(n=>{if(n){const r=n.split(xI);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ft(t){let e="";if(ut(t))e=t;else if(be(t))for(let n=0;n<t.length;n++){const r=ft(t[n]);r&&(e+=r+" ")}else if(tt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function xn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ut(e)&&(t.class=ft(e)),n&&(t.style=En(n)),t}const DI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",NI=Mf(DI);function Ov(t){return!!t||t===""}const Dv=t=>!!(t&&t.__v_isRef===!0),xt=t=>ut(t)?t:t==null?"":be(t)||tt(t)&&(t.toString===Rv||!Pe(t.toString))?Dv(t)?xt(t.value):JSON.stringify(t,Nv,2):String(t),Nv=(t,e)=>Dv(e)?Nv(t,e.value):Si(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Lu(r,i)+" =>"]=s,n),{})}:Cv(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Lu(n))}:kr(e)?Lu(e):tt(e)&&!be(e)&&!xv(e)?String(e):e,Lu=(t,e="")=>{var n;return kr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ht;class Mv{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ht,!e&&Ht&&(this.index=(Ht.scopes||(Ht.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ht;try{return Ht=this,e()}finally{Ht=n}}}on(){++this._on===1&&(this.prevScope=Ht,Ht=this)}off(){this._on>0&&--this._on===0&&(Ht=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Oc(t){return new Mv(t)}function Ra(){return Ht}function Dc(t,e=!1){Ht&&Ht.cleanups.push(t)}let nt;const Fu=new WeakSet;class Vv{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ht&&Ht.active&&Ht.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fu.has(this)&&(Fu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rm(this),Bv(this);const e=nt,n=Rn;nt=this,Rn=!0;try{return this.fn()}finally{$v(this),nt=e,Rn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Uf(e);this.deps=this.depsTail=void 0,rm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cd(this)&&this.run()}get dirty(){return Cd(this)}}let Lv=0,Fo,Bo;function Fv(t,e=!1){if(t.flags|=8,e){t.next=Bo,Bo=t;return}t.next=Fo,Fo=t}function Bf(){Lv++}function $f(){if(--Lv>0)return;if(Bo){let e=Bo;for(Bo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Fo;){let e=Fo;for(Fo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Bv(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $v(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Uf(r),MI(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Cd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Uv(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Uv(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ea)||(t.globalVersion=ea,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Cd(t))))return;t.flags|=2;const e=t.dep,n=nt,r=Rn;nt=t,Rn=!0;try{Bv(t);const s=t.fn(t._value);(e.version===0||an(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{nt=n,Rn=r,$v(t),t.flags&=-3}}function Uf(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Uf(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function MI(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Rn=!0;const qv=[];function Er(){qv.push(Rn),Rn=!1}function Tr(){const t=qv.pop();Rn=t===void 0?!0:t}function rm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=nt;nt=void 0;try{e()}finally{nt=n}}}let ea=0;class VI{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!nt||!Rn||nt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==nt)n=this.activeLink=new VI(nt,this),nt.deps?(n.prevDep=nt.depsTail,nt.depsTail.nextDep=n,nt.depsTail=n):nt.deps=nt.depsTail=n,jv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=nt.depsTail,n.nextDep=void 0,nt.depsTail.nextDep=n,nt.depsTail=n,nt.deps===n&&(nt.deps=r)}return n}trigger(e){this.version++,ea++,this.notify(e)}notify(e){Bf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$f()}}}function jv(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)jv(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Wl=new WeakMap,$s=Symbol(""),Pd=Symbol(""),ta=Symbol("");function Wt(t,e,n){if(Rn&&nt){let r=Wl.get(t);r||Wl.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Nc),s.map=r,s.key=n),s.track()}}function gr(t,e,n,r,s,i){const o=Wl.get(t);if(!o){ea++;return}const a=l=>{l&&l.trigger()};if(Bf(),e==="clear")o.forEach(a);else{const l=be(t),u=l&&Ff(n);if(l&&n==="length"){const d=Number(r);o.forEach((f,h)=>{(h==="length"||h===ta||!kr(h)&&h>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(ta)),e){case"add":l?u&&a(o.get("length")):(a(o.get($s)),Si(t)&&a(o.get(Pd)));break;case"delete":l||(a(o.get($s)),Si(t)&&a(o.get(Pd)));break;case"set":Si(t)&&a(o.get($s));break}}$f()}function LI(t,e){const n=Wl.get(t);return n&&n.get(e)}function di(t){const e=$e(t);return e===t?e:(Wt(e,"iterate",ta),Tn(t)?e:e.map(Mt))}function Mc(t){return Wt(t=$e(t),"iterate",ta),t}const FI={__proto__:null,[Symbol.iterator](){return Bu(this,Symbol.iterator,Mt)},concat(...t){return di(this).concat(...t.map(e=>be(e)?di(e):e))},entries(){return Bu(this,"entries",t=>(t[1]=Mt(t[1]),t))},every(t,e){return cr(this,"every",t,e,void 0,arguments)},filter(t,e){return cr(this,"filter",t,e,n=>n.map(Mt),arguments)},find(t,e){return cr(this,"find",t,e,Mt,arguments)},findIndex(t,e){return cr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return cr(this,"findLast",t,e,Mt,arguments)},findLastIndex(t,e){return cr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return cr(this,"forEach",t,e,void 0,arguments)},includes(...t){return $u(this,"includes",t)},indexOf(...t){return $u(this,"indexOf",t)},join(t){return di(this).join(t)},lastIndexOf(...t){return $u(this,"lastIndexOf",t)},map(t,e){return cr(this,"map",t,e,void 0,arguments)},pop(){return Eo(this,"pop")},push(...t){return Eo(this,"push",t)},reduce(t,...e){return sm(this,"reduce",t,e)},reduceRight(t,...e){return sm(this,"reduceRight",t,e)},shift(){return Eo(this,"shift")},some(t,e){return cr(this,"some",t,e,void 0,arguments)},splice(...t){return Eo(this,"splice",t)},toReversed(){return di(this).toReversed()},toSorted(t){return di(this).toSorted(t)},toSpliced(...t){return di(this).toSpliced(...t)},unshift(...t){return Eo(this,"unshift",t)},values(){return Bu(this,"values",Mt)}};function Bu(t,e,n){const r=Mc(t),s=r[e]();return r!==t&&!Tn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const BI=Array.prototype;function cr(t,e,n,r,s,i){const o=Mc(t),a=o!==t&&!Tn(t),l=o[e];if(l!==BI[e]){const f=l.apply(t,i);return a?Mt(f):f}let u=n;o!==t&&(a?u=function(f,h){return n.call(this,Mt(f),h,t)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,t)}));const d=l.call(o,u,r);return a&&s?s(d):d}function sm(t,e,n,r){const s=Mc(t);let i=n;return s!==t&&(Tn(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Mt(a),l,t)}),s[e](i,...r)}function $u(t,e,n){const r=$e(t);Wt(r,"iterate",ta);const s=r[e](...n);return(s===-1||s===!1)&&qf(n[0])?(n[0]=$e(n[0]),r[e](...n)):s}function Eo(t,e,n=[]){Er(),Bf();const r=$e(t)[e].apply(t,n);return $f(),Tr(),r}const $I=Mf("__proto__,__v_isRef,__isVue"),zv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(kr));function UI(t){kr(t)||(t=String(t));const e=$e(this);return Wt(e,"has",t),e.hasOwnProperty(t)}class Hv{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Xv:Yv:i?Qv:Gv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=be(e);if(!s){let l;if(o&&(l=FI[n]))return l;if(n==="hasOwnProperty")return UI}const a=Reflect.get(e,n,rt(e)?e:r);if((kr(n)?zv.has(n):$I(n))||(s||Wt(e,"get",n),i))return a;if(rt(a)){const l=o&&Ff(n)?a:a.value;return s&&tt(l)?Vi(l):l}return tt(a)?s?Vi(a):nr(a):a}}class Wv extends Hv{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=us(i);if(!Tn(r)&&!us(r)&&(i=$e(i),r=$e(r)),!be(e)&&rt(i)&&!rt(r))return l||(i.value=r),!0}const o=be(e)&&Ff(n)?Number(n)<e.length:We(e,n),a=Reflect.set(e,n,r,rt(e)?e:s);return e===$e(s)&&(o?an(r,i)&&gr(e,"set",n,r):gr(e,"add",n,r)),a}deleteProperty(e,n){const r=We(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&gr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!kr(n)||!zv.has(n))&&Wt(e,"has",n),r}ownKeys(e){return Wt(e,"iterate",be(e)?"length":$s),Reflect.ownKeys(e)}}class Kv extends Hv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const qI=new Wv,jI=new Kv,zI=new Wv(!0),HI=new Kv(!0),Rd=t=>t,ll=t=>Reflect.getPrototypeOf(t);function WI(t,e,n){return function(...r){const s=this.__v_raw,i=$e(s),o=Si(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),d=n?Rd:e?Kl:Mt;return!e&&Wt(i,"iterate",l?Pd:$s),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function cl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function KI(t,e){const n={get(s){const i=this.__v_raw,o=$e(i),a=$e(s);t||(an(s,a)&&Wt(o,"get",s),Wt(o,"get",a));const{has:l}=ll(o),u=e?Rd:t?Kl:Mt;if(l.call(o,s))return u(i.get(s));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Wt($e(s),"iterate",$s),s.size},has(s){const i=this.__v_raw,o=$e(i),a=$e(s);return t||(an(s,a)&&Wt(o,"has",s),Wt(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=$e(a),u=e?Rd:t?Kl:Mt;return!t&&Wt(l,"iterate",$s),a.forEach((d,f)=>s.call(i,u(d),u(f),o))}};return St(n,t?{add:cl("add"),set:cl("set"),delete:cl("delete"),clear:cl("clear")}:{add(s){!e&&!Tn(s)&&!us(s)&&(s=$e(s));const i=$e(this);return ll(i).has.call(i,s)||(i.add(s),gr(i,"add",s,s)),this},set(s,i){!e&&!Tn(i)&&!us(i)&&(i=$e(i));const o=$e(this),{has:a,get:l}=ll(o);let u=a.call(o,s);u||(s=$e(s),u=a.call(o,s));const d=l.call(o,s);return o.set(s,i),u?an(i,d)&&gr(o,"set",s,i):gr(o,"add",s,i),this},delete(s){const i=$e(this),{has:o,get:a}=ll(i);let l=o.call(i,s);l||(s=$e(s),l=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return l&&gr(i,"delete",s,void 0),u},clear(){const s=$e(this),i=s.size!==0,o=s.clear();return i&&gr(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=WI(s,t,e)}),n}function Vc(t,e){const n=KI(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(We(n,s)&&s in r?n:r,s,i)}const GI={get:Vc(!1,!1)},QI={get:Vc(!1,!0)},YI={get:Vc(!0,!1)},XI={get:Vc(!0,!0)},Gv=new WeakMap,Qv=new WeakMap,Yv=new WeakMap,Xv=new WeakMap;function JI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ZI(t){return t.__v_skip||!Object.isExtensible(t)?0:JI(AI(t))}function nr(t){return us(t)?t:Lc(t,!1,qI,GI,Gv)}function Jv(t){return Lc(t,!1,zI,QI,Qv)}function Vi(t){return Lc(t,!0,jI,YI,Yv)}function fi(t){return Lc(t,!0,HI,XI,Xv)}function Lc(t,e,n,r,s){if(!tt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ZI(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function ss(t){return us(t)?ss(t.__v_raw):!!(t&&t.__v_isReactive)}function us(t){return!!(t&&t.__v_isReadonly)}function Tn(t){return!!(t&&t.__v_isShallow)}function qf(t){return t?!!t.__v_raw:!1}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function xa(t){return!We(t,"__v_skip")&&Object.isExtensible(t)&&kv(t,"__v_skip",!0),t}const Mt=t=>tt(t)?nr(t):t,Kl=t=>tt(t)?Vi(t):t;function rt(t){return t?t.__v_isRef===!0:!1}function j(t){return Zv(t,!1)}function Gn(t){return Zv(t,!0)}function Zv(t,e){return rt(t)?t:new e0(t,e)}class e0{constructor(e,n){this.dep=new Nc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:$e(e),this._value=n?e:Mt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Tn(e)||us(e);e=r?e:$e(e),an(e,n)&&(this._rawValue=e,this._value=r?e:Mt(e),this.dep.trigger())}}function T(t){return rt(t)?t.value:t}function st(t){return Pe(t)?t():T(t)}const t0={get:(t,e,n)=>e==="__v_raw"?t:T(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return rt(s)&&!rt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function e_(t){return ss(t)?t:new Proxy(t,t0)}class n0{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Nc,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function jf(t){return new n0(t)}function In(t){const e=be(t)?new Array(t.length):{};for(const n in t)e[n]=n_(t,n);return e}class r0{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return LI($e(this._object),this._key)}}class s0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function t_(t,e,n){return rt(t)?t:Pe(t)?new s0(t):tt(t)&&arguments.length>1?n_(t,e,n):j(t)}function n_(t,e,n){const r=t[e];return rt(r)?r:new r0(t,e,n)}class i0{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Nc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ea-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&nt!==this)return Fv(this,!0),!0}get value(){const e=this.dep.track();return Uv(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function o0(t,e,n=!1){let r,s;return Pe(t)?r=t:(r=t.get,s=t.set),new i0(r,s,n)}const ul={},Gl=new WeakMap;let Ns;function a0(t,e=!1,n=Ns){if(n){let r=Gl.get(n);r||Gl.set(n,r=[]),r.push(t)}}function l0(t,e,n=ze){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=k=>s?k:Tn(k)||s===!1||s===0?yr(k,1):yr(k);let d,f,h,m,v=!1,b=!1;if(rt(t)?(f=()=>t.value,v=Tn(t)):ss(t)?(f=()=>u(t),v=!0):be(t)?(b=!0,v=t.some(k=>ss(k)||Tn(k)),f=()=>t.map(k=>{if(rt(k))return k.value;if(ss(k))return u(k);if(Pe(k))return l?l(k,2):k()})):Pe(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Er();try{h()}finally{Tr()}}const k=Ns;Ns=d;try{return l?l(t,3,[m]):t(m)}finally{Ns=k}}:f=Kn,e&&s){const k=f,V=s===!0?1/0:s;f=()=>yr(k(),V)}const E=Ra(),O=()=>{d.stop(),E&&E.active&&Lf(E.effects,d)};if(i&&e){const k=e;e=(...V)=>{k(...V),O()}}let M=b?new Array(t.length).fill(ul):ul;const D=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(e){const V=d.run();if(s||v||(b?V.some((F,I)=>an(F,M[I])):an(V,M))){h&&h();const F=Ns;Ns=d;try{const I=[V,M===ul?void 0:b&&M[0]===ul?[]:M,m];M=V,l?l(e,3,I):e(...I)}finally{Ns=F}}}else d.run()};return a&&a(D),d=new Vv(f),d.scheduler=o?()=>o(D,!1):D,m=k=>a0(k,!1,d),h=d.onStop=()=>{const k=Gl.get(d);if(k){if(l)l(k,4);else for(const V of k)V();Gl.delete(d)}},e?r?D(!0):M=d.run():o?o(D.bind(null,!0),!0):d.run(),O.pause=d.pause.bind(d),O.resume=d.resume.bind(d),O.stop=O,O}function yr(t,e=1/0,n){if(e<=0||!tt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,rt(t))yr(t.value,e,n);else if(be(t))for(let r=0;r<t.length;r++)yr(t[r],e,n);else if(Cv(t)||Si(t))t.forEach(r=>{yr(r,e,n)});else if(xv(t)){for(const r in t)yr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&yr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ka(t,e,n,r){try{return r?t(...r):t()}catch(s){Fc(s,e,n)}}function kn(t,e,n,r){if(Pe(t)){const s=ka(t,e,n,r);return s&&Pv(s)&&s.catch(i=>{Fc(i,e,n)}),s}if(be(t)){const s=[];for(let i=0;i<t.length;i++)s.push(kn(t[i],e,n,r));return s}}function Fc(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ze;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,l,u)===!1)return}a=a.parent}if(i){Er(),ka(i,null,10,[t,l,u]),Tr();return}}c0(t,n,s,r,o)}function c0(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const en=[];let qn=-1;const Ci=[];let Qr=null,gi=0;const r_=Promise.resolve();let Ql=null;function Xe(t){const e=Ql||r_;return t?e.then(this?t.bind(this):t):e}function u0(t){let e=qn+1,n=en.length;for(;e<n;){const r=e+n>>>1,s=en[r],i=na(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function zf(t){if(!(t.flags&1)){const e=na(t),n=en[en.length-1];!n||!(t.flags&2)&&e>=na(n)?en.push(t):en.splice(u0(e),0,t),t.flags|=1,s_()}}function s_(){Ql||(Ql=r_.then(o_))}function d0(t){be(t)?Ci.push(...t):Qr&&t.id===-1?Qr.splice(gi+1,0,t):t.flags&1||(Ci.push(t),t.flags|=1),s_()}function im(t,e,n=qn+1){for(;n<en.length;n++){const r=en[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;en.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function i_(t){if(Ci.length){const e=[...new Set(Ci)].sort((n,r)=>na(n)-na(r));if(Ci.length=0,Qr){Qr.push(...e);return}for(Qr=e,gi=0;gi<Qr.length;gi++){const n=Qr[gi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qr=null,gi=0}}const na=t=>t.id==null?t.flags&2?-1:1/0:t.id;function o_(t){try{for(qn=0;qn<en.length;qn++){const e=en[qn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ka(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;qn<en.length;qn++){const e=en[qn];e&&(e.flags&=-2)}qn=-1,en.length=0,i_(),Ql=null,(en.length||Ci.length)&&o_()}}let Ft=null,a_=null;function Yl(t){const e=Ft;return Ft=t,a_=t&&t.type.__scopeId||null,e}function q(t,e=Ft,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Zl(-1);const i=Yl(e);let o;try{o=t(...s)}finally{Yl(i),r._d&&Zl(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function l_(t,e){if(Ft===null)return t;const n=Hc(Ft),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=ze]=e[s];i&&(Pe(i)&&(i={mounted:i,updated:i}),i.deep&&yr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Rs(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Er(),kn(l,n,8,[t.el,a,t,e]),Tr())}}const c_=Symbol("_vte"),u_=t=>t.__isTeleport,$o=t=>t&&(t.disabled||t.disabled===""),om=t=>t&&(t.defer||t.defer===""),am=t=>typeof SVGElement<"u"&&t instanceof SVGElement,lm=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,xd=(t,e)=>{const n=t&&t.to;return ut(n)?e?e(n):null:n},d_={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,l,u){const{mc:d,pc:f,pbc:h,o:{insert:m,querySelector:v,createText:b,createComment:E}}=u,O=$o(e.props);let{shapeFlag:M,children:D,dynamicChildren:k}=e;if(t==null){const V=e.el=b(""),F=e.anchor=b("");m(V,n,r),m(F,n,r);const I=(y,_)=>{M&16&&d(D,y,_,s,i,o,a,l)},w=()=>{const y=e.target=xd(e.props,v),_=h_(y,e,b,m);y&&(o!=="svg"&&am(y)?o="svg":o!=="mathml"&&lm(y)&&(o="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(y),O||(I(y,_),xl(e,!1)))};O&&(I(n,F),xl(e,!0)),om(e.props)?(e.el.__isMounted=!1,Zt(()=>{w(),delete e.el.__isMounted},i)):w()}else{if(om(e.props)&&t.el.__isMounted===!1){Zt(()=>{d_.process(t,e,n,r,s,i,o,a,l,u)},i);return}e.el=t.el,e.targetStart=t.targetStart;const V=e.anchor=t.anchor,F=e.target=t.target,I=e.targetAnchor=t.targetAnchor,w=$o(t.props),y=w?n:F,_=w?V:I;if(o==="svg"||am(F)?o="svg":(o==="mathml"||lm(F))&&(o="mathml"),k?(h(t.dynamicChildren,k,y,s,i,o,a),Yf(t,e,!0)):l||f(t,e,y,_,s,i,o,a,!1),O)w?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):dl(e,n,V,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=xd(e.props,v);A&&dl(e,A,null,u,0)}else w&&dl(e,F,I,u,1);xl(e,O)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:d,target:f,props:h}=t;if(f&&(s(u),s(d)),i&&s(l),o&16){const m=i||!$o(h);for(let v=0;v<a.length;v++){const b=a[v];r(b,e,n,m,!!b.dynamicChildren)}}},move:dl,hydrate:f0};function dl(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:d}=t,f=i===2;if(f&&r(o,e,n),(!f||$o(d))&&l&16)for(let h=0;h<u.length;h++)s(u[h],e,n,2);f&&r(a,e,n)}function f0(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:d}},f){function h(b,E,O,M){E.anchor=f(o(b),E,a(b),n,r,s,i),E.targetStart=O,E.targetAnchor=M}const m=e.target=xd(e.props,l),v=$o(e.props);if(m){const b=m._lpa||m.firstChild;if(e.shapeFlag&16)if(v)h(t,e,b,b&&o(b));else{e.anchor=o(t);let E=b;for(;E;){if(E&&E.nodeType===8){if(E.data==="teleport start anchor")e.targetStart=E;else if(E.data==="teleport anchor"){e.targetAnchor=E,m._lpa=e.targetAnchor&&o(e.targetAnchor);break}}E=o(E)}e.targetAnchor||h_(m,e,d,u),f(b&&o(b),e,m,n,r,s,i)}xl(e,v)}else v&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const f_=d_;function xl(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function h_(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[c_]=i,t&&(r(s,t),r(i,t)),i}const mr=Symbol("_leaveCb"),fl=Symbol("_enterCb");function h0(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _t(()=>{t.isMounted=!0}),Oa(()=>{t.isUnmounting=!0}),t}const vn=[Function,Array],p_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vn,onEnter:vn,onAfterEnter:vn,onEnterCancelled:vn,onBeforeLeave:vn,onLeave:vn,onAfterLeave:vn,onLeaveCancelled:vn,onBeforeAppear:vn,onAppear:vn,onAfterAppear:vn,onAppearCancelled:vn},m_=t=>{const e=t.subTree;return e.component?m_(e.component):e},p0={name:"BaseTransition",props:p_,setup(t,{slots:e}){const n=Ut(),r=h0();return()=>{const s=e.default&&v_(e.default(),!0);if(!s||!s.length)return;const i=g_(s),o=$e(t),{mode:a}=o;if(r.isLeaving)return Uu(i);const l=cm(i);if(!l)return Uu(i);let u=kd(l,o,r,n,f=>u=f);l.type!==Vt&&ra(l,u);let d=n.subTree&&cm(n.subTree);if(d&&d.type!==Vt&&!Ls(d,l)&&m_(n).type!==Vt){let f=kd(d,o,r,n);if(ra(d,f),a==="out-in"&&l.type!==Vt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,d=void 0},Uu(i);a==="in-out"&&l.type!==Vt?f.delayLeave=(h,m,v)=>{const b=y_(r,d);b[String(d.key)]=d,h[mr]=()=>{m(),h[mr]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function g_(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Vt){e=n;break}}return e}const m0=p0;function y_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function kd(t,e,n,r,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:m,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:E,onAppear:O,onAfterAppear:M,onAppearCancelled:D}=e,k=String(t.key),V=y_(n,t),F=(y,_)=>{y&&kn(y,r,9,_)},I=(y,_)=>{const A=_[1];F(y,_),be(y)?y.every(S=>S.length<=1)&&A():y.length<=1&&A()},w={mode:o,persisted:a,beforeEnter(y){let _=l;if(!n.isMounted)if(i)_=E||l;else return;y[mr]&&y[mr](!0);const A=V[k];A&&Ls(t,A)&&A.el[mr]&&A.el[mr](),F(_,[y])},enter(y){let _=u,A=d,S=f;if(!n.isMounted)if(i)_=O||u,A=M||d,S=D||f;else return;let C=!1;const K=y[fl]=he=>{C||(C=!0,he?F(S,[y]):F(A,[y]),w.delayedLeave&&w.delayedLeave(),y[fl]=void 0)};_?I(_,[y,K]):K()},leave(y,_){const A=String(t.key);if(y[fl]&&y[fl](!0),n.isUnmounting)return _();F(h,[y]);let S=!1;const C=y[mr]=K=>{S||(S=!0,_(),K?F(b,[y]):F(v,[y]),y[mr]=void 0,V[A]===t&&delete V[A])};V[A]=t,m?I(m,[y,C]):C()},clone(y){const _=kd(y,e,n,r,s);return s&&s(_),_}};return w}function Uu(t){if(Bc(t))return t=Ir(t),t.children=null,t}function cm(t){if(!Bc(t))return u_(t.type)&&t.children?g_(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Pe(n.default))return n.default()}}function ra(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ra(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function v_(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ue?(o.patchFlag&128&&s++,r=r.concat(v_(o.children,e,a))):(e||o.type!==Vt)&&r.push(a!=null?Ir(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function J(t,e){return Pe(t)?St({name:t.name},e,{setup:t}):t}function g0(){const t=Ut();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function __(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Xl=new WeakMap;function Uo(t,e,n,r,s=!1){if(be(t)){t.forEach((v,b)=>Uo(v,e&&(be(e)?e[b]:e),n,r,s));return}if(Pi(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Uo(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Hc(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,d=a.refs===ze?a.refs={}:a.refs,f=a.setupState,h=$e(f),m=f===ze?Sv:v=>We(h,v);if(u!=null&&u!==l){if(um(e),ut(u))d[u]=null,m(u)&&(f[u]=null);else if(rt(u)){u.value=null;const v=e;v.k&&(d[v.k]=null)}}if(Pe(l))ka(l,a,12,[o,d]);else{const v=ut(l),b=rt(l);if(v||b){const E=()=>{if(t.f){const O=v?m(l)?f[l]:d[l]:l.value;if(s)be(O)&&Lf(O,i);else if(be(O))O.includes(i)||O.push(i);else if(v)d[l]=[i],m(l)&&(f[l]=d[l]);else{const M=[i];l.value=M,t.k&&(d[t.k]=M)}}else v?(d[l]=o,m(l)&&(f[l]=o)):b&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const O=()=>{E(),Xl.delete(t)};O.id=-1,Xl.set(t,O),Zt(O,n)}else um(t),E()}}}function um(t){const e=Xl.get(t);e&&(e.flags|=8,Xl.delete(t))}kc().requestIdleCallback;kc().cancelIdleCallback;const Pi=t=>!!t.type.__asyncLoader,Bc=t=>t.type.__isKeepAlive;function y0(t,e){w_(t,"a",e)}function v0(t,e){w_(t,"da",e)}function w_(t,e,n=Gt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if($c(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Bc(s.parent.vnode)&&_0(r,e,n,s),s=s.parent}}function _0(t,e,n,r){const s=$c(e,t,r,!0);Js(()=>{Lf(r[e],s)},n)}function $c(t,e,n=Gt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Er();const a=Na(n),l=kn(e,n,t,o);return a(),Tr(),l});return r?s.unshift(i):s.push(i),i}}const Dr=t=>(e,n=Gt)=>{(!aa||t==="sp")&&$c(t,(...r)=>e(...r),n)},w0=Dr("bm"),_t=Dr("m"),b0=Dr("bu"),E0=Dr("u"),Oa=Dr("bum"),Js=Dr("um"),T0=Dr("sp"),I0=Dr("rtg"),A0=Dr("rtc");function S0(t,e=Gt){$c("ec",t,e)}const Hf="components",C0="directives";function Uc(t,e){return Wf(Hf,t,!0,e)||t}const b_=Symbol.for("v-ndc");function Vs(t){return ut(t)?Wf(Hf,t,!1)||t:t||b_}function P0(t){return Wf(C0,t)}function Wf(t,e,n=!0,r=!1){const s=Ft||Gt;if(s){const i=s.type;if(t===Hf){const a=pA(i,!1);if(a&&(a===e||a===tn(e)||a===xc(tn(e))))return i}const o=dm(s[t]||i[t],e)||dm(s.appContext[t],e);return!o&&r?i:o}}function dm(t,e){return t&&(t[e]||t[tn(e)]||t[xc(tn(e))])}function On(t,e,n,r){let s;const i=n,o=be(t);if(o||ut(t)){const a=o&&ss(t);let l=!1,u=!1;a&&(l=!Tn(t),u=us(t),t=Mc(t)),s=new Array(t.length);for(let d=0,f=t.length;d<f;d++)s[d]=e(l?u?Kl(Mt(t[d])):Mt(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(tt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];s[l]=e(t[d],d,l,i)}}else s=[];return s}function oe(t,e,n={},r,s){if(Ft.ce||Ft.parent&&Pi(Ft.parent)&&Ft.parent.ce){const u=Object.keys(n).length>0;return e!=="default"&&(n.name=e),$(),ee(Ue,null,[ae("slot",n,r&&r())],u?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),$();const o=i&&E_(i(n)),a=n.key||o&&o.key,l=ee(Ue,{key:(a&&!kr(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function E_(t){return t.some(e=>Hn(e)?!(e.type===Vt||e.type===Ue&&!E_(e.children)):!0)?t:null}const Od=t=>t?j_(t)?Hc(t):Od(t.parent):null,qo=St(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Od(t.parent),$root:t=>Od(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>A_(t),$forceUpdate:t=>t.f||(t.f=()=>{zf(t.update)}),$nextTick:t=>t.n||(t.n=Xe.bind(t.proxy)),$watch:t=>J0.bind(t)}),qu=(t,e)=>t!==ze&&!t.__isScriptSetup&&We(t,e),R0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(qu(r,e))return o[e]=1,r[e];if(s!==ze&&We(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&We(u,e))return o[e]=3,i[e];if(n!==ze&&We(n,e))return o[e]=4,n[e];Dd&&(o[e]=0)}}const d=qo[e];let f,h;if(d)return e==="$attrs"&&Wt(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==ze&&We(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,We(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return qu(s,e)?(s[e]=n,!0):r!==ze&&We(r,e)?(r[e]=n,!0):We(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},a){let l,u;return!!(n[a]||t!==ze&&a[0]!=="$"&&We(t,a)||qu(e,a)||(l=i[0])&&We(l,a)||We(r,a)||We(qo,a)||We(s.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:We(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function x0(){return k0().attrs}function k0(t){const e=Ut();return e.setupContext||(e.setupContext=H_(e))}function sa(t){return be(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function T_(t,e){const n=sa(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?be(s)||Pe(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}function qc(t,e){return!t||!e?t||e:be(t)&&be(e)?t.concat(e):St({},sa(t),sa(e))}let Dd=!0;function O0(t){const e=A_(t),n=t.proxy,r=t.ctx;Dd=!1,e.beforeCreate&&fm(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:m,updated:v,activated:b,deactivated:E,beforeDestroy:O,beforeUnmount:M,destroyed:D,unmounted:k,render:V,renderTracked:F,renderTriggered:I,errorCaptured:w,serverPrefetch:y,expose:_,inheritAttrs:A,components:S,directives:C,filters:K}=e;if(u&&D0(u,r,null),o)for(const de in o){const Y=o[de];Pe(Y)&&(r[de]=Y.bind(n))}if(s){const de=s.call(n,n);tt(de)&&(t.data=nr(de))}if(Dd=!0,i)for(const de in i){const Y=i[de],je=Pe(Y)?Y.bind(n,n):Pe(Y.get)?Y.get.bind(n,n):Kn,ct=!Pe(Y)&&Pe(Y.set)?Y.set.bind(n):Kn,it=ie({get:je,set:ct});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>it.value,set:Ze=>it.value=Ze})}if(a)for(const de in a)I_(a[de],r,n,de);if(l){const de=Pe(l)?l.call(n):l;Reflect.ownKeys(de).forEach(Y=>{Ri(Y,de[Y])})}d&&fm(d,t,"c");function ce(de,Y){be(Y)?Y.forEach(je=>de(je.bind(n))):Y&&de(Y.bind(n))}if(ce(w0,f),ce(_t,h),ce(b0,m),ce(E0,v),ce(y0,b),ce(v0,E),ce(S0,w),ce(A0,F),ce(I0,I),ce(Oa,M),ce(Js,k),ce(T0,y),be(_))if(_.length){const de=t.exposed||(t.exposed={});_.forEach(Y=>{Object.defineProperty(de,Y,{get:()=>n[Y],set:je=>n[Y]=je,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===Kn&&(t.render=V),A!=null&&(t.inheritAttrs=A),S&&(t.components=S),C&&(t.directives=C),y&&__(t)}function D0(t,e,n=Kn){be(t)&&(t=Nd(t));for(const r in t){const s=t[r];let i;tt(s)?"default"in s?i=ln(s.from||r,s.default,!0):i=ln(s.from||r):i=ln(s),rt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function fm(t,e,n){kn(be(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function I_(t,e,n,r){let s=r.includes(".")?L_(n,r):()=>n[r];if(ut(t)){const i=e[t];Pe(i)&&Le(s,i)}else if(Pe(t))Le(s,t.bind(n));else if(tt(t))if(be(t))t.forEach(i=>I_(i,e,n,r));else{const i=Pe(t.handler)?t.handler.bind(n):e[t.handler];Pe(i)&&Le(s,i,t)}}function A_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>Jl(l,u,o,!0)),Jl(l,e,o)),tt(e)&&i.set(e,l),l}function Jl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Jl(t,i,n,!0),s&&s.forEach(o=>Jl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=N0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const N0={data:hm,props:pm,emits:pm,methods:Ro,computed:Ro,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:Ro,directives:Ro,watch:V0,provide:hm,inject:M0};function hm(t,e){return e?t?function(){return St(Pe(t)?t.call(this,this):t,Pe(e)?e.call(this,this):e)}:e:t}function M0(t,e){return Ro(Nd(t),Nd(e))}function Nd(t){if(be(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Jt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ro(t,e){return t?St(Object.create(null),t,e):e}function pm(t,e){return t?be(t)&&be(e)?[...new Set([...t,...e])]:St(Object.create(null),sa(t),sa(e??{})):e}function V0(t,e){if(!t)return e;if(!e)return t;const n=St(Object.create(null),t);for(const r in e)n[r]=Jt(t[r],e[r]);return n}function S_(){return{app:null,config:{isNativeTag:Sv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L0=0;function F0(t,e){return function(r,s=null){Pe(r)||(r=St({},r)),s!=null&&!tt(s)&&(s=null);const i=S_(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:L0++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:gA,get config(){return i.config},set config(d){},use(d,...f){return o.has(d)||(d&&Pe(d.install)?(o.add(d),d.install(u,...f)):Pe(d)&&(o.add(d),d(u,...f))),u},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),u},component(d,f){return f?(i.components[d]=f,u):i.components[d]},directive(d,f){return f?(i.directives[d]=f,u):i.directives[d]},mount(d,f,h){if(!l){const m=u._ceVNode||ae(r,s);return m.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(m,d,h),l=!0,u._container=d,d.__vue_app__=u,Hc(m.component)}},onUnmount(d){a.push(d)},unmount(){l&&(kn(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return i.provides[d]=f,u},runWithContext(d){const f=Us;Us=u;try{return d()}finally{Us=f}}};return u}}let Us=null;function Ri(t,e){if(Gt){let n=Gt.provides;const r=Gt.parent&&Gt.parent.provides;r===n&&(n=Gt.provides=Object.create(r)),n[t]=e}}function ln(t,e,n=!1){const r=Ut();if(r||Us){let s=Us?Us._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Pe(e)?e.call(r&&r.proxy):e}}function Kf(){return!!(Ut()||Us)}const C_={},P_=()=>Object.create(C_),R_=t=>Object.getPrototypeOf(t)===C_;function B0(t,e,n,r=!1){const s={},i=P_();t.propsDefaults=Object.create(null),x_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Jv(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function $0(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=$e(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(jc(t.emitsOptions,h))continue;const m=e[h];if(l)if(We(i,h))m!==i[h]&&(i[h]=m,u=!0);else{const v=tn(h);s[v]=Md(l,a,v,m,t,!1)}else m!==i[h]&&(i[h]=m,u=!0)}}}else{x_(t,e,s,i)&&(u=!0);let d;for(const f in a)(!e||!We(e,f)&&((d=Or(f))===f||!We(e,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(s[f]=Md(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!We(e,f))&&(delete i[f],u=!0)}u&&gr(t.attrs,"set","")}function x_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Lo(l))continue;const u=e[l];let d;s&&We(s,d=tn(l))?!i||!i.includes(d)?n[d]=u:(a||(a={}))[d]=u:jc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=$e(n),u=a||ze;for(let d=0;d<i.length;d++){const f=i[d];n[f]=Md(s,l,f,u[f],t,!We(u,f))}}return o}function Md(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=We(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Pe(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const d=Na(s);r=u[n]=l.call(null,e),d()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Or(n))&&(r=!0))}return r}const U0=new WeakMap;function k_(t,e,n=!1){const r=n?U0:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!Pe(t)){const d=f=>{l=!0;const[h,m]=k_(f,e,!0);St(o,h),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return tt(t)&&r.set(t,Ai),Ai;if(be(i))for(let d=0;d<i.length;d++){const f=tn(i[d]);mm(f)&&(o[f]=ze)}else if(i)for(const d in i){const f=tn(d);if(mm(f)){const h=i[d],m=o[f]=be(h)||Pe(h)?{type:h}:St({},h),v=m.type;let b=!1,E=!0;if(be(v))for(let O=0;O<v.length;++O){const M=v[O],D=Pe(M)&&M.name;if(D==="Boolean"){b=!0;break}else D==="String"&&(E=!1)}else b=Pe(v)&&v.name==="Boolean";m[0]=b,m[1]=E,(b||We(m,"default"))&&a.push(f)}}const u=[o,a];return tt(t)&&r.set(t,u),u}function mm(t){return t[0]!=="$"&&!Lo(t)}const Gf=t=>t==="_"||t==="_ctx"||t==="$stable",Qf=t=>be(t)?t.map(zn):[zn(t)],q0=(t,e,n)=>{if(e._n)return e;const r=q((...s)=>Qf(e(...s)),n);return r._c=!1,r},O_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Gf(s))continue;const i=t[s];if(Pe(i))e[s]=q0(s,i,r);else if(i!=null){const o=Qf(i);e[s]=()=>o}}},D_=(t,e)=>{const n=Qf(e);t.slots.default=()=>n},N_=(t,e,n)=>{for(const r in e)(n||!Gf(r))&&(t[r]=e[r])},j0=(t,e,n)=>{const r=t.slots=P_();if(t.vnode.shapeFlag&32){const s=e._;s?(N_(r,e,n),n&&kv(r,"_",s,!0)):O_(e,r)}else e&&D_(t,e)},z0=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ze;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:N_(s,e,n):(i=!e.$stable,O_(e,s)),o=e}else e&&(D_(t,e),o={default:1});if(i)for(const a in s)!Gf(a)&&o[a]==null&&delete s[a]},Zt=iA;function H0(t){return W0(t)}function W0(t,e){const n=kc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:m=Kn,insertStaticContent:v}=t,b=(R,N,L,W=null,Q=null,H=null,ue=void 0,re=null,te=!!N.dynamicChildren)=>{if(R===N)return;R&&!Ls(R,N)&&(W=x(R),Ze(R,Q,H,!0),R=null),N.patchFlag===-2&&(te=!1,N.dynamicChildren=null);const{type:ne,ref:we,shapeFlag:fe}=N;switch(ne){case zc:E(R,N,L,W);break;case Vt:O(R,N,L,W);break;case zu:R==null&&M(N,L,W,ue);break;case Ue:S(R,N,L,W,Q,H,ue,re,te);break;default:fe&1?V(R,N,L,W,Q,H,ue,re,te):fe&6?C(R,N,L,W,Q,H,ue,re,te):(fe&64||fe&128)&&ne.process(R,N,L,W,Q,H,ue,re,te,se)}we!=null&&Q?Uo(we,R&&R.ref,H,N||R,!N):we==null&&R&&R.ref!=null&&Uo(R.ref,null,H,R,!0)},E=(R,N,L,W)=>{if(R==null)r(N.el=a(N.children),L,W);else{const Q=N.el=R.el;N.children!==R.children&&u(Q,N.children)}},O=(R,N,L,W)=>{R==null?r(N.el=l(N.children||""),L,W):N.el=R.el},M=(R,N,L,W)=>{[R.el,R.anchor]=v(R.children,N,L,W,R.el,R.anchor)},D=({el:R,anchor:N},L,W)=>{let Q;for(;R&&R!==N;)Q=h(R),r(R,L,W),R=Q;r(N,L,W)},k=({el:R,anchor:N})=>{let L;for(;R&&R!==N;)L=h(R),s(R),R=L;s(N)},V=(R,N,L,W,Q,H,ue,re,te)=>{N.type==="svg"?ue="svg":N.type==="math"&&(ue="mathml"),R==null?F(N,L,W,Q,H,ue,re,te):y(R,N,Q,H,ue,re,te)},F=(R,N,L,W,Q,H,ue,re)=>{let te,ne;const{props:we,shapeFlag:fe,transition:ve,dirs:Te}=R;if(te=R.el=o(R.type,H,we&&we.is,we),fe&8?d(te,R.children):fe&16&&w(R.children,te,null,W,Q,ju(R,H),ue,re),Te&&Rs(R,null,W,"created"),I(te,R,R.scopeId,ue,W),we){for(const Ye in we)Ye!=="value"&&!Lo(Ye)&&i(te,Ye,null,we[Ye],H,W);"value"in we&&i(te,"value",null,we.value,H),(ne=we.onVnodeBeforeMount)&&Un(ne,W,R)}Te&&Rs(R,null,W,"beforeMount");const De=K0(Q,ve);De&&ve.beforeEnter(te),r(te,N,L),((ne=we&&we.onVnodeMounted)||De||Te)&&Zt(()=>{ne&&Un(ne,W,R),De&&ve.enter(te),Te&&Rs(R,null,W,"mounted")},Q)},I=(R,N,L,W,Q)=>{if(L&&m(R,L),W)for(let H=0;H<W.length;H++)m(R,W[H]);if(Q){let H=Q.subTree;if(N===H||$_(H.type)&&(H.ssContent===N||H.ssFallback===N)){const ue=Q.vnode;I(R,ue,ue.scopeId,ue.slotScopeIds,Q.parent)}}},w=(R,N,L,W,Q,H,ue,re,te=0)=>{for(let ne=te;ne<R.length;ne++){const we=R[ne]=re?Yr(R[ne]):zn(R[ne]);b(null,we,N,L,W,Q,H,ue,re)}},y=(R,N,L,W,Q,H,ue)=>{const re=N.el=R.el;let{patchFlag:te,dynamicChildren:ne,dirs:we}=N;te|=R.patchFlag&16;const fe=R.props||ze,ve=N.props||ze;let Te;if(L&&xs(L,!1),(Te=ve.onVnodeBeforeUpdate)&&Un(Te,L,N,R),we&&Rs(N,R,L,"beforeUpdate"),L&&xs(L,!0),(fe.innerHTML&&ve.innerHTML==null||fe.textContent&&ve.textContent==null)&&d(re,""),ne?_(R.dynamicChildren,ne,re,L,W,ju(N,Q),H):ue||Y(R,N,re,null,L,W,ju(N,Q),H,!1),te>0){if(te&16)A(re,fe,ve,L,Q);else if(te&2&&fe.class!==ve.class&&i(re,"class",null,ve.class,Q),te&4&&i(re,"style",fe.style,ve.style,Q),te&8){const De=N.dynamicProps;for(let Ye=0;Ye<De.length;Ye++){const Be=De[Ye],qt=fe[Be],jt=ve[Be];(jt!==qt||Be==="value")&&i(re,Be,qt,jt,Q,L)}}te&1&&R.children!==N.children&&d(re,N.children)}else!ue&&ne==null&&A(re,fe,ve,L,Q);((Te=ve.onVnodeUpdated)||we)&&Zt(()=>{Te&&Un(Te,L,N,R),we&&Rs(N,R,L,"updated")},W)},_=(R,N,L,W,Q,H,ue)=>{for(let re=0;re<N.length;re++){const te=R[re],ne=N[re],we=te.el&&(te.type===Ue||!Ls(te,ne)||te.shapeFlag&198)?f(te.el):L;b(te,ne,we,null,W,Q,H,ue,!0)}},A=(R,N,L,W,Q)=>{if(N!==L){if(N!==ze)for(const H in N)!Lo(H)&&!(H in L)&&i(R,H,N[H],null,Q,W);for(const H in L){if(Lo(H))continue;const ue=L[H],re=N[H];ue!==re&&H!=="value"&&i(R,H,re,ue,Q,W)}"value"in L&&i(R,"value",N.value,L.value,Q)}},S=(R,N,L,W,Q,H,ue,re,te)=>{const ne=N.el=R?R.el:a(""),we=N.anchor=R?R.anchor:a("");let{patchFlag:fe,dynamicChildren:ve,slotScopeIds:Te}=N;Te&&(re=re?re.concat(Te):Te),R==null?(r(ne,L,W),r(we,L,W),w(N.children||[],L,we,Q,H,ue,re,te)):fe>0&&fe&64&&ve&&R.dynamicChildren?(_(R.dynamicChildren,ve,L,Q,H,ue,re),(N.key!=null||Q&&N===Q.subTree)&&Yf(R,N,!0)):Y(R,N,L,we,Q,H,ue,re,te)},C=(R,N,L,W,Q,H,ue,re,te)=>{N.slotScopeIds=re,R==null?N.shapeFlag&512?Q.ctx.activate(N,L,W,ue,te):K(N,L,W,Q,H,ue,te):he(R,N,te)},K=(R,N,L,W,Q,H,ue)=>{const re=R.component=uA(R,W,Q);if(Bc(R)&&(re.ctx.renderer=se),dA(re,!1,ue),re.asyncDep){if(Q&&Q.registerDep(re,ce,ue),!R.el){const te=re.subTree=ae(Vt);O(null,te,N,L),R.placeholder=te.el}}else ce(re,R,N,L,Q,H,ue)},he=(R,N,L)=>{const W=N.component=R.component;if(rA(R,N,L))if(W.asyncDep&&!W.asyncResolved){de(W,N,L);return}else W.next=N,W.update();else N.el=R.el,W.vnode=N},ce=(R,N,L,W,Q,H,ue)=>{const re=()=>{if(R.isMounted){let{next:fe,bu:ve,u:Te,parent:De,vnode:Ye}=R;{const hn=M_(R);if(hn){fe&&(fe.el=Ye.el,de(R,fe,ue)),hn.asyncDep.then(()=>{R.isUnmounted||re()});return}}let Be=fe,qt;xs(R,!1),fe?(fe.el=Ye.el,de(R,fe,ue)):fe=Ye,ve&&Rl(ve),(qt=fe.props&&fe.props.onVnodeBeforeUpdate)&&Un(qt,De,fe,Ye),xs(R,!0);const jt=ym(R),fn=R.subTree;R.subTree=jt,b(fn,jt,f(fn.el),x(fn),R,Q,H),fe.el=jt.el,Be===null&&sA(R,jt.el),Te&&Zt(Te,Q),(qt=fe.props&&fe.props.onVnodeUpdated)&&Zt(()=>Un(qt,De,fe,Ye),Q)}else{let fe;const{el:ve,props:Te}=N,{bm:De,m:Ye,parent:Be,root:qt,type:jt}=R,fn=Pi(N);xs(R,!1),De&&Rl(De),!fn&&(fe=Te&&Te.onVnodeBeforeMount)&&Un(fe,Be,N),xs(R,!0);{qt.ce&&qt.ce._def.shadowRoot!==!1&&qt.ce._injectChildStyle(jt);const hn=R.subTree=ym(R);b(null,hn,L,W,R,Q,H),N.el=hn.el}if(Ye&&Zt(Ye,Q),!fn&&(fe=Te&&Te.onVnodeMounted)){const hn=N;Zt(()=>Un(fe,Be,hn),Q)}(N.shapeFlag&256||Be&&Pi(Be.vnode)&&Be.vnode.shapeFlag&256)&&R.a&&Zt(R.a,Q),R.isMounted=!0,N=L=W=null}};R.scope.on();const te=R.effect=new Vv(re);R.scope.off();const ne=R.update=te.run.bind(te),we=R.job=te.runIfDirty.bind(te);we.i=R,we.id=R.uid,te.scheduler=()=>zf(we),xs(R,!0),ne()},de=(R,N,L)=>{N.component=R;const W=R.vnode.props;R.vnode=N,R.next=null,$0(R,N.props,W,L),z0(R,N.children,L),Er(),im(R),Tr()},Y=(R,N,L,W,Q,H,ue,re,te=!1)=>{const ne=R&&R.children,we=R?R.shapeFlag:0,fe=N.children,{patchFlag:ve,shapeFlag:Te}=N;if(ve>0){if(ve&128){ct(ne,fe,L,W,Q,H,ue,re,te);return}else if(ve&256){je(ne,fe,L,W,Q,H,ue,re,te);return}}Te&8?(we&16&&mt(ne,Q,H),fe!==ne&&d(L,fe)):we&16?Te&16?ct(ne,fe,L,W,Q,H,ue,re,te):mt(ne,Q,H,!0):(we&8&&d(L,""),Te&16&&w(fe,L,W,Q,H,ue,re,te))},je=(R,N,L,W,Q,H,ue,re,te)=>{R=R||Ai,N=N||Ai;const ne=R.length,we=N.length,fe=Math.min(ne,we);let ve;for(ve=0;ve<fe;ve++){const Te=N[ve]=te?Yr(N[ve]):zn(N[ve]);b(R[ve],Te,L,null,Q,H,ue,re,te)}ne>we?mt(R,Q,H,!0,!1,fe):w(N,L,W,Q,H,ue,re,te,fe)},ct=(R,N,L,W,Q,H,ue,re,te)=>{let ne=0;const we=N.length;let fe=R.length-1,ve=we-1;for(;ne<=fe&&ne<=ve;){const Te=R[ne],De=N[ne]=te?Yr(N[ne]):zn(N[ne]);if(Ls(Te,De))b(Te,De,L,null,Q,H,ue,re,te);else break;ne++}for(;ne<=fe&&ne<=ve;){const Te=R[fe],De=N[ve]=te?Yr(N[ve]):zn(N[ve]);if(Ls(Te,De))b(Te,De,L,null,Q,H,ue,re,te);else break;fe--,ve--}if(ne>fe){if(ne<=ve){const Te=ve+1,De=Te<we?N[Te].el:W;for(;ne<=ve;)b(null,N[ne]=te?Yr(N[ne]):zn(N[ne]),L,De,Q,H,ue,re,te),ne++}}else if(ne>ve)for(;ne<=fe;)Ze(R[ne],Q,H,!0),ne++;else{const Te=ne,De=ne,Ye=new Map;for(ne=De;ne<=ve;ne++){const Dt=N[ne]=te?Yr(N[ne]):zn(N[ne]);Dt.key!=null&&Ye.set(Dt.key,ne)}let Be,qt=0;const jt=ve-De+1;let fn=!1,hn=0;const An=new Array(jt);for(ne=0;ne<jt;ne++)An[ne]=0;for(ne=Te;ne<=fe;ne++){const Dt=R[ne];if(qt>=jt){Ze(Dt,Q,H,!0);continue}let Ct;if(Dt.key!=null)Ct=Ye.get(Dt.key);else for(Be=De;Be<=ve;Be++)if(An[Be-De]===0&&Ls(Dt,N[Be])){Ct=Be;break}Ct===void 0?Ze(Dt,Q,H,!0):(An[Ct-De]=ne+1,Ct>=hn?hn=Ct:fn=!0,b(Dt,N[Ct],L,null,Q,H,ue,re,te),qt++)}const ai=fn?G0(An):Ai;for(Be=ai.length-1,ne=jt-1;ne>=0;ne--){const Dt=De+ne,Ct=N[Dt],oo=N[Dt+1],Is=Dt+1<we?oo.el||oo.placeholder:W;An[ne]===0?b(null,Ct,L,Is,Q,H,ue,re,te):fn&&(Be<0||ne!==ai[Be]?it(Ct,L,Is,2):Be--)}}},it=(R,N,L,W,Q=null)=>{const{el:H,type:ue,transition:re,children:te,shapeFlag:ne}=R;if(ne&6){it(R.component.subTree,N,L,W);return}if(ne&128){R.suspense.move(N,L,W);return}if(ne&64){ue.move(R,N,L,se);return}if(ue===Ue){r(H,N,L);for(let fe=0;fe<te.length;fe++)it(te[fe],N,L,W);r(R.anchor,N,L);return}if(ue===zu){D(R,N,L);return}if(W!==2&&ne&1&&re)if(W===0)re.beforeEnter(H),r(H,N,L),Zt(()=>re.enter(H),Q);else{const{leave:fe,delayLeave:ve,afterLeave:Te}=re,De=()=>{R.ctx.isUnmounted?s(H):r(H,N,L)},Ye=()=>{H._isLeaving&&H[mr](!0),fe(H,()=>{De(),Te&&Te()})};ve?ve(H,De,Ye):Ye()}else r(H,N,L)},Ze=(R,N,L,W=!1,Q=!1)=>{const{type:H,props:ue,ref:re,children:te,dynamicChildren:ne,shapeFlag:we,patchFlag:fe,dirs:ve,cacheIndex:Te}=R;if(fe===-2&&(Q=!1),re!=null&&(Er(),Uo(re,null,L,R,!0),Tr()),Te!=null&&(N.renderCache[Te]=void 0),we&256){N.ctx.deactivate(R);return}const De=we&1&&ve,Ye=!Pi(R);let Be;if(Ye&&(Be=ue&&ue.onVnodeBeforeUnmount)&&Un(Be,N,R),we&6)Ot(R.component,L,W);else{if(we&128){R.suspense.unmount(L,W);return}De&&Rs(R,null,N,"beforeUnmount"),we&64?R.type.remove(R,N,L,se,W):ne&&!ne.hasOnce&&(H!==Ue||fe>0&&fe&64)?mt(ne,N,L,!1,!0):(H===Ue&&fe&384||!Q&&we&16)&&mt(te,N,L),W&&Qe(R)}(Ye&&(Be=ue&&ue.onVnodeUnmounted)||De)&&Zt(()=>{Be&&Un(Be,N,R),De&&Rs(R,null,N,"unmounted")},L)},Qe=R=>{const{type:N,el:L,anchor:W,transition:Q}=R;if(N===Ue){qe(L,W);return}if(N===zu){k(R);return}const H=()=>{s(L),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(R.shapeFlag&1&&Q&&!Q.persisted){const{leave:ue,delayLeave:re}=Q,te=()=>ue(L,H);re?re(R.el,H,te):te()}else H()},qe=(R,N)=>{let L;for(;R!==N;)L=h(R),s(R),R=L;s(N)},Ot=(R,N,L)=>{const{bum:W,scope:Q,job:H,subTree:ue,um:re,m:te,a:ne}=R;gm(te),gm(ne),W&&Rl(W),Q.stop(),H&&(H.flags|=8,Ze(ue,R,N,L)),re&&Zt(re,N),Zt(()=>{R.isUnmounted=!0},N)},mt=(R,N,L,W=!1,Q=!1,H=0)=>{for(let ue=H;ue<R.length;ue++)Ze(R[ue],N,L,W,Q)},x=R=>{if(R.shapeFlag&6)return x(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const N=h(R.anchor||R.el),L=N&&N[c_];return L?h(L):N};let Z=!1;const z=(R,N,L)=>{R==null?N._vnode&&Ze(N._vnode,null,null,!0):b(N._vnode||null,R,N,null,null,null,L),N._vnode=R,Z||(Z=!0,im(),i_(),Z=!1)},se={p:b,um:Ze,m:it,r:Qe,mt:K,mc:w,pc:Y,pbc:_,n:x,o:t};return{render:z,hydrate:void 0,createApp:F0(z)}}function ju({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function xs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function K0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yf(t,e,n=!1){const r=t.children,s=e.children;if(be(r)&&be(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Yr(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&Yf(o,a)),a.type===zc&&a.patchFlag!==-1&&(a.el=o.el),a.type===Vt&&!a.el&&(a.el=o.el)}}function G0(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function M_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:M_(e)}function gm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Q0=Symbol.for("v-scx"),Y0=()=>ln(Q0);function at(t,e){return Da(t,null,e)}function V_(t,e){return Da(t,null,{flush:"post"})}function X0(t,e){return Da(t,null,{flush:"sync"})}function Le(t,e,n){return Da(t,e,n)}function Da(t,e,n=ze){const{immediate:r,deep:s,flush:i,once:o}=n,a=St({},n),l=e&&r||!e&&i!=="post";let u;if(aa){if(i==="sync"){const m=Y0();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=Kn,m.resume=Kn,m.pause=Kn,m}}const d=Gt;a.call=(m,v,b)=>kn(m,d,v,b);let f=!1;i==="post"?a.scheduler=m=>{Zt(m,d&&d.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(m,v)=>{v?m():zf(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const h=l0(t,e,a);return aa&&(u?u.push(h):l&&h()),h}function J0(t,e,n){const r=this.proxy,s=ut(t)?t.includes(".")?L_(r,t):()=>r[t]:t.bind(r,r);let i;Pe(e)?i=e:(i=e.handler,n=e);const o=Na(this),a=Da(s,i.bind(r),n);return o(),a}function L_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function ia(t,e,n=ze){const r=Ut(),s=tn(e),i=Or(e),o=F_(t,s),a=jf((l,u)=>{let d,f=ze,h;return X0(()=>{const m=t[s];an(d,m)&&(d=m,u())}),{get(){return l(),n.get?n.get(d):d},set(m){const v=n.set?n.set(m):m;if(!an(v,d)&&!(f!==ze&&an(m,f)))return;const b=r.vnode.props;b&&(e in b||s in b||i in b)&&(`onUpdate:${e}`in b||`onUpdate:${s}`in b||`onUpdate:${i}`in b)||(d=m,u()),r.emit(`update:${e}`,v),an(m,v)&&an(m,f)&&!an(v,h)&&u(),f=m,h=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||ze:a,done:!1}:{done:!0}}}},a}const F_=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${tn(e)}Modifiers`]||t[`${Or(e)}Modifiers`];function Z0(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ze;let s=n;const i=e.startsWith("update:"),o=i&&F_(r,e.slice(7));o&&(o.trim&&(s=n.map(d=>ut(d)?d.trim():d)),o.number&&(s=n.map(Sd)));let a,l=r[a=Pl(e)]||r[a=Pl(tn(e))];!l&&i&&(l=r[a=Pl(Or(e))]),l&&kn(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,kn(u,t,6,s)}}const eA=new WeakMap;function B_(t,e,n=!1){const r=n?eA:e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Pe(t)){const l=u=>{const d=B_(u,e,!0);d&&(a=!0,St(o,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(tt(t)&&r.set(t,null),null):(be(i)?i.forEach(l=>o[l]=null):St(o,i),tt(t)&&r.set(t,o),o)}function jc(t,e){return!t||!Cc(e)?!1:(e=e.slice(2).replace(/Once$/,""),We(t,e[0].toLowerCase()+e.slice(1))||We(t,Or(e))||We(t,e))}function ym(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:f,data:h,setupState:m,ctx:v,inheritAttrs:b}=t,E=Yl(t);let O,M;try{if(n.shapeFlag&4){const k=s||r,V=k;O=zn(u.call(V,k,d,f,m,h,v)),M=a}else{const k=e;O=zn(k.length>1?k(f,{attrs:a,slots:o,emit:l}):k(f,null)),M=e.props?a:tA(a)}}catch(k){jo.length=0,Fc(k,t,1),O=ae(Vt)}let D=O;if(M&&b!==!1){const k=Object.keys(M),{shapeFlag:V}=D;k.length&&V&7&&(i&&k.some(Vf)&&(M=nA(M,i)),D=Ir(D,M,!1,!0))}return n.dirs&&(D=Ir(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&ra(D,n.transition),O=D,Yl(E),O}const tA=t=>{let e;for(const n in t)(n==="class"||n==="style"||Cc(n))&&((e||(e={}))[n]=t[n]);return e},nA=(t,e)=>{const n={};for(const r in t)(!Vf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function rA(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?vm(r,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==r[h]&&!jc(u,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?vm(r,o,u):!0:!!o;return!1}function vm(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!jc(n,i))return!0}return!1}function sA({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const $_=t=>t.__isSuspense;function iA(t,e){e&&e.pendingBranch?be(t)?e.effects.push(...t):e.effects.push(t):d0(t)}const Ue=Symbol.for("v-fgt"),zc=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),zu=Symbol.for("v-stc"),jo=[];let gn=null;function $(t=!1){jo.push(gn=t?null:[])}function oA(){jo.pop(),gn=jo[jo.length-1]||null}let oa=1;function Zl(t,e=!1){oa+=t,t<0&&gn&&e&&(gn.hasOnce=!0)}function U_(t){return t.dynamicChildren=oa>0?gn||Ai:null,oA(),oa>0&&gn&&gn.push(t),t}function Ce(t,e,n,r,s,i){return U_(Ke(t,e,n,r,s,i,!0))}function ee(t,e,n,r,s){return U_(ae(t,e,n,r,s,!0))}function Hn(t){return t?t.__v_isVNode===!0:!1}function Ls(t,e){return t.type===e.type&&t.key===e.key}const q_=({key:t})=>t??null,kl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ut(t)||rt(t)||Pe(t)?{i:Ft,r:t,k:e,f:!!n}:t:null);function Ke(t,e=null,n=null,r=0,s=null,i=t===Ue?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&q_(e),ref:e&&kl(e),scopeId:a_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ft};return a?(Xf(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=ut(n)?8:16),oa>0&&!o&&gn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&gn.push(l),l}const ae=aA;function aA(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===b_)&&(t=Vt),Hn(t)){const a=Ir(t,e,!0);return n&&Xf(a,n),oa>0&&!i&&gn&&(a.shapeFlag&6?gn[gn.indexOf(t)]=a:gn.push(a)),a.patchFlag=-2,a}if(mA(t)&&(t=t.__vccOpts),e){e=_s(e);let{class:a,style:l}=e;a&&!ut(a)&&(e.class=ft(a)),tt(l)&&(qf(l)&&!be(l)&&(l=St({},l)),e.style=En(l))}const o=ut(t)?1:$_(t)?128:u_(t)?64:tt(t)?4:Pe(t)?2:0;return Ke(t,e,n,r,s,o,i,!0)}function _s(t){return t?qf(t)||R_(t)?St({},t):t:null}function Ir(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Ie(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&q_(u),ref:e&&e.ref?n&&i?be(i)?i.concat(kl(e)):[i,kl(e)]:kl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ue?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ir(t.ssContent),ssFallback:t.ssFallback&&Ir(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ra(d,l.clone(d)),d}function cn(t=" ",e=0){return ae(zc,null,t,e)}function vt(t="",e=!1){return e?($(),ee(Vt,null,t)):ae(Vt,null,t)}function zn(t){return t==null||typeof t=="boolean"?ae(Vt):be(t)?ae(Ue,null,t.slice()):Hn(t)?Yr(t):ae(zc,null,String(t))}function Yr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ir(t)}function Xf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(be(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Xf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!R_(e)?e._ctx=Ft:s===3&&Ft&&(Ft.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Pe(e)?(e={default:e,_ctx:Ft},n=32):(e=String(e),r&64?(n=16,e=[cn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ie(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ft([e.class,r.class]));else if(s==="style")e.style=En([e.style,r.style]);else if(Cc(s)){const i=e[s],o=r[s];o&&i!==o&&!(be(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Un(t,e,n,r=null){kn(t,e,7,[n,r])}const lA=S_();let cA=0;function uA(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||lA,i={uid:cA++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Mv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:k_(r,s),emitsOptions:B_(r,s),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:r.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Z0.bind(null,i),t.ce&&t.ce(i),i}let Gt=null;const Ut=()=>Gt||Ft;let ec,Vd;{const t=kc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ec=e("__VUE_INSTANCE_SETTERS__",n=>Gt=n),Vd=e("__VUE_SSR_SETTERS__",n=>aa=n)}const Na=t=>{const e=Gt;return ec(t),t.scope.on(),()=>{t.scope.off(),ec(e)}},_m=()=>{Gt&&Gt.scope.off(),ec(null)};function j_(t){return t.vnode.shapeFlag&4}let aa=!1;function dA(t,e=!1,n=!1){e&&Vd(e);const{props:r,children:s}=t.vnode,i=j_(t);B0(t,r,i,e),j0(t,s,n||e);const o=i?fA(t,e):void 0;return e&&Vd(!1),o}function fA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,R0);const{setup:r}=n;if(r){Er();const s=t.setupContext=r.length>1?H_(t):null,i=Na(t),o=ka(r,t,0,[t.props,s]),a=Pv(o);if(Tr(),i(),(a||t.sp)&&!Pi(t)&&__(t),a){if(o.then(_m,_m),e)return o.then(l=>{wm(t,l)}).catch(l=>{Fc(l,t,0)});t.asyncDep=o}else wm(t,o)}else z_(t)}function wm(t,e,n){Pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:tt(e)&&(t.setupState=e_(e)),z_(t)}function z_(t,e,n){const r=t.type;t.render||(t.render=r.render||Kn);{const s=Na(t);Er();try{O0(t)}finally{Tr(),s()}}}const hA={get(t,e){return Wt(t,"get",""),t[e]}};function H_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,hA),slots:t.slots,emit:t.emit,expose:e}}function Hc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(e_(xa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qo)return qo[n](t)},has(e,n){return n in e||n in qo}})):t.proxy}function pA(t,e=!0){return Pe(t)?t.displayName||t.name:t.name||e&&t.__name}function mA(t){return Pe(t)&&"__vccOpts"in t}const ie=(t,e)=>o0(t,e,aa);function un(t,e,n){try{Zl(-1);const r=arguments.length;return r===2?tt(e)&&!be(e)?Hn(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hn(n)&&(n=[n]),ae(t,e,n))}finally{Zl(1)}}const gA="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ld;const bm=typeof window<"u"&&window.trustedTypes;if(bm)try{Ld=bm.createPolicy("vue",{createHTML:t=>t})}catch{}const W_=Ld?t=>Ld.createHTML(t):t=>t,yA="http://www.w3.org/2000/svg",vA="http://www.w3.org/1998/Math/MathML",pr=typeof document<"u"?document:null,Em=pr&&pr.createElement("template"),_A={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?pr.createElementNS(yA,t):e==="mathml"?pr.createElementNS(vA,t):n?pr.createElement(t,{is:n}):pr.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>pr.createTextNode(t),createComment:t=>pr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Em.innerHTML=W_(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Em.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},qr="transition",To="animation",la=Symbol("_vtc"),K_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wA=St({},p_,K_),bA=t=>(t.displayName="Transition",t.props=wA,t),EA=bA((t,{slots:e})=>un(m0,TA(t),e)),ks=(t,e=[])=>{be(t)?t.forEach(n=>n(...e)):t&&t(...e)},Tm=t=>t?be(t)?t.some(e=>e.length>1):t.length>1:!1;function TA(t){const e={};for(const S in t)S in K_||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,v=IA(s),b=v&&v[0],E=v&&v[1],{onBeforeEnter:O,onEnter:M,onEnterCancelled:D,onLeave:k,onLeaveCancelled:V,onBeforeAppear:F=O,onAppear:I=M,onAppearCancelled:w=D}=e,y=(S,C,K,he)=>{S._enterCancelled=he,Os(S,C?d:a),Os(S,C?u:o),K&&K()},_=(S,C)=>{S._isLeaving=!1,Os(S,f),Os(S,m),Os(S,h),C&&C()},A=S=>(C,K)=>{const he=S?I:M,ce=()=>y(C,S,K);ks(he,[C,ce]),Im(()=>{Os(C,S?l:i),ur(C,S?d:a),Tm(he)||Am(C,r,b,ce)})};return St(e,{onBeforeEnter(S){ks(O,[S]),ur(S,i),ur(S,o)},onBeforeAppear(S){ks(F,[S]),ur(S,l),ur(S,u)},onEnter:A(!1),onAppear:A(!0),onLeave(S,C){S._isLeaving=!0;const K=()=>_(S,C);ur(S,f),S._enterCancelled?(ur(S,h),Pm(S)):(Pm(S),ur(S,h)),Im(()=>{S._isLeaving&&(Os(S,f),ur(S,m),Tm(k)||Am(S,r,E,K))}),ks(k,[S,K])},onEnterCancelled(S){y(S,!1,void 0,!0),ks(D,[S])},onAppearCancelled(S){y(S,!0,void 0,!0),ks(w,[S])},onLeaveCancelled(S){_(S),ks(V,[S])}})}function IA(t){if(t==null)return null;if(tt(t))return[Hu(t.enter),Hu(t.leave)];{const e=Hu(t);return[e,e]}}function Hu(t){return PI(t)}function ur(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[la]||(t[la]=new Set)).add(e)}function Os(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[la];n&&(n.delete(e),n.size||(t[la]=void 0))}function Im(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let AA=0;function Am(t,e,n,r){const s=t._endId=++AA,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=SA(t,e);if(!o)return r();const u=o+"end";let d=0;const f=()=>{t.removeEventListener(u,h),i()},h=m=>{m.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),t.addEventListener(u,h)}function SA(t,e){const n=window.getComputedStyle(t),r=v=>(n[v]||"").split(", "),s=r(`${qr}Delay`),i=r(`${qr}Duration`),o=Sm(s,i),a=r(`${To}Delay`),l=r(`${To}Duration`),u=Sm(a,l);let d=null,f=0,h=0;e===qr?o>0&&(d=qr,f=o,h=i.length):e===To?u>0&&(d=To,f=u,h=l.length):(f=Math.max(o,u),d=f>0?o>u?qr:To:null,h=d?d===qr?i.length:l.length:0);const m=d===qr&&/\b(?:transform|all)(?:,|$)/.test(r(`${qr}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:m}}function Sm(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Cm(n)+Cm(t[r])))}function Cm(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Pm(t){return(t?t.ownerDocument:document).body.offsetHeight}function CA(t,e,n){const r=t[la];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Rm=Symbol("_vod"),PA=Symbol("_vsh"),RA=Symbol(""),xA=/(?:^|;)\s*display\s*:/;function kA(t,e,n){const r=t.style,s=ut(n);let i=!1;if(n&&!s){if(e)if(ut(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Ol(r,a,"")}else for(const o in e)n[o]==null&&Ol(r,o,"");for(const o in n)o==="display"&&(i=!0),Ol(r,o,n[o])}else if(s){if(e!==n){const o=r[RA];o&&(n+=";"+o),r.cssText=n,i=xA.test(n)}}else e&&t.removeAttribute("style");Rm in t&&(t[Rm]=i?r.display:"",t[PA]&&(r.display="none"))}const xm=/\s*!important$/;function Ol(t,e,n){if(be(n))n.forEach(r=>Ol(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=OA(t,e);xm.test(n)?t.setProperty(Or(r),n.replace(xm,""),"important"):t[r]=n}}const km=["Webkit","Moz","ms"],Wu={};function OA(t,e){const n=Wu[e];if(n)return n;let r=tn(e);if(r!=="filter"&&r in t)return Wu[e]=r;r=xc(r);for(let s=0;s<km.length;s++){const i=km[s]+r;if(i in t)return Wu[e]=i}return e}const Om="http://www.w3.org/1999/xlink";function Dm(t,e,n,r,s,i=NI(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Om,e.slice(6,e.length)):t.setAttributeNS(Om,e,n):n==null||i&&!Ov(n)?t.removeAttribute(e):t.setAttribute(e,i?"":kr(n)?String(n):n)}function Nm(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?W_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Ov(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function yi(t,e,n,r){t.addEventListener(e,n,r)}function DA(t,e,n,r){t.removeEventListener(e,n,r)}const Mm=Symbol("_vei");function NA(t,e,n,r,s=null){const i=t[Mm]||(t[Mm]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=MA(e);if(r){const u=i[e]=FA(r,s);yi(t,a,u,l)}else o&&(DA(t,a,o,l),i[e]=void 0)}}const Vm=/(?:Once|Passive|Capture)$/;function MA(t){let e;if(Vm.test(t)){e={};let r;for(;r=t.match(Vm);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Or(t.slice(2)),e]}let Ku=0;const VA=Promise.resolve(),LA=()=>Ku||(VA.then(()=>Ku=0),Ku=Date.now());function FA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;kn(BA(r,n.value),e,5,[r])};return n.value=t,n.attached=LA(),n}function BA(t,e){if(be(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Lm=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,$A=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?CA(t,r,o):e==="style"?kA(t,n,r):Cc(e)?Vf(e)||NA(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):UA(t,e,r,o))?(Nm(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Dm(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ut(r))?Nm(t,tn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Dm(t,e,r,o))};function UA(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Lm(e)&&Pe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Lm(e)&&ut(n)?!1:e in t}const Fm=t=>{const e=t.props["onUpdate:modelValue"]||!1;return be(e)?n=>Rl(e,n):e};function qA(t){t.target.composing=!0}function Bm(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gu=Symbol("_assign"),jA={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Gu]=Fm(s);const i=r||s.props&&s.props.type==="number";yi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Sd(a)),t[Gu](a)}),n&&yi(t,"change",()=>{t.value=t.value.trim()}),e||(yi(t,"compositionstart",qA),yi(t,"compositionend",Bm),yi(t,"change",Bm))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Gu]=Fm(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Sd(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},zA=["ctrl","shift","alt","meta"],HA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>zA.some(n=>t[`${n}Key`]&&!e.includes(n))},xi=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=HA[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},WA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},KA=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=Or(s.key);if(e.some(o=>o===i||WA[o]===i))return t(s)}))},GA=St({patchProp:$A},_A);let $m;function QA(){return $m||($m=H0(GA))}const YA=((...t)=>{const e=QA().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=JA(r);if(!s)return;const i=e._component;!Pe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,XA(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function XA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function JA(t){return ut(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let G_;const Wc=t=>G_=t,Q_=Symbol();function Fd(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var zo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zo||(zo={}));function ZA(){const t=Oc(!0),e=t.run(()=>j({}));let n=[],r=[];const s=xa({install(i){Wc(s),s._a=i,i.provide(Q_,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Y_=()=>{};function Um(t,e,n,r=Y_){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Ra()&&Dc(s),s}function hi(t,...e){t.slice().forEach(n=>{n(...e)})}const eS=t=>t(),qm=Symbol(),Qu=Symbol();function Bd(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Fd(s)&&Fd(r)&&t.hasOwnProperty(n)&&!rt(r)&&!ss(r)?t[n]=Bd(s,r):t[n]=r}return t}const tS=Symbol();function nS(t){return!Fd(t)||!Object.prototype.hasOwnProperty.call(t,tS)}const{assign:Kr}=Object;function rS(t){return!!(rt(t)&&t.effect)}function sS(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=s?s():{});const d=In(n.state.value[t]);return Kr(d,i,Object.keys(o||{}).reduce((f,h)=>(f[h]=xa(ie(()=>{Wc(n);const m=n._s.get(t);return o[h].call(m,m)})),f),{}))}return l=X_(t,u,e,n,r,!0),l}function X_(t,e,n={},r,s,i){let o;const a=Kr({actions:{}},n),l={deep:!0};let u,d,f=[],h=[],m;const v=r.state.value[t];!i&&!v&&(r.state.value[t]={}),j({});let b;function E(w){let y;u=d=!1,typeof w=="function"?(w(r.state.value[t]),y={type:zo.patchFunction,storeId:t,events:m}):(Bd(r.state.value[t],w),y={type:zo.patchObject,payload:w,storeId:t,events:m});const _=b=Symbol();Xe().then(()=>{b===_&&(u=!0)}),d=!0,hi(f,y,r.state.value[t])}const O=i?function(){const{state:y}=n,_=y?y():{};this.$patch(A=>{Kr(A,_)})}:Y_;function M(){o.stop(),f=[],h=[],r._s.delete(t)}const D=(w,y="")=>{if(qm in w)return w[Qu]=y,w;const _=function(){Wc(r);const A=Array.from(arguments),S=[],C=[];function K(de){S.push(de)}function he(de){C.push(de)}hi(h,{args:A,name:_[Qu],store:V,after:K,onError:he});let ce;try{ce=w.apply(this&&this.$id===t?this:V,A)}catch(de){throw hi(C,de),de}return ce instanceof Promise?ce.then(de=>(hi(S,de),de)).catch(de=>(hi(C,de),Promise.reject(de))):(hi(S,ce),ce)};return _[qm]=!0,_[Qu]=y,_},k={_p:r,$id:t,$onAction:Um.bind(null,h),$patch:E,$reset:O,$subscribe(w,y={}){const _=Um(f,w,y.detached,()=>A()),A=o.run(()=>Le(()=>r.state.value[t],S=>{(y.flush==="sync"?d:u)&&w({storeId:t,type:zo.direct,events:m},S)},Kr({},l,y)));return _},$dispose:M},V=nr(k);r._s.set(t,V);const I=(r._a&&r._a.runWithContext||eS)(()=>r._e.run(()=>(o=Oc()).run(()=>e({action:D}))));for(const w in I){const y=I[w];if(rt(y)&&!rS(y)||ss(y))i||(v&&nS(y)&&(rt(y)?y.value=v[w]:Bd(y,v[w])),r.state.value[t][w]=y);else if(typeof y=="function"){const _=D(y,w);I[w]=_,a.actions[w]=y}}return Kr(V,I),Kr($e(V),I),Object.defineProperty(V,"$state",{get:()=>r.state.value[t],set:w=>{E(y=>{Kr(y,w)})}}),r._p.forEach(w=>{Kr(V,o.run(()=>w({store:V,app:r._a,pinia:r,options:a})))}),v&&i&&n.hydrate&&n.hydrate(V.$state,v),u=!0,d=!0,V}/*! #__NO_SIDE_EFFECTS__ */function J_(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,a){const l=Kf();return o=o||(l?ln(Q_,null):null),o&&Wc(o),o=G_,o._s.has(t)||(s?X_(t,e,r,o):sS(t,r,o)),o._s.get(t)}return i.$id=t,i}const iS={mounted(t,e){t.clickOutsideEvent=function(n){t===n.target||t.contains(n.target)||e.value(n)},document.addEventListener("click",t.clickOutsideEvent)},unmounted(t){t.clickOutsideEvent&&(document.removeEventListener("click",t.clickOutsideEvent),delete t.clickOutsideEvent)}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const vi=typeof document<"u";function Z_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function oS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Z_(t.default)}const He=Object.assign;function Yu(t,e){const n={};for(const r in e){const s=e[r];n[r]=Dn(s)?s.map(t):t(s)}return n}const Ho=()=>{},Dn=Array.isArray,ew=/#/g,aS=/&/g,lS=/\//g,cS=/=/g,uS=/\?/g,tw=/\+/g,dS=/%5B/g,fS=/%5D/g,nw=/%5E/g,hS=/%60/g,rw=/%7B/g,pS=/%7C/g,sw=/%7D/g,mS=/%20/g;function Jf(t){return encodeURI(""+t).replace(pS,"|").replace(dS,"[").replace(fS,"]")}function gS(t){return Jf(t).replace(rw,"{").replace(sw,"}").replace(nw,"^")}function $d(t){return Jf(t).replace(tw,"%2B").replace(mS,"+").replace(ew,"%23").replace(aS,"%26").replace(hS,"`").replace(rw,"{").replace(sw,"}").replace(nw,"^")}function yS(t){return $d(t).replace(cS,"%3D")}function vS(t){return Jf(t).replace(ew,"%23").replace(uS,"%3F")}function _S(t){return t==null?"":vS(t).replace(lS,"%2F")}function ca(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const wS=/\/$/,bS=t=>t.replace(wS,"");function Xu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=AS(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:ca(o)}}function ES(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function TS(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Li(e.matched[r],n.matched[s])&&iw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Li(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function iw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!IS(t[n],e[n]))return!1;return!0}function IS(t,e){return Dn(t)?zm(t,e):Dn(e)?zm(e,t):t===e}function zm(t,e){return Dn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function AS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const jr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ua;(function(t){t.pop="pop",t.push="push"})(ua||(ua={}));var Wo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wo||(Wo={}));function SS(t){if(!t)if(vi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bS(t)}const CS=/^[^#]+#/;function PS(t,e){return t.replace(CS,"#")+e}function RS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Kc=()=>({left:window.scrollX,top:window.scrollY});function xS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=RS(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Hm(t,e){return(history.state?history.state.position-e:-1)+t}const Ud=new Map;function kS(t,e){Ud.set(t,e)}function OS(t){const e=Ud.get(t);return Ud.delete(t),e}let DS=()=>location.protocol+"//"+location.host;function ow(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),jm(l,"")}return jm(n,t)+r+s}function NS(t,e,n,r){let s=[],i=[],o=null;const a=({state:h})=>{const m=ow(t,location),v=n.value,b=e.value;let E=0;if(h){if(n.value=m,e.value=h,o&&o===v){o=null;return}E=b?h.position-b.position:0}else r(m);s.forEach(O=>{O(n.value,v,{delta:E,type:ua.pop,direction:E?E>0?Wo.forward:Wo.back:Wo.unknown})})};function l(){o=n.value}function u(h){s.push(h);const m=()=>{const v=s.indexOf(h);v>-1&&s.splice(v,1)};return i.push(m),m}function d(){const{history:h}=window;h.state&&h.replaceState(He({},h.state,{scroll:Kc()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Wm(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Kc():null}}function MS(t){const{history:e,location:n}=window,r={value:ow(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,d){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:DS()+t+l;try{e[d?"replaceState":"pushState"](u,"",h),s.value=u}catch(m){console.error(m),n[d?"replace":"assign"](h)}}function o(l,u){const d=He({},e.state,Wm(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,d,!0),r.value=l}function a(l,u){const d=He({},s.value,e.state,{forward:l,scroll:Kc()});i(d.current,d,!0);const f=He({},Wm(r.value,l,null),{position:d.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function VS(t){t=SS(t);const e=MS(t),n=NS(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=He({location:"",base:t,go:r,createHref:PS.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function LS(t){return typeof t=="string"||t&&typeof t=="object"}function aw(t){return typeof t=="string"||typeof t=="symbol"}const lw=Symbol("");var Km;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Km||(Km={}));function Fi(t,e){return He(new Error,{type:t,[lw]:!0},e)}function dr(t,e){return t instanceof Error&&lw in t&&(e==null||!!(t.type&e))}const Gm="[^/]+?",FS={sensitive:!1,strict:!1,start:!0,end:!0},BS=/[.+*?^${}()[\]/\\]/g;function $S(t,e){const n=He({},FS,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const h=u[f];let m=40+(n.sensitive?.25:0);if(h.type===0)f||(s+="/"),s+=h.value.replace(BS,"\\$&"),m+=40;else if(h.type===1){const{value:v,repeatable:b,optional:E,regexp:O}=h;i.push({name:v,repeatable:b,optional:E});const M=O||Gm;if(M!==Gm){m+=10;try{new RegExp(`(${M})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${v}" (${M}): `+k.message)}}let D=b?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;f||(D=E&&u.length<2?`(?:/${D})`:"/"+D),E&&(D+="?"),s+=D,m+=20,E&&(m+=-8),b&&(m+=-20),M===".*"&&(m+=-50)}d.push(m)}r.push(d)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const d=u.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const m=d[h]||"",v=i[h-1];f[v.name]=m&&v.repeatable?m.split("/"):m}return f}function l(u){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of h)if(m.type===0)d+=m.value;else if(m.type===1){const{value:v,repeatable:b,optional:E}=m,O=v in u?u[v]:"";if(Dn(O)&&!b)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const M=Dn(O)?O.join("/"):O;if(!M)if(E)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);d+=M}}return d||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function US(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function cw(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=US(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Qm(r))return 1;if(Qm(s))return-1}return s.length-r.length}function Qm(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const qS={type:0,value:""},jS=/[a-zA-Z0-9_]/;function zS(t){if(!t)return[[]];if(t==="/")return[[qS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",d="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:jS.test(l)?h():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function HS(t,e,n){const r=$S(zS(t.path),n),s=He(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function WS(t,e){const n=[],r=new Map;e=Zm({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,h,m){const v=!m,b=Xm(f);b.aliasOf=m&&m.record;const E=Zm(e,f),O=[b];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const V of k)O.push(Xm(He({},b,{components:m?m.record.components:b.components,path:V,aliasOf:m?m.record:b})))}let M,D;for(const k of O){const{path:V}=k;if(h&&V[0]!=="/"){const F=h.record.path,I=F[F.length-1]==="/"?"":"/";k.path=h.record.path+(V&&I+V)}if(M=HS(k,h,E),m?m.alias.push(M):(D=D||M,D!==M&&D.alias.push(M),v&&f.name&&!Jm(M)&&o(f.name)),uw(M)&&l(M),b.children){const F=b.children;for(let I=0;I<F.length;I++)i(F[I],M,m&&m.children[I])}m=m||M}return D?()=>{o(D)}:Ho}function o(f){if(aw(f)){const h=r.get(f);h&&(r.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const h=QS(f,n);n.splice(h,0,f),f.record.name&&!Jm(f)&&r.set(f.record.name,f)}function u(f,h){let m,v={},b,E;if("name"in f&&f.name){if(m=r.get(f.name),!m)throw Fi(1,{location:f});E=m.record.name,v=He(Ym(h.params,m.keys.filter(D=>!D.optional).concat(m.parent?m.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),f.params&&Ym(f.params,m.keys.map(D=>D.name))),b=m.stringify(v)}else if(f.path!=null)b=f.path,m=n.find(D=>D.re.test(b)),m&&(v=m.parse(b),E=m.record.name);else{if(m=h.name?r.get(h.name):n.find(D=>D.re.test(h.path)),!m)throw Fi(1,{location:f,currentLocation:h});E=m.record.name,v=He({},h.params,f.params),b=m.stringify(v)}const O=[];let M=m;for(;M;)O.unshift(M.record),M=M.parent;return{name:E,path:b,params:v,matched:O,meta:GS(O)}}t.forEach(f=>i(f));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:s}}function Ym(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Xm(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:KS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function KS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Jm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function GS(t){return t.reduce((e,n)=>He(e,n.meta),{})}function Zm(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function QS(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;cw(t,e[i])<0?r=i:n=i+1}const s=YS(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function YS(t){let e=t;for(;e=e.parent;)if(uw(e)&&cw(t,e)===0)return e}function uw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function XS(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(tw," "),o=i.indexOf("="),a=ca(o<0?i:i.slice(0,o)),l=o<0?null:ca(i.slice(o+1));if(a in e){let u=e[a];Dn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function eg(t){let e="";for(let n in t){const r=t[n];if(n=yS(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Dn(r)?r.map(i=>i&&$d(i)):[r&&$d(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function JS(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Dn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const ZS=Symbol(""),tg=Symbol(""),Gc=Symbol(""),dw=Symbol(""),qd=Symbol("");function Io(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Fi(4,{from:n,to:e})):h instanceof Error?l(h):LS(h)?l(Fi(2,{from:e,to:h})):(o&&r.enterCallbacks[s]===o&&typeof h=="function"&&o.push(h),a())},d=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function Ju(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Z_(l)){const d=(l.__vccOpts||l)[e];d&&i.push(Xr(d,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=oS(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const m=(f.__vccOpts||f)[e];return m&&Xr(m,n,r,o,a,s)()}))}}return i}function ng(t){const e=ln(Gc),n=ln(dw),r=ie(()=>{const l=T(t.to);return e.resolve(l)}),s=ie(()=>{const{matched:l}=r.value,{length:u}=l,d=l[u-1],f=n.matched;if(!d||!f.length)return-1;const h=f.findIndex(Li.bind(null,d));if(h>-1)return h;const m=rg(l[u-2]);return u>1&&rg(d)===m&&f[f.length-1].path!==m?f.findIndex(Li.bind(null,l[u-2])):h}),i=ie(()=>s.value>-1&&sC(n.params,r.value.params)),o=ie(()=>s.value>-1&&s.value===n.matched.length-1&&iw(n.params,r.value.params));function a(l={}){if(rC(l)){const u=e[T(t.replace)?"replace":"push"](T(t.to)).catch(Ho);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ie(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function eC(t){return t.length===1?t[0]:t}const tC=J({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ng,setup(t,{slots:e}){const n=nr(ng(t)),{options:r}=ln(Gc),s=ie(()=>({[sg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[sg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&eC(e.default(n));return t.custom?i:un("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),nC=tC;function rC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function sC(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Dn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function rg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sg=(t,e,n)=>t??e??n,iC=J({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ln(qd),s=ie(()=>t.route||r.value),i=ln(tg,0),o=ie(()=>{let u=T(i);const{matched:d}=s.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=ie(()=>s.value.matched[o.value]);Ri(tg,ie(()=>o.value+1)),Ri(ZS,a),Ri(qd,s);const l=j();return Le(()=>[l.value,a.value,t.name],([u,d,f],[h,m,v])=>{d&&(d.instances[f]=u,m&&m!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),u&&d&&(!m||!Li(d,m)||!h)&&(d.enterCallbacks[f]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=s.value,d=t.name,f=a.value,h=f&&f.components[d];if(!h)return ig(n.default,{Component:h,route:u});const m=f.props[d],v=m?m===!0?u.params:typeof m=="function"?m(u):m:null,E=un(h,He({},v,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return ig(n.default,{Component:E,route:u})||E}}});function ig(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const oC=iC;function aC(t){const e=WS(t.routes,t),n=t.parseQuery||XS,r=t.stringifyQuery||eg,s=t.history,i=Io(),o=Io(),a=Io(),l=Gn(jr);let u=jr;vi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Yu.bind(null,x=>""+x),f=Yu.bind(null,_S),h=Yu.bind(null,ca);function m(x,Z){let z,se;return aw(x)?(z=e.getRecordMatcher(x),se=Z):se=x,e.addRoute(se,z)}function v(x){const Z=e.getRecordMatcher(x);Z&&e.removeRoute(Z)}function b(){return e.getRoutes().map(x=>x.record)}function E(x){return!!e.getRecordMatcher(x)}function O(x,Z){if(Z=He({},Z||l.value),typeof x=="string"){const L=Xu(n,x,Z.path),W=e.resolve({path:L.path},Z),Q=s.createHref(L.fullPath);return He(L,W,{params:h(W.params),hash:ca(L.hash),redirectedFrom:void 0,href:Q})}let z;if(x.path!=null)z=He({},x,{path:Xu(n,x.path,Z.path).path});else{const L=He({},x.params);for(const W in L)L[W]==null&&delete L[W];z=He({},x,{params:f(L)}),Z.params=f(Z.params)}const se=e.resolve(z,Z),_e=x.hash||"";se.params=d(h(se.params));const R=ES(r,He({},x,{hash:gS(_e),path:se.path})),N=s.createHref(R);return He({fullPath:R,hash:_e,query:r===eg?JS(x.query):x.query||{}},se,{redirectedFrom:void 0,href:N})}function M(x){return typeof x=="string"?Xu(n,x,l.value.path):He({},x)}function D(x,Z){if(u!==x)return Fi(8,{from:Z,to:x})}function k(x){return I(x)}function V(x){return k(He(M(x),{replace:!0}))}function F(x){const Z=x.matched[x.matched.length-1];if(Z&&Z.redirect){const{redirect:z}=Z;let se=typeof z=="function"?z(x):z;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=M(se):{path:se},se.params={}),He({query:x.query,hash:x.hash,params:se.path!=null?{}:x.params},se)}}function I(x,Z){const z=u=O(x),se=l.value,_e=x.state,R=x.force,N=x.replace===!0,L=F(z);if(L)return I(He(M(L),{state:typeof L=="object"?He({},_e,L.state):_e,force:R,replace:N}),Z||z);const W=z;W.redirectedFrom=Z;let Q;return!R&&TS(r,se,z)&&(Q=Fi(16,{to:W,from:se}),it(se,se,!0,!1)),(Q?Promise.resolve(Q):_(W,se)).catch(H=>dr(H)?dr(H,2)?H:ct(H):Y(H,W,se)).then(H=>{if(H){if(dr(H,2))return I(He({replace:N},M(H.to),{state:typeof H.to=="object"?He({},_e,H.to.state):_e,force:R}),Z||W)}else H=S(W,se,!0,N,_e);return A(W,se,H),H})}function w(x,Z){const z=D(x,Z);return z?Promise.reject(z):Promise.resolve()}function y(x){const Z=qe.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(x):x()}function _(x,Z){let z;const[se,_e,R]=lC(x,Z);z=Ju(se.reverse(),"beforeRouteLeave",x,Z);for(const L of se)L.leaveGuards.forEach(W=>{z.push(Xr(W,x,Z))});const N=w.bind(null,x,Z);return z.push(N),mt(z).then(()=>{z=[];for(const L of i.list())z.push(Xr(L,x,Z));return z.push(N),mt(z)}).then(()=>{z=Ju(_e,"beforeRouteUpdate",x,Z);for(const L of _e)L.updateGuards.forEach(W=>{z.push(Xr(W,x,Z))});return z.push(N),mt(z)}).then(()=>{z=[];for(const L of R)if(L.beforeEnter)if(Dn(L.beforeEnter))for(const W of L.beforeEnter)z.push(Xr(W,x,Z));else z.push(Xr(L.beforeEnter,x,Z));return z.push(N),mt(z)}).then(()=>(x.matched.forEach(L=>L.enterCallbacks={}),z=Ju(R,"beforeRouteEnter",x,Z,y),z.push(N),mt(z))).then(()=>{z=[];for(const L of o.list())z.push(Xr(L,x,Z));return z.push(N),mt(z)}).catch(L=>dr(L,8)?L:Promise.reject(L))}function A(x,Z,z){a.list().forEach(se=>y(()=>se(x,Z,z)))}function S(x,Z,z,se,_e){const R=D(x,Z);if(R)return R;const N=Z===jr,L=vi?history.state:{};z&&(se||N?s.replace(x.fullPath,He({scroll:N&&L&&L.scroll},_e)):s.push(x.fullPath,_e)),l.value=x,it(x,Z,z,N),ct()}let C;function K(){C||(C=s.listen((x,Z,z)=>{if(!Ot.listening)return;const se=O(x),_e=F(se);if(_e){I(He(_e,{replace:!0,force:!0}),se).catch(Ho);return}u=se;const R=l.value;vi&&kS(Hm(R.fullPath,z.delta),Kc()),_(se,R).catch(N=>dr(N,12)?N:dr(N,2)?(I(He(M(N.to),{force:!0}),se).then(L=>{dr(L,20)&&!z.delta&&z.type===ua.pop&&s.go(-1,!1)}).catch(Ho),Promise.reject()):(z.delta&&s.go(-z.delta,!1),Y(N,se,R))).then(N=>{N=N||S(se,R,!1),N&&(z.delta&&!dr(N,8)?s.go(-z.delta,!1):z.type===ua.pop&&dr(N,20)&&s.go(-1,!1)),A(se,R,N)}).catch(Ho)}))}let he=Io(),ce=Io(),de;function Y(x,Z,z){ct(x);const se=ce.list();return se.length?se.forEach(_e=>_e(x,Z,z)):console.error(x),Promise.reject(x)}function je(){return de&&l.value!==jr?Promise.resolve():new Promise((x,Z)=>{he.add([x,Z])})}function ct(x){return de||(de=!x,K(),he.list().forEach(([Z,z])=>x?z(x):Z()),he.reset()),x}function it(x,Z,z,se){const{scrollBehavior:_e}=t;if(!vi||!_e)return Promise.resolve();const R=!z&&OS(Hm(x.fullPath,0))||(se||!z)&&history.state&&history.state.scroll||null;return Xe().then(()=>_e(x,Z,R)).then(N=>N&&xS(N)).catch(N=>Y(N,x,Z))}const Ze=x=>s.go(x);let Qe;const qe=new Set,Ot={currentRoute:l,listening:!0,addRoute:m,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:b,resolve:O,options:t,push:k,replace:V,go:Ze,back:()=>Ze(-1),forward:()=>Ze(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:je,install(x){const Z=this;x.component("RouterLink",nC),x.component("RouterView",oC),x.config.globalProperties.$router=Z,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>T(l)}),vi&&!Qe&&l.value===jr&&(Qe=!0,k(s.location).catch(_e=>{}));const z={};for(const _e in jr)Object.defineProperty(z,_e,{get:()=>l.value[_e],enumerable:!0});x.provide(Gc,Z),x.provide(dw,Jv(z)),x.provide(qd,l);const se=x.unmount;qe.add(x),x.unmount=function(){qe.delete(x),qe.size<1&&(u=jr,C&&C(),C=null,l.value=jr,Qe=!1,de=!1),se()}}};function mt(x){return x.reduce((Z,z)=>Z.then(()=>y(z)),Promise.resolve())}return Ot}function lC(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>Li(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Li(u,l))||s.push(l))}return[n,r,s]}function fw(){return ln(Gc)}const cC=J({__name:"RouteButton",props:{to:{type:String,required:!0}},setup(t){const e=t,r=fw().options.routes.find(s=>s.path===e.to)?.name;return(s,i)=>{const o=Uc("RouterLink");return $(),ee(o,{to:e.to,class:"hover:text-primary transition-colors"},{default:q(()=>[cn(xt(T(r)||"PATH NOT FOUND"),1)]),_:1},8,["to"])}}});function og(t){return typeof t=="string"?`'${t}'`:new uC().serialize(t)}const uC=(function(){class t{#e=new Map;compare(n,r){const s=typeof n,i=typeof r;return s==="string"&&i==="string"?n.localeCompare(r):s==="number"&&i==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const s=n.constructor,i=s===Object||s===void 0?"":s.name;if(i!==""&&globalThis[i]===s)return this.serializeBuiltInType(i,n);if(typeof n.toJSON=="function"){const o=n.toJSON();return i+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(i,Object.entries(n))}serializeBuiltInType(n,r){const s=this["$"+n];if(s)return s.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const s=Array.from(r).sort((o,a)=>this.compare(o[0],a[0]));let i=`${n}{`;for(let o=0;o<s.length;o++){const[a,l]=s[o];i+=`${this.serialize(a,!0)}:${this.serialize(l)}`,o<s.length-1&&(i+=",")}return i+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let s=0;s<n.length;s++)r+=this.serialize(n[s]),s<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,s)=>this.compare(r,s)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const e of["Error","RegExp","URL"])t.prototype["$"+e]=function(n){return`${e}(${n})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])t.prototype["$"+e]=function(n){return`${e}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function dC(t,e){return t===e||og(t)===og(e)}function ag(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}function nn(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o=>{const a=ln(r,o);if(a||a===null)return a;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(Ri(r,o),o)]}function Qt(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function Zf(t,e,n){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),r.dispatchEvent(s)}function lg(t){return t==null}function eh(t){return t?t.flatMap(e=>e.type===Ue?eh(e.children):[e]):[]}const fC=["INPUT","TEXTAREA"];function hC(t,e,n,r={}){if(!e||r.enableIgnoredElement&&fC.includes(e.nodeName))return null;const{arrowKeyOptions:s="both",attributeName:i="[data-reka-collection-item]",itemsArray:o=[],loop:a=!0,dir:l="ltr",preventScroll:u=!0,focus:d=!1}=r,[f,h,m,v,b,E]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],O=m||v,M=f||h;if(!b&&!E&&(!O&&!M||s==="vertical"&&M||s==="horizontal"&&O))return null;const D=n?Array.from(n.querySelectorAll(i)):o;if(!D.length)return null;u&&t.preventDefault();let k=null;return M||O?k=hw(D,e,{goForward:O?v:l==="ltr"?f:h,loop:a}):b?k=D.at(0)||null:E&&(k=D.at(-1)||null),d&&k?.focus(),k}function hw(t,e,n,r=t.length){if(--r===0)return null;const s=t.indexOf(e),i=n.goForward?s+1:s-1;if(!n.loop&&(i<0||i>=t.length))return null;const o=(i+t.length)%t.length,a=t[o];return a?a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false"?hw(t,a,n,r):a:null}const[th]=nn("ConfigProvider");function pC(t,e){var n;const r=Gn();return at(()=>{r.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),Vi(r)}function Qc(t){return Ra()?(Dc(t),!0):!1}function mC(t){let e=!1,n;const r=Oc(!0);return(...s)=>(e||(n=r.run(()=>t(...s)),e=!0),n)}function pw(t){let e=0,n,r;const s=()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)};return(...i)=>(e+=1,r||(r=Oc(!0),n=r.run(()=>t(...i))),Qc(s),n)}const Nr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const gC=t=>typeof t<"u",yC=Object.prototype.toString,vC=t=>yC.call(t)==="[object Object]",cg=()=>{},ug=_C();function _C(){var t,e;return Nr&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function wC(t,e){function n(...r){return new Promise((s,i)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(i)})}return n}function bC(t,e={}){let n,r,s=cg;const i=l=>{clearTimeout(l),s(),s=cg};let o;return l=>{const u=st(t),d=st(e.maxWait);return n&&i(n),u<=0||d!==void 0&&d<=0?(r&&(i(r),r=null),Promise.resolve(l())):new Promise((f,h)=>{s=e.rejectOnCancel?h:f,o=l,d&&!r&&(r=setTimeout(()=>{n&&i(n),r=null,f(o())},d)),n=setTimeout(()=>{r&&i(r),r=null,f(l())},u)})}}function EC(t){return Ut()}function Zu(t){return Array.isArray(t)?t:[t]}function TC(t,e=1e4){return jf((n,r)=>{let s=st(t),i;const o=()=>setTimeout(()=>{s=st(t),r()},st(e));return Qc(()=>{clearTimeout(i)}),{get(){return n(),s},set(a){s=a,r(),clearTimeout(i),i=o()}}})}function d$(t,e=200,n={}){return wC(bC(e,n),t)}const IC=st;function AC(t,e){EC()&&Oa(t,e)}function SC(t,e,n){return Le(t,e,{...n,immediate:!0})}function f$(t,e,n){const r=Le(t,(...s)=>(Xe(()=>r()),e(...s)),n);return r}const Yc=Nr?window:void 0;function rr(t){var e;const n=st(t);return(e=n?.$el)!=null?e:n}function tc(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,u,d)=>(a.addEventListener(l,u,d),()=>a.removeEventListener(l,u,d)),s=ie(()=>{const a=Zu(st(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),i=SC(()=>{var a,l;return[(l=(a=s.value)==null?void 0:a.map(u=>rr(u)))!=null?l:[Yc].filter(u=>u!=null),Zu(st(s.value?t[1]:t[0])),Zu(T(s.value?t[2]:t[1])),st(s.value?t[3]:t[2])]},([a,l,u,d])=>{if(n(),!a?.length||!l?.length||!u?.length)return;const f=vC(d)?{...d}:d;e.push(...a.flatMap(h=>l.flatMap(m=>u.map(v=>r(h,m,v,f)))))},{flush:"post"}),o=()=>{i(),n()};return Qc(n),o}function mw(){const t=Gn(!1),e=Ut();return e&&_t(()=>{t.value=!0},e),t}function CC(t){const e=mw();return ie(()=>(e.value,!!t()))}function PC(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function RC(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:s=Yc,eventName:i="keydown",passive:o=!1,dedupe:a=!1}=r,l=PC(e);return tc(s,i,d=>{d.repeat&&st(a)||l(d)&&n(d)},o)}function xC(t){return JSON.parse(JSON.stringify(t))}function kC(t,e,n={}){const{window:r=Yc,...s}=n;let i;const o=CC(()=>r&&"ResizeObserver"in r),a=()=>{i&&(i.disconnect(),i=void 0)},l=ie(()=>{const f=st(t);return Array.isArray(f)?f.map(h=>rr(h)):[rr(f)]}),u=Le(l,f=>{if(a(),o.value&&r){i=new ResizeObserver(e);for(const h of f)h&&i.observe(h,s)}},{immediate:!0,flush:"post"}),d=()=>{a(),u()};return Qc(d),{isSupported:o,stop:d}}function Bi(t,e,n,r={}){var s,i,o;const{clone:a=!1,passive:l=!1,eventName:u,deep:d=!1,defaultValue:f,shouldEmit:h}=r,m=Ut(),v=n||m?.emit||((s=m?.$emit)==null?void 0:s.bind(m))||((o=(i=m?.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(m?.proxy));let b=u;e||(e="modelValue"),b=b||`update:${e.toString()}`;const E=D=>a?typeof a=="function"?a(D):xC(D):D,O=()=>gC(t[e])?E(t[e]):f,M=D=>{h?h(D)&&v(b,D):v(b,D)};if(l){const D=O(),k=j(D);let V=!1;return Le(()=>t[e],F=>{V||(V=!0,k.value=E(F),Xe(()=>V=!1))}),Le(k,F=>{!V&&(F!==t[e]||d)&&M(F)},{deep:d}),k}else return ie({get(){return O()},set(D){M(D)}})}function ed(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function jd(t,e,n=".",r){if(!ed(e))return jd(t,{},n,r);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(r&&r(s,i,o,n)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:ed(o)&&ed(s[i])?s[i]=jd(o,s[i],(n?`${n}.`:"")+i.toString(),r):s[i]=o))}return s}function OC(t){return(...e)=>e.reduce((n,r)=>jd(n,r,"",t),{})}const DC=OC(),NC=pw(()=>{const t=j(new Map),e=j(),n=ie(()=>{for(const o of t.value.values())if(o)return!0;return!1}),r=th({scrollBody:j(!0)});let s=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",ug&&s?.(),e.value=void 0};return Le(n,(o,a)=>{if(!Nr)return;if(!o){a&&i();return}e.value===void 0&&(e.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,u={padding:l,margin:0},d=r.scrollBody?.value?typeof r.scrollBody.value=="object"?DC({padding:r.scrollBody.value.padding===!0?l:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?l:r.scrollBody.value.margin},u):u:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.documentElement.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),ug&&(s=tc(document,"touchmove",f=>MC(f),{passive:!1})),Xe(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function nh(t){const e=Math.random().toString(36).substring(2,7),n=NC();n.value.set(e,t??!1);const r=ie({get:()=>n.value.get(e)??!1,set:s=>n.value.set(e,s)});return AC(()=>{n.value.delete(e)}),r}function gw(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:gw(n)}}function MC(t){const e=t||window.event,n=e.target;return n instanceof Element&&gw(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function Xc(t){const e=th({dir:j("ltr")});return ie(()=>t?.value||e.dir?.value||"ltr")}function Ma(t){const e=Ut(),n=e?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(s=>{r[Pl(tn(s))]=(...i)=>t(s,...i)}),r}let td=0;function yw(){at(t=>{if(!Nr)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??dg()),document.body.insertAdjacentElement("beforeend",e[1]??dg()),td++,t(()=>{td===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),td--})})}function dg(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function VC(t){return ie(()=>IC(t)?!!rr(t)?.closest("form"):!0)}function Je(){const t=Ut(),e=j(),n=ie(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:rr(e)),r=Object.assign({},t.exposed),s={};for(const o in t.props)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>r[o]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=s;function i(o){e.value=o,o&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=s)}return{forwardRef:i,currentRef:e,currentElement:n}}function ar(t){const e=Ut(),n=Object.keys(e?.type.props??{}).reduce((s,i)=>{const o=(e?.type.props[i]).default;return o!==void 0&&(s[i]=o),s},{}),r=t_(t);return ie(()=>{const s={},i=e?.vnode.props??{};return Object.keys(i).forEach(o=>{s[tn(o)]=i[o]}),Object.keys({...n,...s}).reduce((o,a)=>(r.value[a]!==void 0&&(o[a]=r.value[a]),o),{})})}function Ln(t,e){const n=ar(t),r=e?Ma(e):{};return ie(()=>({...n.value,...r}))}var LC=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pi=new WeakMap,hl=new WeakMap,pl={},nd=0,vw=function(t){return t&&(t.host||vw(t.parentNode))},FC=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vw(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},BC=function(t,e,n,r){var s=FC(e,Array.isArray(t)?t:[t]);pl[n]||(pl[n]=new WeakMap);var i=pl[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),v=m!==null&&m!=="false",b=(pi.get(h)||0)+1,E=(i.get(h)||0)+1;pi.set(h,b),i.set(h,E),o.push(h),b===1&&v&&hl.set(h,!0),E===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",h,O)}})};return d(e),a.clear(),nd++,function(){o.forEach(function(f){var h=pi.get(f)-1,m=i.get(f)-1;pi.set(f,h),i.set(f,m),h||(hl.has(f)||f.removeAttribute(r),hl.delete(f)),m||f.removeAttribute(n)}),nd--,nd||(pi=new WeakMap,pi=new WeakMap,hl=new WeakMap,pl={})}},$C=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=LC(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),BC(r,s,n,"aria-hidden")):function(){return null}};function rh(t){let e;Le(()=>rr(t),n=>{n?e=$C(n):e&&e()}),Js(()=>{e&&e()})}function js(t,e="reka"){return`${e}-${g0?.()}`}function UC(t){const e=j(),n=ie(()=>e.value?.width??0),r=ie(()=>e.value?.height??0);return _t(()=>{const s=rr(t);if(s){e.value={width:s.offsetWidth,height:s.offsetHeight};const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=s.offsetWidth,u=s.offsetHeight;e.value={width:l,height:u}});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else e.value=void 0}),{width:n,height:r}}function qC(t,e){const n=j(t);function r(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=r(i)}}}function sh(t){const e=TC("",1e3);return{search:e,handleTypeaheadSearch:(s,i)=>{e.value=e.value+s;{const o=Qt(),a=i.map(h=>({...h,textValue:h.value?.textValue??h.ref.textContent?.trim()??""})),l=a.find(h=>h.ref===o),u=a.map(h=>h.textValue),d=zC(u,e.value,l?.textValue),f=a.find(h=>h.textValue===d);return f&&f.ref.focus(),f?.ref}},resetTypeahead:()=>{e.value=""}}}function jC(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function zC(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=jC(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function HC(t,e){const n=j({}),r=j("none"),s=j(t),i=t.value?"mounted":"unmounted";let o;const a=e.value?.ownerDocument.defaultView??Yc,{state:l,dispatch:u}=qC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=E=>{if(Nr){const O=new CustomEvent(E,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(O)}};Le(t,async(E,O)=>{const M=O!==E;if(await Xe(),M){const D=r.value,k=ml(e.value);E?(u("MOUNT"),d("enter"),k==="none"&&d("after-enter")):k==="none"||k==="undefined"||n.value?.display==="none"?(u("UNMOUNT"),d("leave"),d("after-leave")):O&&D!==k?(u("ANIMATION_OUT"),d("leave")):(u("UNMOUNT"),d("after-leave"))}},{immediate:!0});const f=E=>{const O=ml(e.value),M=O.includes(CSS.escape(E.animationName)),D=l.value==="mounted"?"enter":"leave";if(E.target===e.value&&M&&(d(`after-${D}`),u("ANIMATION_END"),!s.value)){const k=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=k)})}E.target===e.value&&O==="none"&&u("ANIMATION_END")},h=E=>{E.target===e.value&&(r.value=ml(e.value))},m=Le(e,(E,O)=>{E?(n.value=getComputedStyle(E),E.addEventListener("animationstart",h),E.addEventListener("animationcancel",f),E.addEventListener("animationend",f)):(u("ANIMATION_END"),o!==void 0&&a?.clearTimeout(o),O?.removeEventListener("animationstart",h),O?.removeEventListener("animationcancel",f),O?.removeEventListener("animationend",f))},{immediate:!0}),v=Le(l,()=>{const E=ml(e.value);r.value=l.value==="mounted"?E:"none"});return Js(()=>{m(),v()}),{isPresent:ie(()=>["mounted","unmountSuspended"].includes(l.value))}}function ml(t){return t&&getComputedStyle(t).animationName||"none"}var Jc=J({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){const{present:r,forceMount:s}=In(t),i=j(),{isPresent:o}=HC(r,i);n({present:o});let a=e.default({present:o.value});a=eh(a||[]);const l=Ut();if(a&&a?.length>1){const u=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||r.value||o.value?un(e.default({present:o.value})[0],{ref:u=>{const d=rr(u);return typeof d?.hasAttribute>"u"||(d?.hasAttribute("data-reka-popper-content-wrapper")?i.value=d.firstElementChild:i.value=d),d}}):null}});const zd=J({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=eh(n.default()),s=r.findIndex(l=>l.type!==Vt);if(s===-1)return r;const i=r[s];delete i.props?.ref;const o=i.props?Ie(e,i.props):e,a=Ir({...i,props:{}},o);return r.length===1?a:(r[s]=a,r)}}}),WC=["area","img","input"],dt=J({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&WC.includes(r)?()=>un(r,e):r!=="template"?()=>un(t.as,e,{default:n.default}):()=>un(zd,e,{default:n.default})}});function fg(){const t=j(),e=ie(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:rr(t));return{primitiveElement:t,currentElement:e}}const[ws,KC]=nn("DialogRoot");var GC=J({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,s=Bi(n,"open",e,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=j(),o=j(),{modal:a}=In(n);return KC({open:s,modal:a,openModal:()=>{s.value=!0},onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:o}),(l,u)=>oe(l.$slots,"default",{open:T(s),close:()=>s.value=!1})}}),QC=GC,YC=J({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;Je();const n=ws();return(r,s)=>($(),ee(T(dt),Ie(e,{type:r.as==="button"?"button":void 0,onClick:s[0]||(s[0]=i=>T(n).onOpenChange(!1))}),{default:q(()=>[oe(r.$slots,"default")]),_:3},16,["type"]))}}),XC=YC;const JC="dismissableLayer.pointerDownOutside",ZC="dismissableLayer.focusOutside";function _w(t,e){const n=e.closest("[data-dismissable-layer]"),r=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),s=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||s.indexOf(r)<s.indexOf(n)))}function eP(t,e,n=!0){const r=e?.value?.ownerDocument??globalThis?.document,s=j(!1),i=j(()=>{});return at(o=>{if(!Nr||!st(n))return;const a=async u=>{const d=u.target;if(!(!e?.value||!d)){if(_w(e.value,d)){s.value=!1;return}if(u.target&&!s.value){let h=function(){Zf(JC,t,f)};const f={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",i.value),i.value=h,r.addEventListener("click",i.value,{once:!0})):h()}else r.removeEventListener("click",i.value);s.value=!1}},l=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);o(()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",a),r.removeEventListener("click",i.value)})}),{onPointerDownCapture:()=>{st(n)&&(s.value=!0)}}}function tP(t,e,n=!0){const r=e?.value?.ownerDocument??globalThis?.document,s=j(!1);return at(i=>{if(!Nr||!st(n))return;const o=async a=>{if(!e?.value)return;await Xe(),await Xe();const l=a.target;!e.value||!l||_w(e.value,l)||a.target&&!s.value&&Zf(ZC,t,{originalEvent:a})};r.addEventListener("focusin",o),i(()=>r.removeEventListener("focusin",o))}),{onFocusCapture:()=>{st(n)&&(s.value=!0)},onBlurCapture:()=>{st(n)&&(s.value=!1)}}}const fr=nr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var nP=J({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:i}=Je(),o=ie(()=>i.value?.ownerDocument??globalThis.document),a=ie(()=>fr.layersRoot),l=ie(()=>i.value?Array.from(a.value).indexOf(i.value):-1),u=ie(()=>fr.layersWithOutsidePointerEventsDisabled.size>0),d=ie(()=>{const v=Array.from(a.value),[b]=[...fr.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(b);return l.value>=E}),f=eP(async v=>{const b=[...fr.branches].some(E=>E?.contains(v.target));!d.value||b||(r("pointerDownOutside",v),r("interactOutside",v),await Xe(),v.defaultPrevented||r("dismiss"))},i),h=tP(v=>{[...fr.branches].some(E=>E?.contains(v.target))||(r("focusOutside",v),r("interactOutside",v),v.defaultPrevented||r("dismiss"))},i);RC("Escape",v=>{l.value===a.value.size-1&&(r("escapeKeyDown",v),v.defaultPrevented||r("dismiss"))});let m;return at(v=>{i.value&&(n.disableOutsidePointerEvents&&(fr.layersWithOutsidePointerEventsDisabled.size===0&&(m=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),fr.layersWithOutsidePointerEventsDisabled.add(i.value)),a.value.add(i.value),v(()=>{n.disableOutsidePointerEvents&&fr.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=m)}))}),at(v=>{v(()=>{i.value&&(a.value.delete(i.value),fr.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(v,b)=>($(),ee(T(dt),{ref:T(s),"as-child":v.asChild,as:v.as,"data-dismissable-layer":"",style:En({pointerEvents:u.value?d.value?"auto":"none":void 0}),onFocusCapture:T(h).onFocusCapture,onBlurCapture:T(h).onBlurCapture,onPointerdownCapture:T(f).onPointerDownCapture},{default:q(()=>[oe(v.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),ih=nP;const rP=mC(()=>j([]));function sP(){const t=rP();return{add(e){const n=t.value[0];e!==n&&n?.pause(),t.value=hg(t.value,e),t.value.unshift(e)},remove(e){t.value=hg(t.value,e),t.value[0]?.resume()}}}function hg(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function iP(t){return t.filter(e=>e.tagName!=="A")}const rd="focusScope.autoFocusOnMount",sd="focusScope.autoFocusOnUnmount",pg={bubbles:!1,cancelable:!0};function oP(t,{select:e=!1}={}){const n=Qt();for(const r of t)if(Gr(r,{select:e}),Qt()!==n)return!0}function aP(t){const e=ww(t),n=mg(e,t),r=mg(e.reverse(),t);return[n,r]}function ww(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mg(t,e){for(const n of t)if(!lP(n,{upTo:e}))return n}function lP(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cP(t){return t instanceof HTMLInputElement&&"select"in t}function Gr(t,{select:e=!1}={}){if(t&&t.focus){const n=Qt();t.focus({preventScroll:!0}),t!==n&&cP(t)&&e&&t.select()}}var uP=J({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,r=e,{currentRef:s,currentElement:i}=Je(),o=j(null),a=sP(),l=nr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});at(d=>{if(!Nr)return;const f=i.value;if(!n.trapped)return;function h(E){if(l.paused||!f)return;const O=E.target;f.contains(O)?o.value=O:Gr(o.value,{select:!0})}function m(E){if(l.paused||!f)return;const O=E.relatedTarget;O!==null&&(f.contains(O)||Gr(o.value,{select:!0}))}function v(E){f.contains(o.value)||Gr(f)}document.addEventListener("focusin",h),document.addEventListener("focusout",m);const b=new MutationObserver(v);f&&b.observe(f,{childList:!0,subtree:!0}),d(()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",m),b.disconnect()})}),at(async d=>{const f=i.value;if(await Xe(),!f)return;a.add(l);const h=Qt();if(!f.contains(h)){const v=new CustomEvent(rd,pg);f.addEventListener(rd,b=>r("mountAutoFocus",b)),f.dispatchEvent(v),v.defaultPrevented||(oP(iP(ww(f)),{select:!0}),Qt()===h&&Gr(f))}d(()=>{f.removeEventListener(rd,E=>r("mountAutoFocus",E));const v=new CustomEvent(sd,pg),b=E=>{r("unmountAutoFocus",E)};f.addEventListener(sd,b),f.dispatchEvent(v),setTimeout(()=>{v.defaultPrevented||Gr(h??document.body,{select:!0}),f.removeEventListener(sd,b),a.remove(l)},0)})});function u(d){if(!n.loop&&!n.trapped||l.paused)return;const f=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,h=Qt();if(f&&h){const m=d.currentTarget,[v,b]=aP(m);v&&b?!d.shiftKey&&h===b?(d.preventDefault(),n.loop&&Gr(v,{select:!0})):d.shiftKey&&h===v&&(d.preventDefault(),n.loop&&Gr(b,{select:!0})):h===m&&d.preventDefault()}}return(d,f)=>($(),ee(T(dt),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":d.asChild,as:d.as,onKeydown:u},{default:q(()=>[oe(d.$slots,"default")]),_:3},8,["as-child","as"]))}}),oh=uP;const dP="menu.itemSelect",Hd=["Enter"," "],fP=["ArrowDown","PageUp","Home"],bw=["ArrowUp","PageDown","End"],hP=[...fP,...bw];[...Hd],[...Hd];function Ew(t){return t?"open":"closed"}function Wd(t){const e=Qt();for(const n of t)if(n===e||(n.focus(),Qt()!==e))return}function pP(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function mP(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return pP(n,e)}function Kd(t){return t.pointerType==="mouse"}var gP=J({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=ws(),{forwardRef:i,currentElement:o}=Je();return s.titleId||=js(void 0,"reka-dialog-title"),s.descriptionId||=js(void 0,"reka-dialog-description"),_t(()=>{s.contentElement=o,Qt()!==document.body&&(s.triggerElement.value=Qt())}),(a,l)=>($(),ee(T(oh),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:l[5]||(l[5]=u=>r("openAutoFocus",u)),onUnmountAutoFocus:l[6]||(l[6]=u=>r("closeAutoFocus",u))},{default:q(()=>[ae(T(ih),Ie({id:T(s).contentId,ref:T(i),as:a.as,"as-child":a.asChild,"disable-outside-pointer-events":a.disableOutsidePointerEvents,role:"dialog","aria-describedby":T(s).descriptionId,"aria-labelledby":T(s).titleId,"data-state":T(Ew)(T(s).open.value)},a.$attrs,{onDismiss:l[0]||(l[0]=u=>T(s).onOpenChange(!1)),onEscapeKeyDown:l[1]||(l[1]=u=>r("escapeKeyDown",u)),onFocusOutside:l[2]||(l[2]=u=>r("focusOutside",u)),onInteractOutside:l[3]||(l[3]=u=>r("interactOutside",u)),onPointerDownOutside:l[4]||(l[4]=u=>r("pointerDownOutside",u))}),{default:q(()=>[oe(a.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Tw=gP,yP=J({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=ws(),i=Ma(r),{forwardRef:o,currentElement:a}=Je();return rh(a),(l,u)=>($(),ee(Tw,Ie({...n,...T(i)},{ref:T(o),"trap-focus":T(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:u[0]||(u[0]=d=>{d.defaultPrevented||(d.preventDefault(),T(s).triggerElement.value?.focus())}),onPointerDownOutside:u[1]||(u[1]=d=>{const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0;(f.button===2||h)&&d.preventDefault()}),onFocusOutside:u[2]||(u[2]=d=>{d.preventDefault()})}),{default:q(()=>[oe(l.$slots,"default")]),_:3},16,["trap-focus"]))}}),vP=yP,_P=J({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=Ma(e);Je();const i=ws(),o=j(!1),a=j(!1);return(l,u)=>($(),ee(Tw,Ie({...n,...T(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:u[0]||(u[0]=d=>{d.defaultPrevented||(o.value||T(i).triggerElement.value?.focus(),d.preventDefault()),o.value=!1,a.value=!1}),onInteractOutside:u[1]||(u[1]=d=>{d.defaultPrevented||(o.value=!0,d.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const f=d.target;T(i).triggerElement.value?.contains(f)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&a.value&&d.preventDefault()})}),{default:q(()=>[oe(l.$slots,"default")]),_:3},16))}}),wP=_P,bP=J({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=ws(),i=Ma(r),{forwardRef:o}=Je();return(a,l)=>($(),ee(T(Jc),{present:a.forceMount||T(s).open.value},{default:q(()=>[T(s).modal.value?($(),ee(vP,Ie({key:0,ref:T(o)},{...n,...T(i),...a.$attrs}),{default:q(()=>[oe(a.$slots,"default")]),_:3},16)):($(),ee(wP,Ie({key:1,ref:T(o)},{...n,...T(i),...a.$attrs}),{default:q(()=>[oe(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),EP=bP,TP=J({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=ws();return nh(!0),Je(),(n,r)=>($(),ee(T(dt),{as:n.as,"as-child":n.asChild,"data-state":T(e).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:q(()=>[oe(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),IP=TP,AP=J({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=ws(),{forwardRef:n}=Je();return(r,s)=>T(e)?.modal.value?($(),ee(T(Jc),{key:0,present:r.forceMount||T(e).open.value},{default:q(()=>[ae(IP,Ie(r.$attrs,{ref:T(n),as:r.as,"as-child":r.asChild}),{default:q(()=>[oe(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):vt("v-if",!0)}}),SP=AP,CP=J({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=mw();return(n,r)=>T(e)||n.forceMount?($(),ee(f_,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[oe(n.$slots,"default")],8,["to","disabled","defer"])):vt("v-if",!0)}}),ah=CP,PP=J({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>($(),ee(T(ah),xn(_s(e)),{default:q(()=>[oe(n.$slots,"default")]),_:3},16))}}),RP=PP,xP=J({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const e=t,n=ws();return Je(),(r,s)=>($(),ee(T(dt),Ie(e,{id:T(n).titleId}),{default:q(()=>[oe(r.$slots,"default")]),_:3},16,["id"]))}}),kP=xP;const[OP,DP]=nn("AvatarRoot");var NP=J({__name:"AvatarRoot",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return Je(),DP({imageLoadingStatus:j("idle")}),(e,n)=>($(),ee(T(dt),{"as-child":e.asChild,as:e.as},{default:q(()=>[oe(e.$slots,"default")]),_:3},8,["as-child","as"]))}}),MP=NP,VP=J({__name:"AvatarFallback",props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,n=OP();Je();const r=j(e.delayMs===void 0);return at(s=>{if(e.delayMs&&Nr){const i=window.setTimeout(()=>{r.value=!0},e.delayMs);s(()=>{window.clearTimeout(i)})}}),(s,i)=>r.value&&T(n).imageLoadingStatus.value!=="loaded"?($(),ee(T(dt),{key:0,"as-child":s.asChild,as:s.as},{default:q(()=>[oe(s.$slots,"default")]),_:3},8,["as-child","as"])):vt("v-if",!0)}}),LP=VP;const gg="data-reka-collection-item";function bs(t={}){const{key:e="",isProvider:n=!1}=t,r=`${e}CollectionProvider`;let s;if(n){const d=j(new Map);s={collectionRef:j(),itemMap:d},Ri(r,s)}else s=ln(r);const i=(d=!1)=>{const f=s.collectionRef.value;if(!f)return[];const h=Array.from(f.querySelectorAll(`[${gg}]`)),v=Array.from(s.itemMap.value.values()).sort((b,E)=>h.indexOf(b.ref)-h.indexOf(E.ref));return d?v:v.filter(b=>b.ref.dataset.disabled!=="")},o=J({name:"CollectionSlot",setup(d,{slots:f}){const{primitiveElement:h,currentElement:m}=fg();return Le(m,()=>{s.collectionRef.value=m.value}),()=>un(zd,{ref:h},f)}}),a=J({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(d,{slots:f,attrs:h}){const{primitiveElement:m,currentElement:v}=fg();return at(b=>{if(v.value){const E=xa(v.value);s.itemMap.value.set(E,{ref:v.value,value:d.value}),b(()=>s.itemMap.value.delete(E))}}),()=>un(zd,{...h,[gg]:"",ref:m},f)}}),l=ie(()=>Array.from(s.itemMap.value.values())),u=ie(()=>s.itemMap.value.size);return{getItems:i,reactiveItems:l,itemMapSize:u,CollectionSlot:o,CollectionItem:a}}const FP="rovingFocusGroup.onEntryFocus",BP={bubbles:!1,cancelable:!0},$P={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h$(t,e,n){const r=UP(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $P[r]}function qP(t,e=!1){const n=Qt();for(const r of t)if(r===n||(r.focus({preventScroll:e}),Qt()!==n))return}function p$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const[m$,jP]=nn("RovingFocusGroup");var zP=J({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:e,emit:n}){const r=t,s=n,{loop:i,orientation:o,dir:a}=In(r),l=Xc(a),u=Bi(r,"currentTabStopId",s,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),d=j(!1),f=j(!1),h=j(0),{getItems:m,CollectionSlot:v}=bs({isProvider:!0});function b(O){const M=!f.value;if(O.currentTarget&&O.target===O.currentTarget&&M&&!d.value){const D=new CustomEvent(FP,BP);if(O.currentTarget.dispatchEvent(D),s("entryFocus",D),!D.defaultPrevented){const k=m().map(y=>y.ref).filter(y=>y.dataset.disabled!==""),V=k.find(y=>y.getAttribute("data-active")===""),F=k.find(y=>y.getAttribute("data-highlighted")===""),I=k.find(y=>y.id===u.value),w=[V,F,I,...k].filter(Boolean);qP(w,r.preventScrollOnEntryFocus)}}f.value=!1}function E(){setTimeout(()=>{f.value=!1},1)}return e({getItems:m}),jP({loop:i,dir:l,orientation:o,currentTabStopId:u,onItemFocus:O=>{u.value=O},onItemShiftTab:()=>{d.value=!0},onFocusableItemAdd:()=>{h.value++},onFocusableItemRemove:()=>{h.value--}}),(O,M)=>($(),ee(T(v),null,{default:q(()=>[ae(T(dt),{tabindex:d.value||h.value===0?-1:0,"data-orientation":T(o),as:O.as,"as-child":O.asChild,dir:T(l),style:{outline:"none"},onMousedown:M[0]||(M[0]=D=>f.value=!0),onMouseup:E,onFocus:b,onBlur:M[1]||(M[1]=D=>d.value=!1)},{default:q(()=>[oe(O.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),HP=zP,WP=J({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>($(),ee(T(dt),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:q(()=>[oe(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),KP=WP;const[Iw,GP]=nn("PopperRoot");var QP=J({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=j();return GP({anchor:e,onAnchorChange:n=>e.value=n}),(n,r)=>oe(n.$slots,"default")}}),Aw=QP,YP=J({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:n,currentElement:r}=Je(),s=Iw();return V_(()=>{s.onAnchorChange(e.reference??r.value)}),(i,o)=>($(),ee(T(dt),{ref:T(n),as:i.as,"as-child":i.asChild},{default:q(()=>[oe(i.$slots,"default")]),_:3},8,["as","as-child"]))}}),Sw=YP;function XP(t){return t!==null}function JP(t){return{name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,o=s.arrow?.centerOffset!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=Gd(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(s.arrow?.x??0)+a/2,m=(s.arrow?.y??0)+l/2;let v="",b="";return u==="bottom"?(v=o?f:`${h}px`,b=`${-l}px`):u==="top"?(v=o?f:`${h}px`,b=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,b=o?f:`${m}px`):u==="left"&&(v=`${r.floating.width+l}px`,b=o?f:`${m}px`),{data:{x:v,y:b}}}}}function Gd(t){const[e,n="center"]=t.split("-");return[e,n]}const ZP=["top","right","bottom","left"],ds=Math.min,mn=Math.max,nc=Math.round,gl=Math.floor,Qn=t=>({x:t,y:t}),eR={left:"right",right:"left",bottom:"top",top:"bottom"},tR={start:"end",end:"start"};function Qd(t,e,n){return mn(t,ds(e,n))}function Ar(t,e){return typeof t=="function"?t(e):t}function Sr(t){return t.split("-")[0]}function Qi(t){return t.split("-")[1]}function lh(t){return t==="x"?"y":"x"}function ch(t){return t==="y"?"height":"width"}const nR=new Set(["top","bottom"]);function Wn(t){return nR.has(Sr(t))?"y":"x"}function uh(t){return lh(Wn(t))}function rR(t,e,n){n===void 0&&(n=!1);const r=Qi(t),s=uh(t),i=ch(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=rc(o)),[o,rc(o)]}function sR(t){const e=rc(t);return[Yd(t),e,Yd(e)]}function Yd(t){return t.replace(/start|end/g,e=>tR[e])}const yg=["left","right"],vg=["right","left"],iR=["top","bottom"],oR=["bottom","top"];function aR(t,e,n){switch(t){case"top":case"bottom":return n?e?vg:yg:e?yg:vg;case"left":case"right":return e?iR:oR;default:return[]}}function lR(t,e,n,r){const s=Qi(t);let i=aR(Sr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Yd)))),i}function rc(t){return t.replace(/left|right|bottom|top/g,e=>eR[e])}function cR(t){return{top:0,right:0,bottom:0,left:0,...t}}function Cw(t){return typeof t!="number"?cR(t):{top:t,right:t,bottom:t,left:t}}function sc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function _g(t,e,n){let{reference:r,floating:s}=t;const i=Wn(e),o=uh(e),a=ch(o),l=Sr(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Qi(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const uR=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=_g(u,r,l),h=r,m={},v=0;for(let b=0;b<a.length;b++){const{name:E,fn:O}=a[b],{x:M,y:D,data:k,reset:V}=await O({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=M??d,f=D??f,m={...m,[E]:{...m[E],...k}},V&&v<=50&&(v++,typeof V=="object"&&(V.placement&&(h=V.placement),V.rects&&(u=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):V.rects),{x:d,y:f}=_g(u,h,l)),b=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function da(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ar(e,t),v=Cw(m),E=a[h?f==="floating"?"reference":"floating":f],O=sc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),M=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(D))?await(i.getScale==null?void 0:i.getScale(D))||{x:1,y:1}:{x:1,y:1},V=sc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:M,offsetParent:D,strategy:l}):M);return{top:(O.top-V.top+v.top)/k.y,bottom:(V.bottom-O.bottom+v.bottom)/k.y,left:(O.left-V.left+v.left)/k.x,right:(V.right-O.right+v.right)/k.x}}const dR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ar(t,e)||{};if(u==null)return{};const f=Cw(d),h={x:n,y:r},m=uh(s),v=ch(m),b=await o.getDimensions(u),E=m==="y",O=E?"top":"left",M=E?"bottom":"right",D=E?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[m]-h[m]-i.floating[v],V=h[m]-i.reference[m],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=F?F[D]:0;(!I||!await(o.isElement==null?void 0:o.isElement(F)))&&(I=a.floating[D]||i.floating[v]);const w=k/2-V/2,y=I/2-b[v]/2-1,_=ds(f[O],y),A=ds(f[M],y),S=_,C=I-b[v]-A,K=I/2-b[v]/2+w,he=Qd(S,K,C),ce=!l.arrow&&Qi(s)!=null&&K!==he&&i.reference[v]/2-(K<S?_:A)-b[v]/2<0,de=ce?K<S?K-S:K-C:0;return{[m]:h[m]+de,data:{[m]:he,centerOffset:K-he-de,...ce&&{alignmentOffset:de}},reset:ce}}}),fR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...E}=Ar(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const O=Sr(s),M=Wn(a),D=Sr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),V=h||(D||!b?[rc(a)]:sR(a)),F=v!=="none";!h&&F&&V.push(...lR(a,b,v,k));const I=[a,...V],w=await da(e,E),y=[];let _=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&y.push(w[O]),f){const K=rR(s,o,k);y.push(w[K[0]],w[K[1]])}if(_=[..._,{placement:s,overflows:y}],!y.every(K=>K<=0)){var A,S;const K=(((A=i.flip)==null?void 0:A.index)||0)+1,he=I[K];if(he&&(!(f==="alignment"?M!==Wn(he):!1)||_.every(Y=>Wn(Y.placement)===M?Y.overflows[0]>0:!0)))return{data:{index:K,overflows:_},reset:{placement:he}};let ce=(S=_.filter(de=>de.overflows[0]<=0).sort((de,Y)=>de.overflows[1]-Y.overflows[1])[0])==null?void 0:S.placement;if(!ce)switch(m){case"bestFit":{var C;const de=(C=_.filter(Y=>{if(F){const je=Wn(Y.placement);return je===M||je==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(je=>je>0).reduce((je,ct)=>je+ct,0)]).sort((Y,je)=>Y[1]-je[1])[0])==null?void 0:C[0];de&&(ce=de);break}case"initialPlacement":ce=a;break}if(s!==ce)return{reset:{placement:ce}}}return{}}}};function wg(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function bg(t){return ZP.some(e=>t[e]>=0)}const hR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ar(t,e);switch(r){case"referenceHidden":{const i=await da(e,{...s,elementContext:"reference"}),o=wg(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:bg(o)}}}case"escaped":{const i=await da(e,{...s,altBoundary:!0}),o=wg(i,n.floating);return{data:{escapedOffsets:o,escaped:bg(o)}}}default:return{}}}}},Pw=new Set(["left","top"]);async function pR(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Sr(n),a=Qi(n),l=Wn(n)==="y",u=Pw.has(o)?-1:1,d=i&&l?-1:1,f=Ar(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const mR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await pR(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},gR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:O,y:M}=E;return{x:O,y:M}}},...l}=Ar(t,e),u={x:n,y:r},d=await da(e,l),f=Wn(Sr(s)),h=lh(f);let m=u[h],v=u[f];if(i){const E=h==="y"?"top":"left",O=h==="y"?"bottom":"right",M=m+d[E],D=m-d[O];m=Qd(M,m,D)}if(o){const E=f==="y"?"top":"left",O=f==="y"?"bottom":"right",M=v+d[E],D=v-d[O];v=Qd(M,v,D)}const b=a.fn({...e,[h]:m,[f]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[h]:i,[f]:o}}}}}},yR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(t,e),d={x:n,y:r},f=Wn(s),h=lh(f);let m=d[h],v=d[f];const b=Ar(a,e),E=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const D=h==="y"?"height":"width",k=i.reference[h]-i.floating[D]+E.mainAxis,V=i.reference[h]+i.reference[D]-E.mainAxis;m<k?m=k:m>V&&(m=V)}if(u){var O,M;const D=h==="y"?"width":"height",k=Pw.has(Sr(s)),V=i.reference[f]-i.floating[D]+(k&&((O=o.offset)==null?void 0:O[f])||0)+(k?0:E.crossAxis),F=i.reference[f]+i.reference[D]+(k?0:((M=o.offset)==null?void 0:M[f])||0)-(k?E.crossAxis:0);v<V?v=V:v>F&&(v=F)}return{[h]:m,[f]:v}}}},vR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ar(t,e),d=await da(e,u),f=Sr(s),h=Qi(s),m=Wn(s)==="y",{width:v,height:b}=i.floating;let E,O;f==="top"||f==="bottom"?(E=f,O=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(O=f,E=h==="end"?"top":"bottom");const M=b-d.top-d.bottom,D=v-d.left-d.right,k=ds(b-d[E],M),V=ds(v-d[O],D),F=!e.middlewareData.shift;let I=k,w=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(w=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=M),F&&!h){const _=mn(d.left,0),A=mn(d.right,0),S=mn(d.top,0),C=mn(d.bottom,0);m?w=v-2*(_!==0||A!==0?_+A:mn(d.left,d.right)):I=b-2*(S!==0||C!==0?S+C:mn(d.top,d.bottom))}await l({...e,availableWidth:w,availableHeight:I});const y=await o.getDimensions(a.floating);return v!==y.width||b!==y.height?{reset:{rects:!0}}:{}}}};function Zc(){return typeof window<"u"}function Zs(t){return dh(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lr(t){var e;return(e=(dh(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dh(t){return Zc()?t instanceof Node||t instanceof yn(t).Node:!1}function Nn(t){return Zc()?t instanceof Element||t instanceof yn(t).Element:!1}function sr(t){return Zc()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function Eg(t){return!Zc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}const _R=new Set(["inline","contents"]);function Va(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!_R.has(s)}const wR=new Set(["table","td","th"]);function bR(t){return wR.has(Zs(t))}const ER=[":popover-open",":modal"];function eu(t){return ER.some(e=>{try{return t.matches(e)}catch{return!1}})}const TR=["transform","translate","scale","rotate","perspective"],IR=["transform","translate","scale","rotate","perspective","filter"],AR=["paint","layout","strict","content"];function fh(t){const e=hh(),n=Nn(t)?Mn(t):t;return TR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||IR.some(r=>(n.willChange||"").includes(r))||AR.some(r=>(n.contain||"").includes(r))}function SR(t){let e=fs(t);for(;sr(e)&&!$i(e);){if(fh(e))return e;if(eu(e))return null;e=fs(e)}return null}function hh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CR=new Set(["html","body","#document"]);function $i(t){return CR.has(Zs(t))}function Mn(t){return yn(t).getComputedStyle(t)}function tu(t){return Nn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fs(t){if(Zs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Eg(t)&&t.host||lr(t);return Eg(e)?e.host:e}function Rw(t){const e=fs(t);return $i(e)?t.ownerDocument?t.ownerDocument.body:t.body:sr(e)&&Va(e)?e:Rw(e)}function fa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Rw(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=yn(s);if(i){const a=Xd(o);return e.concat(o,o.visualViewport||[],Va(s)?s:[],a&&n?fa(a):[])}return e.concat(s,fa(s,[],n))}function Xd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xw(t){const e=Mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=sr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=nc(n)!==i||nc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ph(t){return Nn(t)?t:t.contextElement}function ki(t){const e=ph(t);if(!sr(e))return Qn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=xw(e);let o=(i?nc(n.width):n.width)/r,a=(i?nc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const PR=Qn(0);function kw(t){const e=yn(t);return!hh()||!e.visualViewport?PR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function zs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ph(t);let o=Qn(1);e&&(r?Nn(r)&&(o=ki(r)):o=ki(t));const a=RR(i,n,r)?kw(i):Qn(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=yn(i),m=r&&Nn(r)?yn(r):r;let v=h,b=Xd(v);for(;b&&r&&m!==v;){const E=ki(b),O=b.getBoundingClientRect(),M=Mn(b),D=O.left+(b.clientLeft+parseFloat(M.paddingLeft))*E.x,k=O.top+(b.clientTop+parseFloat(M.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,f*=E.y,l+=D,u+=k,v=yn(b),b=Xd(v)}}return sc({width:d,height:f,x:l,y:u})}function nu(t,e){const n=tu(t).scrollLeft;return e?e.left+n:zs(lr(t)).left+n}function Ow(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-nu(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function xR(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=lr(r),a=e?eu(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Qn(1);const d=Qn(0),f=sr(r);if((f||!f&&!i)&&((Zs(r)!=="body"||Va(o))&&(l=tu(r)),sr(r))){const m=zs(r);u=ki(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=o&&!f&&!i?Ow(o,l):Qn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-l.scrollTop*u.y+d.y+h.y}}function kR(t){return Array.from(t.getClientRects())}function OR(t){const e=lr(t),n=tu(t),r=t.ownerDocument.body,s=mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nu(t);const a=-n.scrollTop;return Mn(r).direction==="rtl"&&(o+=mn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Tg=25;function DR(t,e){const n=yn(t),r=lr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=hh();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=nu(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(r.clientWidth-f.clientWidth-m);v<=Tg&&(i-=v)}else u<=Tg&&(i+=u);return{width:i,height:o,x:a,y:l}}const NR=new Set(["absolute","fixed"]);function MR(t,e){const n=zs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=sr(t)?ki(t):Qn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Ig(t,e,n){let r;if(e==="viewport")r=DR(t,n);else if(e==="document")r=OR(lr(t));else if(Nn(e))r=MR(e,n);else{const s=kw(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return sc(r)}function Dw(t,e){const n=fs(t);return n===e||!Nn(n)||$i(n)?!1:Mn(n).position==="fixed"||Dw(n,e)}function VR(t,e){const n=e.get(t);if(n)return n;let r=fa(t,[],!1).filter(a=>Nn(a)&&Zs(a)!=="body"),s=null;const i=Mn(t).position==="fixed";let o=i?fs(t):t;for(;Nn(o)&&!$i(o);){const a=Mn(o),l=fh(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&NR.has(s.position)||Va(o)&&!l&&Dw(t,o))?r=r.filter(d=>d!==o):s=a,o=fs(o)}return e.set(t,r),r}function LR(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?eu(e)?[]:VR(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=Ig(e,d,s);return u.top=mn(f.top,u.top),u.right=ds(f.right,u.right),u.bottom=ds(f.bottom,u.bottom),u.left=mn(f.left,u.left),u},Ig(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function FR(t){const{width:e,height:n}=xw(t);return{width:e,height:n}}function BR(t,e,n){const r=sr(e),s=lr(e),i=n==="fixed",o=zs(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Qn(0);function u(){l.x=nu(s)}if(r||!r&&!i)if((Zs(e)!=="body"||Va(s))&&(a=tu(e)),r){const m=zs(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?Ow(s,a):Qn(0),f=o.left+a.scrollLeft-l.x-d.x,h=o.top+a.scrollTop-l.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function id(t){return Mn(t).position==="static"}function Ag(t,e){if(!sr(t)||Mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lr(t)===n&&(n=n.ownerDocument.body),n}function Nw(t,e){const n=yn(t);if(eu(t))return n;if(!sr(t)){let s=fs(t);for(;s&&!$i(s);){if(Nn(s)&&!id(s))return s;s=fs(s)}return n}let r=Ag(t,e);for(;r&&bR(r)&&id(r);)r=Ag(r,e);return r&&$i(r)&&id(r)&&!fh(r)?n:r||SR(t)||n}const $R=async function(t){const e=this.getOffsetParent||Nw,n=this.getDimensions,r=await n(t.floating);return{reference:BR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UR(t){return Mn(t).direction==="rtl"}const qR={convertOffsetParentRelativeRectToViewportRelativeRect:xR,getDocumentElement:lr,getClippingRect:LR,getOffsetParent:Nw,getElementRects:$R,getClientRects:kR,getDimensions:FR,getScale:ki,isElement:Nn,isRTL:UR};function Mw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jR(t,e){let n=null,r;const s=lr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const v=gl(f),b=gl(s.clientWidth-(d+h)),E=gl(s.clientHeight-(f+m)),O=gl(d),D={rootMargin:-v+"px "+-b+"px "+-E+"px "+-O+"px",threshold:mn(0,ds(1,l))||1};let k=!0;function V(F){const I=F[0].intersectionRatio;if(I!==l){if(!k)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!Mw(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(V,{...D,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,D)}n.observe(t)}return o(!0),i}function zR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ph(t),d=s||i?[...u?fa(u):[],...fa(e)]:[];d.forEach(O=>{s&&O.addEventListener("scroll",n,{passive:!0}),i&&O.addEventListener("resize",n)});const f=u&&a?jR(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(O=>{let[M]=O;M&&M.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var D;(D=m)==null||D.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let v,b=l?zs(t):null;l&&E();function E(){const O=zs(t);b&&!Mw(b,O)&&n(),b=O,v=requestAnimationFrame(E)}return n(),()=>{var O;d.forEach(M=>{s&&M.removeEventListener("scroll",n),i&&M.removeEventListener("resize",n)}),f?.(),(O=m)==null||O.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const HR=mR,WR=gR,Sg=fR,KR=vR,GR=hR,QR=dR,YR=yR,XR=(t,e,n)=>{const r=new Map,s={platform:qR,...n},i={...s.platform,_c:r};return uR(t,e,{...s,platform:i})};function JR(t){return t!=null&&typeof t=="object"&&"$el"in t}function Jd(t){if(JR(t)){const e=t.$el;return dh(e)&&Zs(e)==="#comment"?null:e}return t}function _i(t){return typeof t=="function"?t():T(t)}function ZR(t){return{name:"arrow",options:t,fn(e){const n=Jd(_i(t.element));return n==null?{}:QR({element:n,padding:t.padding}).fn(e)}}}function Vw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Cg(t,e){const n=Vw(t);return Math.round(e*n)/n}function e1(t,e,n){n===void 0&&(n={});const r=n.whileElementsMounted,s=ie(()=>{var I;return(I=_i(n.open))!=null?I:!0}),i=ie(()=>_i(n.middleware)),o=ie(()=>{var I;return(I=_i(n.placement))!=null?I:"bottom"}),a=ie(()=>{var I;return(I=_i(n.strategy))!=null?I:"absolute"}),l=ie(()=>{var I;return(I=_i(n.transform))!=null?I:!0}),u=ie(()=>Jd(t.value)),d=ie(()=>Jd(e.value)),f=j(0),h=j(0),m=j(a.value),v=j(o.value),b=Gn({}),E=j(!1),O=ie(()=>{const I={position:m.value,left:"0",top:"0"};if(!d.value)return I;const w=Cg(d.value,f.value),y=Cg(d.value,h.value);return l.value?{...I,transform:"translate("+w+"px, "+y+"px)",...Vw(d.value)>=1.5&&{willChange:"transform"}}:{position:m.value,left:w+"px",top:y+"px"}});let M;function D(){if(u.value==null||d.value==null)return;const I=s.value;XR(u.value,d.value,{middleware:i.value,placement:o.value,strategy:a.value}).then(w=>{f.value=w.x,h.value=w.y,m.value=w.strategy,v.value=w.placement,b.value=w.middlewareData,E.value=I!==!1})}function k(){typeof M=="function"&&(M(),M=void 0)}function V(){if(k(),r===void 0){D();return}if(u.value!=null&&d.value!=null){M=r(u.value,d.value,D);return}}function F(){s.value||(E.value=!1)}return Le([i,o,a,s],D,{flush:"sync"}),Le([u,d],V,{flush:"sync"}),Le(s,F,{flush:"sync"}),Ra()&&Dc(k),{x:fi(f),y:fi(h),strategy:fi(m),placement:fi(v),middlewareData:fi(b),isPositioned:fi(E),floatingStyles:O,update:D}}const Lw={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[g$,t1]=nn("PopperContent");var n1=J({inheritAttrs:!1,__name:"PopperContent",props:T_({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Lw}),emits:["placed"],setup(t,{emit:e}){const n=t,r=e,s=Iw(),{forwardRef:i,currentElement:o}=Je(),a=j(),l=j(),{width:u,height:d}=UC(l),f=ie(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),h=ie(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),m=ie(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),v=ie(()=>({padding:h.value,boundary:m.value.filter(XP),altBoundary:m.value.length>0})),b=ie(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),E=pC(()=>[HR({mainAxis:n.sideOffset+d.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&Sg({...v.value,...b.value}),n.avoidCollisions&&WR({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?YR():void 0,...v.value}),!n.prioritizePosition&&n.avoidCollisions&&Sg({...v.value,...b.value}),KR({...v.value,apply:({elements:S,rects:C,availableWidth:K,availableHeight:he})=>{const{width:ce,height:de}=C.reference,Y=S.floating.style;Y.setProperty("--reka-popper-available-width",`${K}px`),Y.setProperty("--reka-popper-available-height",`${he}px`),Y.setProperty("--reka-popper-anchor-width",`${ce}px`),Y.setProperty("--reka-popper-anchor-height",`${de}px`)}}),l.value&&ZR({element:l.value,padding:n.arrowPadding}),JP({arrowWidth:u.value,arrowHeight:d.value}),n.hideWhenDetached&&GR({strategy:"referenceHidden",...v.value})]),O=ie(()=>n.reference??s.anchor.value),{floatingStyles:M,placement:D,isPositioned:k,middlewareData:V}=e1(O,a,{strategy:n.positionStrategy,placement:f,whileElementsMounted:(...S)=>zR(...S,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:E}),F=ie(()=>Gd(D.value)[0]),I=ie(()=>Gd(D.value)[1]);V_(()=>{k.value&&r("placed")});const w=ie(()=>V.value.arrow?.centerOffset!==0),y=j("");at(()=>{o.value&&(y.value=window.getComputedStyle(o.value).zIndex)});const _=ie(()=>V.value.arrow?.x??0),A=ie(()=>V.value.arrow?.y??0);return t1({placedSide:F,onArrowChange:S=>l.value=S,arrowX:_,arrowY:A,shouldHideArrow:w}),(S,C)=>($(),Ce("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:En({...T(M),transform:T(k)?T(M).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:y.value,"--reka-popper-transform-origin":[T(V).transformOrigin?.x,T(V).transformOrigin?.y].join(" "),...T(V).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[ae(T(dt),Ie({ref:T(i)},S.$attrs,{"as-child":n.asChild,as:S.as,"data-side":F.value,"data-align":I.value,style:{animation:T(k)?void 0:"none"}}),{default:q(()=>[oe(S.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),Fw=n1;function r1(t){const e=th({nonce:j()});return ie(()=>t?.value||e.nonce?.value)}var s1=J({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return(n,r)=>($(),ee(T(Sw),xn(_s(e)),{default:q(()=>[oe(n.$slots,"default")]),_:3},16))}}),i1=s1;function o1(){const t=j(!1);return _t(()=>{tc("keydown",()=>{t.value=!0},{capture:!0,passive:!0}),tc(["pointerdown","pointermove"],()=>{t.value=!1},{capture:!0,passive:!0})}),t}const a1=pw(o1),[ru,l1]=nn(["MenuRoot","MenuSub"],"MenuContext"),[mh,c1]=nn("MenuRoot");var u1=J({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e,{modal:s,dir:i}=In(n),o=Xc(i),a=Bi(n,"open",r),l=j(),u=a1();return l1({open:a,onOpenChange:d=>{a.value=d},content:l,onContentChange:d=>{l.value=d}}),c1({onClose:()=>{a.value=!1},isUsingKeyboardRef:u,dir:o,modal:s}),(d,f)=>($(),ee(T(Aw),null,{default:q(()=>[oe(d.$slots,"default")]),_:3}))}}),d1=u1;const[Bw,f1]=nn("MenuContent");var h1=J({__name:"MenuContentImpl",props:T_({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Lw}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(t,{emit:e}){const n=t,r=e,s=ru(),i=mh(),{trapFocus:o,disableOutsidePointerEvents:a,loop:l}=In(n);yw(),nh(a.value);const u=j(""),d=j(0),f=j(0),h=j(null),m=j("right"),v=j(0),b=j(null),E=j(),{forwardRef:O,currentElement:M}=Je(),{handleTypeaheadSearch:D}=sh();Le(M,y=>{s.onContentChange(y)}),Js(()=>{window.clearTimeout(d.value)});function k(y){return m.value===h.value?.side&&mP(y,h.value?.area)}async function V(y){r("openAutoFocus",y),!y.defaultPrevented&&(y.preventDefault(),M.value?.focus({preventScroll:!0}))}function F(y){if(y.defaultPrevented)return;const A=y.target.closest("[data-reka-menu-content]")===y.currentTarget,S=y.ctrlKey||y.altKey||y.metaKey,C=y.key.length===1,K=hC(y,Qt(),M.value,{loop:l.value,arrowKeyOptions:"vertical",dir:i?.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(K)return K?.focus();if(y.code==="Space")return;const he=E.value?.getItems()??[];if(A&&(y.key==="Tab"&&y.preventDefault(),!S&&C&&D(y.key,he)),y.target!==M.value||!hP.includes(y.key))return;y.preventDefault();const ce=[...he.map(de=>de.ref)];bw.includes(y.key)&&ce.reverse(),Wd(ce)}function I(y){y?.currentTarget?.contains?.(y.target)||(window.clearTimeout(d.value),u.value="")}function w(y){if(!Kd(y))return;const _=y.target,A=v.value!==y.clientX;if(y?.currentTarget?.contains(_)&&A){const S=y.clientX>v.value?"right":"left";m.value=S,v.value=y.clientX}}return f1({onItemEnter:y=>!!k(y),onItemLeave:y=>{k(y)||(M.value?.focus(),b.value=null)},onTriggerLeave:y=>!!k(y),searchRef:u,pointerGraceTimerRef:f,onPointerGraceIntentChange:y=>{h.value=y}}),(y,_)=>($(),ee(T(oh),{"as-child":"",trapped:T(o),onMountAutoFocus:V,onUnmountAutoFocus:_[7]||(_[7]=A=>r("closeAutoFocus",A))},{default:q(()=>[ae(T(ih),{"as-child":"","disable-outside-pointer-events":T(a),onEscapeKeyDown:_[2]||(_[2]=A=>r("escapeKeyDown",A)),onPointerDownOutside:_[3]||(_[3]=A=>r("pointerDownOutside",A)),onFocusOutside:_[4]||(_[4]=A=>r("focusOutside",A)),onInteractOutside:_[5]||(_[5]=A=>r("interactOutside",A)),onDismiss:_[6]||(_[6]=A=>r("dismiss"))},{default:q(()=>[ae(T(HP),{ref_key:"rovingFocusGroupRef",ref:E,"current-tab-stop-id":b.value,"onUpdate:currentTabStopId":_[0]||(_[0]=A=>b.value=A),"as-child":"",orientation:"vertical",dir:T(i).dir.value,loop:T(l),onEntryFocus:_[1]||(_[1]=A=>{r("entryFocus",A),T(i).isUsingKeyboardRef.value||A.preventDefault()})},{default:q(()=>[ae(T(Fw),{ref:T(O),role:"menu",as:y.as,"as-child":y.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":T(Ew)(T(s).open.value),dir:T(i).dir.value,side:y.side,"side-offset":y.sideOffset,align:y.align,"align-offset":y.alignOffset,"avoid-collisions":y.avoidCollisions,"collision-boundary":y.collisionBoundary,"collision-padding":y.collisionPadding,"arrow-padding":y.arrowPadding,"prioritize-position":y.prioritizePosition,"position-strategy":y.positionStrategy,"update-position-strategy":y.updatePositionStrategy,sticky:y.sticky,"hide-when-detached":y.hideWhenDetached,reference:y.reference,onKeydown:F,onBlur:I,onPointermove:w},{default:q(()=>[oe(y.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),$w=h1,p1=J({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Bw(),{forwardRef:r}=Je(),{CollectionItem:s}=bs(),i=j(!1);async function o(l){l.defaultPrevented||Kd(l)&&(e.disabled?n.onItemLeave(l):n.onItemEnter(l)||l.currentTarget?.focus({preventScroll:!0}))}async function a(l){await Xe(),!l.defaultPrevented&&Kd(l)&&n.onItemLeave(l)}return(l,u)=>($(),ee(T(s),{value:{textValue:l.textValue}},{default:q(()=>[ae(T(dt),Ie({ref:T(r),role:"menuitem",tabindex:"-1"},l.$attrs,{as:l.as,"as-child":l.asChild,"aria-disabled":l.disabled||void 0,"data-disabled":l.disabled?"":void 0,"data-highlighted":i.value?"":void 0,onPointermove:o,onPointerleave:a,onFocus:u[0]||(u[0]=async d=>{await Xe(),!(d.defaultPrevented||l.disabled)&&(i.value=!0)}),onBlur:u[1]||(u[1]=async d=>{await Xe(),!d.defaultPrevented&&(i.value=!1)})}),{default:q(()=>[oe(l.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),m1=p1,g1=J({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:i}=Je(),o=mh(),a=Bw(),l=j(!1);async function u(){const d=i.value;if(!n.disabled&&d){const f=new CustomEvent(dP,{bubbles:!0,cancelable:!0});r("select",f),await Xe(),f.defaultPrevented?l.value=!1:o.onClose()}}return(d,f)=>($(),ee(m1,Ie(n,{ref:T(s),onClick:u,onPointerdown:f[0]||(f[0]=()=>{l.value=!0}),onPointerup:f[1]||(f[1]=async h=>{await Xe(),!h.defaultPrevented&&(l.value||h.currentTarget?.click())}),onKeydown:f[2]||(f[2]=async h=>{const m=T(a).searchRef.value!=="";d.disabled||m&&h.key===" "||T(Hd).includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})}),{default:q(()=>[oe(d.$slots,"default")]),_:3},16))}}),y1=g1,v1=J({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=Ln(n,r),i=ru(),{forwardRef:o,currentElement:a}=Je();return rh(a),(l,u)=>($(),ee($w,Ie(T(s),{ref:T(o),"trap-focus":T(i).open.value,"disable-outside-pointer-events":T(i).open.value,"disable-outside-scroll":!0,onDismiss:u[0]||(u[0]=d=>T(i).onOpenChange(!1)),onFocusOutside:u[1]||(u[1]=xi(d=>r("focusOutside",d),["prevent"]))}),{default:q(()=>[oe(l.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),_1=v1,w1=J({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const s=Ln(t,e),i=ru();return(o,a)=>($(),ee($w,Ie(T(s),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:a[0]||(a[0]=l=>T(i).onOpenChange(!1))}),{default:q(()=>[oe(o.$slots,"default")]),_:3},16))}}),b1=w1,E1=J({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const s=Ln(t,e),i=ru(),o=mh();return(a,l)=>($(),ee(T(Jc),{present:a.forceMount||T(i).open.value},{default:q(()=>[T(o).modal.value?($(),ee(_1,xn(Ie({key:0},{...a.$attrs,...T(s)})),{default:q(()=>[oe(a.$slots,"default")]),_:3},16)):($(),ee(b1,xn(Ie({key:1},{...a.$attrs,...T(s)})),{default:q(()=>[oe(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),T1=E1,I1=J({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>($(),ee(T(ah),xn(_s(e)),{default:q(()=>[oe(n.$slots,"default")]),_:3},16))}}),A1=I1;const[Uw,S1]=nn("DropdownMenuRoot");var C1=J({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=e;Je();const s=Bi(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=j(),{modal:o,dir:a}=In(n),l=Xc(a);return S1({open:s,onOpenChange:u=>{s.value=u},onOpenToggle:()=>{s.value=!s.value},triggerId:"",triggerElement:i,contentId:"",modal:o,dir:l}),(u,d)=>($(),ee(T(d1),{open:T(s),"onUpdate:open":d[0]||(d[0]=f=>rt(s)?s.value=f:null),dir:T(l),modal:T(o)},{default:q(()=>[oe(u.$slots,"default",{open:T(s)})]),_:3},8,["open","dir","modal"]))}}),P1=C1,R1=J({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const s=Ln(t,e);Je();const i=Uw(),o=j(!1);function a(l){l.defaultPrevented||(o.value||setTimeout(()=>{i.triggerElement.value?.focus()},0),o.value=!1,l.preventDefault())}return i.contentId||=js(void 0,"reka-dropdown-menu-content"),(l,u)=>($(),ee(T(T1),Ie(T(s),{id:T(i).contentId,"aria-labelledby":T(i)?.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:a,onInteractOutside:u[0]||(u[0]=d=>{if(d.defaultPrevented)return;const f=d.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,m=f.button===2||h;(!T(i).modal.value||m)&&(o.value=!0),T(i).triggerElement.value?.contains(d.target)&&d.preventDefault()})}),{default:q(()=>[oe(l.$slots,"default")]),_:3},16,["id","aria-labelledby"]))}}),x1=R1,k1=J({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,s=Ma(e);return Je(),(i,o)=>($(),ee(T(y1),xn(_s({...n,...T(s)})),{default:q(()=>[oe(i.$slots,"default")]),_:3},16))}}),O1=k1,D1=J({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>($(),ee(T(A1),xn(_s(e)),{default:q(()=>[oe(n.$slots,"default")]),_:3},16))}}),N1=D1,M1=J({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=Uw(),{forwardRef:r,currentElement:s}=Je();return _t(()=>{n.triggerElement=s}),n.triggerId||=js(void 0,"reka-dropdown-menu-trigger"),(i,o)=>($(),ee(T(i1),{"as-child":""},{default:q(()=>[ae(T(dt),{id:T(n).triggerId,ref:T(r),type:i.as==="button"?"button":void 0,"as-child":e.asChild,as:i.as,"aria-haspopup":"menu","aria-expanded":T(n).open.value,"aria-controls":T(n).open.value?T(n).contentId:void 0,"data-disabled":i.disabled?"":void 0,disabled:i.disabled,"data-state":T(n).open.value?"open":"closed",onClick:o[0]||(o[0]=async a=>{!i.disabled&&a.button===0&&a.ctrlKey===!1&&(T(n)?.onOpenToggle(),await Xe(),T(n).open.value&&a.preventDefault())}),onKeydown:o[1]||(o[1]=KA(a=>{i.disabled||(["Enter"," "].includes(a.key)&&T(n).onOpenToggle(),a.key==="ArrowDown"&&T(n).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())},["enter","space","arrow-down"]))},{default:q(()=>[oe(i.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),V1=M1;const L1=[" ","Enter","ArrowUp","ArrowDown"],F1=[" ","Enter"],Sn=10;function ic(t,e,n){return t===void 0?!1:Array.isArray(t)?t.some(r=>Zd(r,e,n)):Zd(t,e,n)}function Zd(t,e,n){return t===void 0||e===void 0?!1:typeof t=="string"?t===e:typeof n=="function"?n(t,e):typeof n=="string"?t?.[n]===e?.[n]:dC(t,e)}function B1(t){return t==null||t===""||Array.isArray(t)&&t.length===0}const $1={key:0,value:""},[ei,qw]=nn("SelectRoot");var U1=J({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const n=t,r=e,{required:s,disabled:i,multiple:o,dir:a}=In(n),l=Bi(n,"modelValue",r,{defaultValue:n.defaultValue??(o.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),u=Bi(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),d=j(),f=j(),h=j({x:0,y:0}),m=ie(()=>o.value&&Array.isArray(l.value)?l.value?.length===0:lg(l.value));bs({isProvider:!0});const v=Xc(a),b=VC(d),E=j(new Set),O=ie(()=>Array.from(E.value).map(k=>k.value).join(";"));function M(k){if(o.value){const V=Array.isArray(l.value)?[...l.value]:[],F=V.findIndex(I=>Zd(I,k,n.by));F===-1?V.push(k):V.splice(F,1),l.value=[...V]}else l.value=k}function D(k){return Array.from(E.value).find(V=>ic(k,V.value,n.by))}return qw({triggerElement:d,onTriggerChange:k=>{d.value=k},valueElement:f,onValueElementChange:k=>{f.value=k},contentId:"",modelValue:l,onValueChange:M,by:n.by,open:u,multiple:o,required:s,onOpenChange:k=>{u.value=k},dir:v,triggerPointerDownPosRef:h,disabled:i,isEmptyModelValue:m,optionsSet:E,onOptionAdd:k=>{const V=D(k.value);V&&E.value.delete(V),E.value.add(k)},onOptionRemove:k=>{const V=D(k.value);V&&E.value.delete(V)}}),(k,V)=>($(),ee(T(Aw),null,{default:q(()=>[oe(k.$slots,"default",{modelValue:T(l),open:T(u)}),T(b)?($(),ee(z1,{key:O.value,"aria-hidden":"true",tabindex:"-1",multiple:T(o),required:T(s),name:k.name,autocomplete:k.autocomplete,disabled:T(i),value:T(l)},{default:q(()=>[T(lg)(T(l))?($(),Ce("option",$1)):vt("v-if",!0),($(!0),Ce(Ue,null,On(Array.from(E.value),F=>($(),Ce("option",Ie({key:F.value??""},{ref_for:!0},F),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):vt("v-if",!0)]),_:3}))}}),q1=U1,j1=J({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(t){const e=t,n=j(),r=ei();Le(()=>e.value,(i,o)=>{const a=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==o&&u&&n.value){const d=new Event("change",{bubbles:!0});u.call(n.value,i),n.value.dispatchEvent(d)}});function s(i){r.onValueChange(i.target.value)}return(i,o)=>($(),ee(T(KP),{"as-child":""},{default:q(()=>[Ke("select",Ie({ref_key:"selectElement",ref:n},e,{onInput:s}),[oe(i.$slots,"default")],16)]),_:3}))}}),z1=j1,H1=J({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:Sn},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const n=ar(t);return(r,s)=>($(),ee(T(Fw),Ie(T(n),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:q(()=>[oe(r.$slots,"default")]),_:3},16))}}),W1=H1;const K1={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[ti,jw]=nn("SelectContent");var G1=J({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=ei();yw(),nh(n.bodyLock);const{CollectionSlot:i,getItems:o}=bs(),a=j();rh(a);const{search:l,handleTypeaheadSearch:u}=sh(),d=j(),f=j(),h=j(),m=j(!1),v=j(!1),b=j(!1);function E(){f.value&&a.value&&Wd([f.value,a.value])}Le(m,()=>{E()});const{onOpenChange:O,triggerPointerDownPosRef:M}=s;at(F=>{if(!a.value)return;let I={x:0,y:0};const w=_=>{I={x:Math.abs(Math.round(_.pageX)-(M.value?.x??0)),y:Math.abs(Math.round(_.pageY)-(M.value?.y??0))}},y=_=>{_.pointerType!=="touch"&&(I.x<=10&&I.y<=10?_.preventDefault():a.value?.contains(_.target)||O(!1),document.removeEventListener("pointermove",w),M.value=null)};M.value!==null&&(document.addEventListener("pointermove",w),document.addEventListener("pointerup",y,{capture:!0,once:!0})),F(()=>{document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",y,{capture:!0})})});function D(F){const I=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!I&&F.key.length===1&&u(F.key,o()),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let y=[...o().map(_=>_.ref)];if(["ArrowUp","End"].includes(F.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const _=F.target,A=y.indexOf(_);y=y.slice(A+1)}setTimeout(()=>Wd(y)),F.preventDefault()}}const k=ie(()=>n.position==="popper"?n:{}),V=ar(k.value);return jw({content:a,viewport:d,onViewportChange:F=>{d.value=F},itemRefCallback:(F,I,w)=>{const y=!v.value&&!w,_=ic(s.modelValue.value,I,s.by);if(s.multiple.value){if(b.value)return;(_||y)&&(f.value=F,_&&(b.value=!0))}else(_||y)&&(f.value=F);y&&(v.value=!0)},selectedItem:f,selectedItemText:h,onItemLeave:()=>{a.value?.focus()},itemTextRefCallback:(F,I,w)=>{const y=!v.value&&!w;(ic(s.modelValue.value,I,s.by)||y)&&(h.value=F)},focusSelectedItem:E,position:n.position,isPositioned:m,searchRef:l}),(F,I)=>($(),ee(T(i),null,{default:q(()=>[ae(T(oh),{"as-child":"",onMountAutoFocus:I[6]||(I[6]=xi(()=>{},["prevent"])),onUnmountAutoFocus:I[7]||(I[7]=w=>{r("closeAutoFocus",w),!w.defaultPrevented&&(T(s).triggerElement.value?.focus({preventScroll:!0}),w.preventDefault())})},{default:q(()=>[ae(T(ih),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:I[2]||(I[2]=xi(()=>{},["prevent"])),onDismiss:I[3]||(I[3]=w=>T(s).onOpenChange(!1)),onEscapeKeyDown:I[4]||(I[4]=w=>r("escapeKeyDown",w)),onPointerDownOutside:I[5]||(I[5]=w=>r("pointerDownOutside",w))},{default:q(()=>[($(),ee(Vs(F.position==="popper"?W1:J1),Ie({...F.$attrs,...T(V)},{id:T(s).contentId,ref:w=>{const y=T(rr)(w);y?.hasAttribute("data-reka-popper-content-wrapper")?a.value=y.firstElementChild:a.value=y},role:"listbox","data-state":T(s).open.value?"open":"closed",dir:T(s).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:I[0]||(I[0]=xi(()=>{},["prevent"])),onPlaced:I[1]||(I[1]=w=>m.value=!0),onKeydown:D}),{default:q(()=>[oe(F.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),Q1=G1;const[gh,Y1]=nn("SelectItemAlignedPosition");var X1=J({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(t,{emit:e}){const n=t,r=e,{getItems:s}=bs(),i=ei(),o=ti(),a=j(!1),l=j(!0),u=j(),{forwardRef:d,currentElement:f}=Je(),{viewport:h,selectedItem:m,selectedItemText:v,focusSelectedItem:b}=o;function E(){if(i.triggerElement.value&&i.valueElement.value&&u.value&&f.value&&h?.value&&m?.value&&v?.value){const D=i.triggerElement.value.getBoundingClientRect(),k=f.value.getBoundingClientRect(),V=i.valueElement.value.getBoundingClientRect(),F=v.value.getBoundingClientRect();if(i.dir.value!=="rtl"){const x=F.left-k.left,Z=V.left-x,z=D.left-Z,se=D.width+z,_e=Math.max(se,k.width),R=window.innerWidth-Sn,N=ag(Z,Sn,Math.max(Sn,R-_e));u.value.style.minWidth=`${se}px`,u.value.style.left=`${N}px`}else{const x=k.right-F.right,Z=window.innerWidth-V.right-x,z=window.innerWidth-D.right-Z,se=D.width+z,_e=Math.max(se,k.width),R=window.innerWidth-Sn,N=ag(Z,Sn,Math.max(Sn,R-_e));u.value.style.minWidth=`${se}px`,u.value.style.right=`${N}px`}const I=s().map(x=>x.ref),w=window.innerHeight-Sn*2,y=h.value.scrollHeight,_=window.getComputedStyle(f.value),A=Number.parseInt(_.borderTopWidth,10),S=Number.parseInt(_.paddingTop,10),C=Number.parseInt(_.borderBottomWidth,10),K=Number.parseInt(_.paddingBottom,10),he=A+S+y+K+C,ce=Math.min(m.value.offsetHeight*5,he),de=window.getComputedStyle(h.value),Y=Number.parseInt(de.paddingTop,10),je=Number.parseInt(de.paddingBottom,10),ct=D.top+D.height/2-Sn,it=w-ct,Ze=m.value.offsetHeight/2,Qe=m.value.offsetTop+Ze,qe=A+S+Qe,Ot=he-qe;if(qe<=ct){const x=m.value===I[I.length-1];u.value.style.bottom="0px";const Z=f.value.clientHeight-h.value.offsetTop-h.value.offsetHeight,z=Math.max(it,Ze+(x?je:0)+Z+C),se=qe+z;u.value.style.height=`${se}px`}else{const x=m.value===I[0];u.value.style.top="0px";const z=Math.max(ct,A+h.value.offsetTop+(x?Y:0)+Ze)+Ot;u.value.style.height=`${z}px`,h.value.scrollTop=qe-ct+h.value.offsetTop}u.value.style.margin=`${Sn}px 0`,u.value.style.minHeight=`${ce}px`,u.value.style.maxHeight=`${w}px`,r("placed"),requestAnimationFrame(()=>a.value=!0)}}const O=j("");_t(async()=>{await Xe(),E(),f.value&&(O.value=window.getComputedStyle(f.value).zIndex)});function M(D){D&&l.value===!0&&(E(),b?.(),l.value=!1)}return kC(i.triggerElement,()=>{E()}),Y1({contentWrapper:u,shouldExpandOnScrollRef:a,onScrollButtonChange:M}),(D,k)=>($(),Ce("div",{ref_key:"contentWrapperElement",ref:u,style:En({display:"flex",flexDirection:"column",position:"fixed",zIndex:O.value})},[ae(T(dt),Ie({ref:T(d),style:{boxSizing:"border-box",maxHeight:"100%"}},{...D.$attrs,...n}),{default:q(()=>[oe(D.$slots,"default")]),_:3},16)],4))}}),J1=X1,Z1=J({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(t){return qw(t.context),jw(K1),(n,r)=>oe(n.$slots,"default")}}),ex=Z1;const tx={key:1};var nx=J({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,s=Ln(n,e),i=ei(),o=j();_t(()=>{o.value=new DocumentFragment});const a=j(),l=ie(()=>n.forceMount||i.open.value),u=j(l.value);return Le(l,()=>{setTimeout(()=>u.value=l.value)}),(d,f)=>l.value||u.value||a.value?.present?($(),ee(T(Jc),{key:0,ref_key:"presenceRef",ref:a,present:l.value},{default:q(()=>[ae(Q1,xn(_s({...T(s),...d.$attrs})),{default:q(()=>[oe(d.$slots,"default")]),_:3},16)]),_:3},8,["present"])):o.value?($(),Ce("div",tx,[($(),ee(f_,{to:o.value},[ae(ex,{context:T(i)},{default:q(()=>[oe(d.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):vt("v-if",!0)}}),rx=nx;const[y$,sx]=nn("SelectGroup");var ix=J({__name:"SelectGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=js(void 0,"reka-select-group");return sx({id:n}),(r,s)=>($(),ee(T(dt),Ie({role:"group"},e,{"aria-labelledby":T(n)}),{default:q(()=>[oe(r.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ox=ix,ax=J({__name:"SelectIcon",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>($(),ee(T(dt),{"aria-hidden":"true",as:e.as,"as-child":e.asChild},{default:q(()=>[oe(e.$slots,"default",{},()=>[n[0]||(n[0]=cn(""))])]),_:3},8,["as","as-child"]))}}),lx=ax;const[zw,cx]=nn("SelectItem");var ux=J({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const n=t,r=e,{disabled:s}=In(n),i=ei(),o=ti(),{forwardRef:a,currentElement:l}=Je(),{CollectionItem:u}=bs(),d=ie(()=>ic(i.modelValue?.value,n.value,i.by)),f=j(!1),h=j(n.textValue??""),m=js(void 0,"reka-select-item-text"),v="select.select";async function b(k){if(k.defaultPrevented)return;const V={originalEvent:k,value:n.value};Zf(v,E,V)}async function E(k){await Xe(),r("select",k),!k.defaultPrevented&&(s.value||(i.onValueChange(n.value),i.multiple.value||i.onOpenChange(!1)))}async function O(k){await Xe(),!k.defaultPrevented&&(s.value?o.onItemLeave?.():k.currentTarget?.focus({preventScroll:!0}))}async function M(k){await Xe(),!k.defaultPrevented&&k.currentTarget===Qt()&&o.onItemLeave?.()}async function D(k){await Xe(),!(k.defaultPrevented||o.searchRef?.value!==""&&k.key===" ")&&(F1.includes(k.key)&&b(k),k.key===" "&&k.preventDefault())}if(n.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _t(()=>{l.value&&o.itemRefCallback(l.value,n.value,n.disabled)}),cx({value:n.value,disabled:s,textId:m,isSelected:d,onItemTextChange:k=>{h.value=((h.value||k?.textContent)??"").trim()}}),(k,V)=>($(),ee(T(u),{value:{textValue:h.value}},{default:q(()=>[ae(T(dt),{ref:T(a),role:"option","aria-labelledby":T(m),"data-highlighted":f.value?"":void 0,"aria-selected":d.value,"data-state":d.value?"checked":"unchecked","aria-disabled":T(s)||void 0,"data-disabled":T(s)?"":void 0,tabindex:T(s)?void 0:-1,as:k.as,"as-child":k.asChild,onFocus:V[0]||(V[0]=F=>f.value=!0),onBlur:V[1]||(V[1]=F=>f.value=!1),onPointerup:b,onPointerdown:V[2]||(V[2]=F=>{F.currentTarget.focus({preventScroll:!0})}),onTouchend:V[3]||(V[3]=xi(()=>{},["prevent","stop"])),onPointermove:O,onPointerleave:M,onKeydown:D},{default:q(()=>[oe(k.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),dx=ux,fx=J({__name:"SelectItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,n=zw();return(r,s)=>T(n).isSelected.value?($(),ee(T(dt),Ie({key:0,"aria-hidden":"true"},e),{default:q(()=>[oe(r.$slots,"default")]),_:3},16)):vt("v-if",!0)}}),hx=fx,px=J({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,n=ei(),r=ti(),s=zw(),{forwardRef:i,currentElement:o}=Je(),a=ie(()=>({value:s.value,disabled:s.disabled.value,textContent:o.value?.textContent??s.value?.toString()??""}));return _t(()=>{o.value&&(s.onItemTextChange(o.value),r.itemTextRefCallback(o.value,s.value,s.disabled.value),n.onOptionAdd(a.value))}),Js(()=>{n.onOptionRemove(a.value)}),(l,u)=>($(),ee(T(dt),Ie({id:T(s).textId,ref:T(i)},{...e,...l.$attrs}),{default:q(()=>[oe(l.$slots,"default")]),_:3},16,["id"]))}}),mx=px,gx=J({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(n,r)=>($(),ee(T(ah),xn(_s(e)),{default:q(()=>[oe(n.$slots,"default")]),_:3},16))}}),yx=gx,vx=J({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(t,{emit:e}){const n=e,{getItems:r}=bs(),s=ti(),i=j(null);function o(){i.value!==null&&(window.clearInterval(i.value),i.value=null)}at(()=>{r().map(d=>d.ref).find(d=>d===Qt())?.scrollIntoView({block:"nearest"})});function a(){i.value===null&&(i.value=window.setInterval(()=>{n("autoScroll")},50))}function l(){s.onItemLeave?.(),i.value===null&&(i.value=window.setInterval(()=>{n("autoScroll")},50))}return Oa(()=>o()),(u,d)=>($(),ee(T(dt),Ie({"aria-hidden":"true",style:{flexShrink:0}},u.$parent?.$props,{onPointerdown:a,onPointermove:l,onPointerleave:d[0]||(d[0]=()=>{o()})}),{default:q(()=>[oe(u.$slots,"default")]),_:3},16))}}),Hw=vx,_x=J({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=ti(),n=e.position==="item-aligned"?gh():void 0,{forwardRef:r,currentElement:s}=Je(),i=j(!1);return at(o=>{if(e.viewport?.value&&e.isPositioned?.value){let l=function(){const u=a.scrollHeight-a.clientHeight;i.value=Math.ceil(a.scrollTop)<u};const a=e.viewport.value;l(),a.addEventListener("scroll",l),o(()=>a.removeEventListener("scroll",l))}}),Le(s,()=>{s.value&&n?.onScrollButtonChange(s.value)}),(o,a)=>i.value?($(),ee(Hw,{key:0,ref:T(r),onAutoScroll:a[0]||(a[0]=()=>{const{viewport:l,selectedItem:u}=T(e);l?.value&&u?.value&&(l.value.scrollTop=l.value.scrollTop+u.value.offsetHeight)})},{default:q(()=>[oe(o.$slots,"default")]),_:3},512)):vt("v-if",!0)}}),wx=_x,bx=J({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=ti(),n=e.position==="item-aligned"?gh():void 0,{forwardRef:r,currentElement:s}=Je(),i=j(!1);return at(o=>{if(e.viewport?.value&&e.isPositioned?.value){let l=function(){i.value=a.scrollTop>0};const a=e.viewport.value;l(),a.addEventListener("scroll",l),o(()=>a.removeEventListener("scroll",l))}}),Le(s,()=>{s.value&&n?.onScrollButtonChange(s.value)}),(o,a)=>i.value?($(),ee(Hw,{key:0,ref:T(r),onAutoScroll:a[0]||(a[0]=()=>{const{viewport:l,selectedItem:u}=T(e);l?.value&&u?.value&&(l.value.scrollTop=l.value.scrollTop-u.value.offsetHeight)})},{default:q(()=>[oe(o.$slots,"default")]),_:3},512)):vt("v-if",!0)}}),Ex=bx,Tx=J({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,n=ei(),{forwardRef:r,currentElement:s}=Je(),i=ie(()=>n.disabled?.value||e.disabled);n.contentId||=js(void 0,"reka-select-content"),_t(()=>{n.onTriggerChange(s.value)});const{getItems:o}=bs(),{search:a,handleTypeaheadSearch:l,resetTypeahead:u}=sh();function d(){i.value||(n.onOpenChange(!0),u())}function f(h){d(),n.triggerPointerDownPosRef.value={x:Math.round(h.pageX),y:Math.round(h.pageY)}}return(h,m)=>($(),ee(T(Sw),{"as-child":"",reference:h.reference},{default:q(()=>[ae(T(dt),{ref:T(r),role:"combobox",type:h.as==="button"?"button":void 0,"aria-controls":T(n).contentId,"aria-expanded":T(n).open.value||!1,"aria-required":T(n).required?.value,"aria-autocomplete":"none",disabled:i.value,dir:T(n)?.dir.value,"data-state":T(n)?.open.value?"open":"closed","data-disabled":i.value?"":void 0,"data-placeholder":T(B1)(T(n).modelValue?.value)?"":void 0,"as-child":h.asChild,as:h.as,onClick:m[0]||(m[0]=v=>{v?.currentTarget?.focus()}),onPointerdown:m[1]||(m[1]=v=>{if(v.pointerType==="touch")return v.preventDefault();const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(f(v),v.preventDefault())}),onPointerup:m[2]||(m[2]=xi(v=>{v.pointerType==="touch"&&f(v)},["prevent"])),onKeydown:m[3]||(m[3]=v=>{const b=T(a)!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&b&&v.key===" "||(T(l)(v.key,T(o)()),T(L1).includes(v.key)&&(d(),v.preventDefault()))})},{default:q(()=>[oe(h.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]),_:3},8,["reference"]))}}),Ix=Tx,Ax=J({__name:"SelectViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{nonce:n}=In(e),r=r1(n),s=ti(),i=s.position==="item-aligned"?gh():void 0,{forwardRef:o,currentElement:a}=Je();_t(()=>{s?.onViewportChange(a.value)});const l=j(0);function u(d){const f=d.currentTarget,{shouldExpandOnScrollRef:h,contentWrapper:m}=i??{};if(h?.value&&m?.value){const v=Math.abs(l.value-f.scrollTop);if(v>0){const b=window.innerHeight-Sn*2,E=Number.parseFloat(m.value.style.minHeight),O=Number.parseFloat(m.value.style.height),M=Math.max(E,O);if(M<b){const D=M+v,k=Math.min(b,D),V=D-k;m.value.style.height=`${k}px`,m.value.style.bottom==="0px"&&(f.scrollTop=V>0?V:0,m.value.style.justifyContent="flex-end")}}}l.value=f.scrollTop}return(d,f)=>($(),Ce(Ue,null,[ae(T(dt),Ie({ref:T(o),"data-reka-select-viewport":"",role:"presentation"},{...d.$attrs,...e},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:u}),{default:q(()=>[oe(d.$slots,"default")]),_:3},16),ae(T(dt),{as:"style",nonce:T(r)},{default:q(()=>f[0]||(f[0]=[cn(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),Sx=Ax;function Ww(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Ww(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kw(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Ww(t))&&(r&&(r+=" "),r+=e);return r}const yh="-",Cx=t=>{const e=Rx(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(yh);return a[0]===""&&a.length!==1&&a.shift(),Gw(a,e)||Px(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Gw=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Gw(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(yh);return e.validators.find(({validator:o})=>o(i))?.classGroupId},Pg=/^\[(.+)\]$/,Px=t=>{if(Pg.test(t)){const e=Pg.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Rx=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)ef(n[s],r,s,e);return r},ef=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Rg(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(xx(s)){ef(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ef(o,Rg(e,i),n,r)})})},Rg=(t,e)=>{let n=t;return e.split(yh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},xx=t=>t.isThemeGetter,kx=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},tf="!",nf=":",Ox=nf.length,Dx=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,l=0,u;for(let v=0;v<s.length;v++){let b=s[v];if(o===0&&a===0){if(b===nf){i.push(s.slice(l,v)),l=v+Ox;continue}if(b==="/"){u=v;continue}}b==="["?o++:b==="]"?o--:b==="("?a++:b===")"&&a--}const d=i.length===0?s:s.substring(l),f=Nx(d),h=f!==d,m=u&&u>l?u-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(e){const s=e+nf,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Nx=t=>t.endsWith(tf)?t.substring(0,t.length-1):t.startsWith(tf)?t.substring(1):t,Mx=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},Vx=t=>({cache:kx(t.cacheSize),parseClassName:Dx(t),sortModifiers:Mx(t),...Cx(t)}),Lx=/\s+/,Fx=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(Lx);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:b}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let E=!!b,O=r(E?v.substring(0,b):v);if(!O){if(!E){l=d+(l.length>0?" "+l:l);continue}if(O=r(v),!O){l=d+(l.length>0?" "+l:l);continue}E=!1}const M=i(h).join(":"),D=m?M+tf:M,k=D+O;if(o.includes(k))continue;o.push(k);const V=s(O,E);for(let F=0;F<V.length;++F){const I=V[F];o.push(D+I)}l=d+(l.length>0?" "+l:l)}return l};function Bx(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qw(e))&&(r&&(r+=" "),r+=n);return r}const Qw=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qw(t[r]))&&(n&&(n+=" "),n+=e);return n};function $x(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=Vx(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Fx(l,n);return s(l,d),d}return function(){return i(Bx.apply(null,arguments))}}const Tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Yw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Xw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ux=/^\d+\/\d+$/,qx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Hx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mi=t=>Ux.test(t),Oe=t=>!!t&&!Number.isNaN(Number(t)),zr=t=>!!t&&Number.isInteger(Number(t)),od=t=>t.endsWith("%")&&Oe(t.slice(0,-1)),hr=t=>qx.test(t),Kx=()=>!0,Gx=t=>jx.test(t)&&!zx.test(t),Jw=()=>!1,Qx=t=>Hx.test(t),Yx=t=>Wx.test(t),Xx=t=>!me(t)&&!ge(t),Jx=t=>Yi(t,tb,Jw),me=t=>Yw.test(t),Ds=t=>Yi(t,nb,Gx),ad=t=>Yi(t,rk,Oe),xg=t=>Yi(t,Zw,Jw),Zx=t=>Yi(t,eb,Yx),yl=t=>Yi(t,rb,Qx),ge=t=>Xw.test(t),Ao=t=>Xi(t,nb),ek=t=>Xi(t,sk),kg=t=>Xi(t,Zw),tk=t=>Xi(t,tb),nk=t=>Xi(t,eb),vl=t=>Xi(t,rb,!0),Yi=(t,e,n)=>{const r=Yw.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Xi=(t,e,n=!1)=>{const r=Xw.exec(t);return r?r[1]?e(r[1]):n:!1},Zw=t=>t==="position"||t==="percentage",eb=t=>t==="image"||t==="url",tb=t=>t==="length"||t==="size"||t==="bg-size",nb=t=>t==="length",rk=t=>t==="number",sk=t=>t==="family-name",rb=t=>t==="shadow",ik=()=>{const t=Tt("color"),e=Tt("font"),n=Tt("text"),r=Tt("font-weight"),s=Tt("tracking"),i=Tt("leading"),o=Tt("breakpoint"),a=Tt("container"),l=Tt("spacing"),u=Tt("radius"),d=Tt("shadow"),f=Tt("inset-shadow"),h=Tt("text-shadow"),m=Tt("drop-shadow"),v=Tt("blur"),b=Tt("perspective"),E=Tt("aspect"),O=Tt("ease"),M=Tt("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...k(),ge,me],F=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],w=()=>[ge,me,l],y=()=>[mi,"full","auto",...w()],_=()=>[zr,"none","subgrid",ge,me],A=()=>["auto",{span:["full",zr,ge,me]},zr,ge,me],S=()=>[zr,"auto",ge,me],C=()=>["auto","min","max","fr",ge,me],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],ce=()=>["auto",...w()],de=()=>[mi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],Y=()=>[t,ge,me],je=()=>[...k(),kg,xg,{position:[ge,me]}],ct=()=>["no-repeat",{repeat:["","x","y","space","round"]}],it=()=>["auto","cover","contain",tk,Jx,{size:[ge,me]}],Ze=()=>[od,Ao,Ds],Qe=()=>["","none","full",u,ge,me],qe=()=>["",Oe,Ao,Ds],Ot=()=>["solid","dashed","dotted","double"],mt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],x=()=>[Oe,od,kg,xg],Z=()=>["","none",v,ge,me],z=()=>["none",Oe,ge,me],se=()=>["none",Oe,ge,me],_e=()=>[Oe,ge,me],R=()=>[mi,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hr],breakpoint:[hr],color:[Kx],container:[hr],"drop-shadow":[hr],ease:["in","out","in-out"],font:[Xx],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hr],shadow:[hr],spacing:["px",Oe],text:[hr],"text-shadow":[hr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mi,me,ge,E]}],container:["container"],columns:[{columns:[Oe,me,ge,a]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:y()}],"inset-x":[{"inset-x":y()}],"inset-y":[{"inset-y":y()}],start:[{start:y()}],end:[{end:y()}],top:[{top:y()}],right:[{right:y()}],bottom:[{bottom:y()}],left:[{left:y()}],visibility:["visible","invisible","collapse"],z:[{z:[zr,"auto",ge,me]}],basis:[{basis:[mi,"full","auto",a,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Oe,mi,"auto","initial","none",me]}],grow:[{grow:["",Oe,ge,me]}],shrink:[{shrink:["",Oe,ge,me]}],order:[{order:[zr,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:ce()}],mx:[{mx:ce()}],my:[{my:ce()}],ms:[{ms:ce()}],me:[{me:ce()}],mt:[{mt:ce()}],mr:[{mr:ce()}],mb:[{mb:ce()}],ml:[{ml:ce()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[a,"screen",...de()]}],"min-w":[{"min-w":[a,"screen","none",...de()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...de()]}],h:[{h:["screen","lh",...de()]}],"min-h":[{"min-h":["screen","lh","none",...de()]}],"max-h":[{"max-h":["screen","lh",...de()]}],"font-size":[{text:["base",n,Ao,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,ad]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",od,me]}],"font-family":[{font:[ek,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ge,me]}],"line-clamp":[{"line-clamp":[Oe,"none",ge,ad]}],leading:[{leading:[i,...w()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ot(),"wavy"]}],"text-decoration-thickness":[{decoration:[Oe,"from-font","auto",ge,Ds]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Oe,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:je()}],"bg-repeat":[{bg:ct()}],"bg-size":[{bg:it()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zr,ge,me],radial:["",ge,me],conic:[zr,ge,me]},nk,Zx]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:Ze()}],"gradient-via-pos":[{via:Ze()}],"gradient-to-pos":[{to:Ze()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:Qe()}],"rounded-s":[{"rounded-s":Qe()}],"rounded-e":[{"rounded-e":Qe()}],"rounded-t":[{"rounded-t":Qe()}],"rounded-r":[{"rounded-r":Qe()}],"rounded-b":[{"rounded-b":Qe()}],"rounded-l":[{"rounded-l":Qe()}],"rounded-ss":[{"rounded-ss":Qe()}],"rounded-se":[{"rounded-se":Qe()}],"rounded-ee":[{"rounded-ee":Qe()}],"rounded-es":[{"rounded-es":Qe()}],"rounded-tl":[{"rounded-tl":Qe()}],"rounded-tr":[{"rounded-tr":Qe()}],"rounded-br":[{"rounded-br":Qe()}],"rounded-bl":[{"rounded-bl":Qe()}],"border-w":[{border:qe()}],"border-w-x":[{"border-x":qe()}],"border-w-y":[{"border-y":qe()}],"border-w-s":[{"border-s":qe()}],"border-w-e":[{"border-e":qe()}],"border-w-t":[{"border-t":qe()}],"border-w-r":[{"border-r":qe()}],"border-w-b":[{"border-b":qe()}],"border-w-l":[{"border-l":qe()}],"divide-x":[{"divide-x":qe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":qe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ot(),"hidden","none"]}],"divide-style":[{divide:[...Ot(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Ot(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Oe,ge,me]}],"outline-w":[{outline:["",Oe,Ao,Ds]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",d,vl,yl]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",f,vl,yl]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:qe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Oe,Ds]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":qe()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",h,vl,yl]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Oe,ge,me]}],"mix-blend":[{"mix-blend":[...mt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":mt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":x()}],"mask-image-linear-to-pos":[{"mask-linear-to":x()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":x()}],"mask-image-t-to-pos":[{"mask-t-to":x()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":x()}],"mask-image-r-to-pos":[{"mask-r-to":x()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":x()}],"mask-image-b-to-pos":[{"mask-b-to":x()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":x()}],"mask-image-l-to-pos":[{"mask-l-to":x()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":x()}],"mask-image-x-to-pos":[{"mask-x-to":x()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":x()}],"mask-image-y-to-pos":[{"mask-y-to":x()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":x()}],"mask-image-radial-to-pos":[{"mask-radial-to":x()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":x()}],"mask-image-conic-to-pos":[{"mask-conic-to":x()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:je()}],"mask-repeat":[{mask:ct()}],"mask-size":[{mask:it()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:Z()}],brightness:[{brightness:[Oe,ge,me]}],contrast:[{contrast:[Oe,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",m,vl,yl]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Oe,ge,me]}],"hue-rotate":[{"hue-rotate":[Oe,ge,me]}],invert:[{invert:["",Oe,ge,me]}],saturate:[{saturate:[Oe,ge,me]}],sepia:[{sepia:["",Oe,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[Oe,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Oe,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Oe,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Oe,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Oe,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Oe,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Oe,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Oe,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Oe,"initial",ge,me]}],ease:[{ease:["linear","initial",O,ge,me]}],delay:[{delay:[Oe,ge,me]}],animate:[{animate:["none",M,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,ge,me]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:R()}],"translate-x":[{"translate-x":R()}],"translate-y":[{"translate-y":R()}],"translate-z":[{"translate-z":R()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Oe,Ao,Ds,ad]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ok=$x(ik);function Bt(...t){return ok(Kw(t))}const ak=J({__name:"Avatar",props:{class:{}},setup(t){const e=t;return(n,r)=>($(),ee(T(MP),{"data-slot":"avatar",class:ft(T(Bt)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e.class))},{default:q(()=>[oe(n.$slots,"default")]),_:3},8,["class"]))}});function lk(t){return Ra()?(Dc(t),!0):!1}const ld=new WeakMap,ck=(...t)=>{var e;const n=t[0],r=(e=Ut())==null?void 0:e.proxy;if(r==null&&!Kf())throw new Error("injectLocal must be called in setup");return r&&ld.has(r)&&n in ld.get(r)?ld.get(r)[n]:ln(...t)};function uk(t){if(!rt(t))return nr(t);const e=new Proxy({},{get(n,r,s){return T(Reflect.get(t.value,r,s))},set(n,r,s){return rt(t.value[r])&&!rt(s)?t.value[r].value=s:t.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return nr(e)}function dk(t){return uk(ie(t))}function Fn(t,...e){const n=e.flat(),r=n[0];return dk(()=>Object.fromEntries(typeof r=="function"?Object.entries(In(t)).filter(([s,i])=>!r(st(i),s)):Object.entries(In(t)).filter(s=>!n.includes(s[0]))))}const fk=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const hk=t=>typeof t<"u",pk=Object.prototype.toString,mk=t=>pk.call(t)==="[object Object]",gk=()=>{};function sb(...t){if(t.length!==1)return t_(...t);const e=t[0];return typeof e=="function"?Vi(jf(()=>({get:e,set:gk}))):j(e)}function yk(t,e){function n(...r){return new Promise((s,i)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(i)})}return n}const ib=t=>t();function vk(t=ib,e={}){const{initialState:n="active"}=e,r=sb(n==="active");function s(){r.value=!1}function i(){r.value=!0}const o=(...a)=>{r.value&&t(...a)};return{isActive:Vi(r),pause:s,resume:i,eventFilter:o}}function Og(t){return t.endsWith("rem")?Number.parseFloat(t)*16:Number.parseFloat(t)}function cd(t){return Array.isArray(t)?t:[t]}function _k(t){return Ut()}function wk(t,e,n={}){const{eventFilter:r=ib,...s}=n;return Le(t,yk(r,e),s)}function bk(t,e,n={}){const{eventFilter:r,initialState:s="active",...i}=n,{eventFilter:o,pause:a,resume:l,isActive:u}=vk(r,{initialState:s});return{stop:wk(t,e,{...i,eventFilter:o}),pause:a,resume:l,isActive:u}}function ob(t,e=!0,n){_k()?_t(t,n):e?t():Xe(t)}function Ek(t,e,n){return Le(t,e,{...n,immediate:!0})}const ha=fk?window:void 0;function ab(t){var e;const n=st(t);return(e=n?.$el)!=null?e:n}function rf(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,l,u,d)=>(a.addEventListener(l,u,d),()=>a.removeEventListener(l,u,d)),s=ie(()=>{const a=cd(st(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),i=Ek(()=>{var a,l;return[(l=(a=s.value)==null?void 0:a.map(u=>ab(u)))!=null?l:[ha].filter(u=>u!=null),cd(st(s.value?t[1]:t[0])),cd(T(s.value?t[2]:t[1])),st(s.value?t[3]:t[2])]},([a,l,u,d])=>{if(n(),!a?.length||!l?.length||!u?.length)return;const f=mk(d)?{...d}:d;e.push(...a.flatMap(h=>l.flatMap(m=>u.map(v=>r(h,m,v,f)))))},{flush:"post"}),o=()=>{i(),n()};return lk(n),o}function Tk(){const t=Gn(!1),e=Ut();return e&&_t(()=>{t.value=!0},e),t}function Ik(t){const e=Tk();return ie(()=>(e.value,!!t()))}const Ak=Symbol("vueuse-ssr-width");function Sk(){const t=Kf()?ck(Ak,null):null;return typeof t=="number"?t:void 0}function Ck(t,e={}){const{window:n=ha,ssrWidth:r=Sk()}=e,s=Ik(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),i=Gn(typeof r=="number"),o=Gn(),a=Gn(!1),l=u=>{a.value=u.matches};return at(()=>{if(i.value){i.value=!s.value;const u=st(t).split(",");a.value=u.some(d=>{const f=d.includes("not all"),h=d.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),m=d.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let v=!!(h||m);return h&&v&&(v=r>=Og(h[1])),m&&v&&(v=r<=Og(m[1])),f?!v:v});return}s.value&&(o.value=n.matchMedia(st(t)),a.value=o.value.matches)}),rf(o,"change",l,{passive:!0}),ie(()=>a.value)}function Pk(t){return JSON.parse(JSON.stringify(t))}const _l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wl="__vueuse_ssr_handlers__",Rk=xk();function xk(){return wl in _l||(_l[wl]=_l[wl]||{}),_l[wl]}function lb(t,e){return Rk[t]||e}function kk(t){return Ck("(prefers-color-scheme: dark)",t)}function Ok(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const Dk={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Dg="vueuse-storage";function Nk(t,e,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:d,window:f=ha,eventFilter:h,onError:m=K=>{console.error(K)},initOnMounted:v}=r,b=(d?Gn:j)(typeof e=="function"?e():e),E=ie(()=>st(t));if(!n)try{n=lb("getDefaultStorage",()=>{var K;return(K=ha)==null?void 0:K.localStorage})()}catch(K){m(K)}if(!n)return b;const O=st(e),M=Ok(O),D=(s=r.serializer)!=null?s:Dk[M],{pause:k,resume:V}=bk(b,K=>_(K),{flush:i,deep:o,eventFilter:h});Le(E,()=>S(),{flush:i});let F=!1;const I=K=>{v&&!F||S(K)},w=K=>{v&&!F||C(K)};f&&a&&(n instanceof Storage?rf(f,"storage",I,{passive:!0}):rf(f,Dg,w)),v?ob(()=>{F=!0,S()}):S();function y(K,he){if(f){const ce={key:E.value,oldValue:K,newValue:he,storageArea:n};f.dispatchEvent(n instanceof Storage?new StorageEvent("storage",ce):new CustomEvent(Dg,{detail:ce}))}}function _(K){try{const he=n.getItem(E.value);if(K==null)y(he,null),n.removeItem(E.value);else{const ce=D.write(K);he!==ce&&(n.setItem(E.value,ce),y(he,ce))}}catch(he){m(he)}}function A(K){const he=K?K.newValue:n.getItem(E.value);if(he==null)return l&&O!=null&&n.setItem(E.value,D.write(O)),O;if(!K&&u){const ce=D.read(he);return typeof u=="function"?u(ce,O):M==="object"&&!Array.isArray(ce)?{...O,...ce}:ce}else return typeof he!="string"?he:D.read(he)}function S(K){if(!(K&&K.storageArea!==n)){if(K&&K.key==null){b.value=O;return}if(!(K&&K.key!==E.value)){k();try{const he=D.write(b.value);(K===void 0||K?.newValue!==he)&&(b.value=A(K))}catch(he){m(he)}finally{K?Xe(V):V()}}}}function C(K){S(K.detail)}return b}const Mk="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Vk(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:s=ha,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:u,disableTransition:d=!0}=t,f={auto:"",light:"light",dark:"dark",...t.modes||{}},h=kk({window:s}),m=ie(()=>h.value?"dark":"light"),v=l||(o==null?sb(r):Nk(o,r,i,{window:s,listenToStorageChanges:a})),b=ie(()=>v.value==="auto"?m.value:v.value),E=lb("updateHTMLAttrs",(k,V,F)=>{const I=typeof k=="string"?s?.document.querySelector(k):ab(k);if(!I)return;const w=new Set,y=new Set;let _=null;if(V==="class"){const S=F.split(/\s/g);Object.values(f).flatMap(C=>(C||"").split(/\s/g)).filter(Boolean).forEach(C=>{S.includes(C)?w.add(C):y.add(C)})}else _={key:V,value:F};if(w.size===0&&y.size===0&&_===null)return;let A;d&&(A=s.document.createElement("style"),A.appendChild(document.createTextNode(Mk)),s.document.head.appendChild(A));for(const S of w)I.classList.add(S);for(const S of y)I.classList.remove(S);_&&I.setAttribute(_.key,_.value),d&&(s.getComputedStyle(A).opacity,document.head.removeChild(A))});function O(k){var V;E(e,n,(V=f[k])!=null?V:k)}function M(k){t.onChanged?t.onChanged(k,O):O(k)}Le(b,M,{flush:"post",immediate:!0}),ob(()=>M(b.value));const D=ie({get(){return u?v.value:b.value},set(k){v.value=k}});return Object.assign(D,{store:v,system:m,state:b})}function v$(t,e,n,r={}){var s,i,o;const{clone:a=!1,passive:l=!1,eventName:u,deep:d=!1,defaultValue:f,shouldEmit:h}=r,m=Ut(),v=n||m?.emit||((s=m?.$emit)==null?void 0:s.bind(m))||((o=(i=m?.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(m?.proxy));let b=u;b=b||`update:${e.toString()}`;const E=D=>a?typeof a=="function"?a(D):Pk(D):D,O=()=>hk(t[e])?E(t[e]):f,M=D=>{h?h(D)&&v(b,D):v(b,D)};if(l){const D=O(),k=j(D);let V=!1;return Le(()=>t[e],F=>{V||(V=!0,k.value=E(F),Xe(()=>V=!1))}),Le(k,F=>{!V&&(F!==t[e]||d)&&M(F)},{deep:d}),k}else return ie({get(){return O()},set(D){M(D)}})}const Lk=J({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Fn(e,"class");return(r,s)=>($(),ee(T(LP),Ie({"data-slot":"avatar-fallback"},T(n),{class:T(Bt)("bg-muted flex size-full items-center justify-center rounded-full",e.class)}),{default:q(()=>[oe(r.$slots,"default")]),_:3},16,["class"]))}}),Fk=()=>{};var Ng={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Bk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new $k;const h=i<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uk=function(t){const e=cb(t);return ub.encodeByteArray(e,!0)},db=function(t){return Uk(t).replace(/\./g,"")},fb=function(t){try{return ub.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=()=>qk().__FIREBASE_DEFAULTS__,zk=()=>{if(typeof process>"u"||typeof Ng>"u")return;const t=Ng.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fb(t[1]);return e&&JSON.parse(e)},su=()=>{try{return Fk()||jk()||zk()||Hk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wk=t=>su()?.emulatorHosts?.[t],hb=()=>su()?.config,pb=t=>su()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mb(t){return(await fetch(t,{credentials:"include"})).ok}const Ko={};function Gk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ko))Ko[e]?t.emulator.push(e):t.prod.push(e);return t}function Qk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mg=!1;function Yk(t,e){if(typeof window>"u"||typeof document>"u"||!Ji(window.location.host)||Ko[t]===e||Ko[t]||Mg)return;Ko[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=Gk().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Mg=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=Qk(r),m=n("text"),v=document.getElementById(m)||document.createElement("span"),b=n("learnmore"),E=document.getElementById(b)||document.createElement("a"),O=n("preprendIcon"),M=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const D=h.element;a(D),d(E,b);const k=u();l(M,O),D.append(M,v,E,k),document.body.appendChild(D)}i?(v.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function Jk(){const t=su()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nO(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rO(){return!Jk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sO(){try{return typeof indexedDB=="object"}catch{return!1}}function iO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oO,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,La.prototype.create)}}class La{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?aO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Mr(s,a,r)}}function aO(t,e){return t.replace(lO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lO=/\{\$([^}]+)}/g;function cO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Vg(i)&&Vg(o)){if(!Hs(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Vg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uO(t,e){const n=new dO(t,e);return n.subscribe.bind(n)}class dO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ud),s.error===void 0&&(s.error=ud),s.complete===void 0&&(s.complete=ud);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mO(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pO(t){return t===Ms?void 0:t}function mO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const yO={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},vO=Ne.INFO,_O={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},wO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_O[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vh{constructor(e){this.name=e,this._logLevel=vO,this._logHandler=wO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const bO=(t,e)=>e.some(n=>t instanceof n);let Lg,Fg;function EO(){return Lg||(Lg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TO(){return Fg||(Fg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,sf=new WeakMap,yb=new WeakMap,dd=new WeakMap,_h=new WeakMap;function IO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(is(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gb.set(n,t)}).catch(()=>{}),_h.set(e,t),e}function AO(t){if(sf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});sf.set(t,e)}let of={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SO(t){of=t(of)}function CO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fd(this),e,...n);return yb.set(r,e.sort?e.sort():[e]),is(r)}:TO().includes(t)?function(...e){return t.apply(fd(this),e),is(gb.get(this))}:function(...e){return is(t.apply(fd(this),e))}}function PO(t){return typeof t=="function"?CO(t):(t instanceof IDBTransaction&&AO(t),bO(t,EO())?new Proxy(t,of):t)}function is(t){if(t instanceof IDBRequest)return IO(t);if(dd.has(t))return dd.get(t);const e=PO(t);return e!==t&&(dd.set(t,e),_h.set(e,t)),e}const fd=t=>_h.get(t);function RO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=is(o);return r&&o.addEventListener("upgradeneeded",l=>{r(is(o.result),l.oldVersion,l.newVersion,is(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xO=["get","getKey","getAll","getAllKeys","count"],kO=["put","add","delete","clear"],hd=new Map;function Bg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=kO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xO.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return hd.set(e,i),i}SO(t=>({...t,get:(e,n,r)=>Bg(e,n)||t.get(e,n,r),has:(e,n)=>!!Bg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DO(t){return t.getComponent()?.type==="VERSION"}const af="@firebase/app",$g="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new vh("@firebase/app"),NO="@firebase/app-compat",MO="@firebase/analytics-compat",VO="@firebase/analytics",LO="@firebase/app-check-compat",FO="@firebase/app-check",BO="@firebase/auth",$O="@firebase/auth-compat",UO="@firebase/database",qO="@firebase/data-connect",jO="@firebase/database-compat",zO="@firebase/functions",HO="@firebase/functions-compat",WO="@firebase/installations",KO="@firebase/installations-compat",GO="@firebase/messaging",QO="@firebase/messaging-compat",YO="@firebase/performance",XO="@firebase/performance-compat",JO="@firebase/remote-config",ZO="@firebase/remote-config-compat",eD="@firebase/storage",tD="@firebase/storage-compat",nD="@firebase/firestore",rD="@firebase/ai",sD="@firebase/firestore-compat",iD="firebase",oD="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="[DEFAULT]",aD={[af]:"fire-core",[NO]:"fire-core-compat",[VO]:"fire-analytics",[MO]:"fire-analytics-compat",[FO]:"fire-app-check",[LO]:"fire-app-check-compat",[BO]:"fire-auth",[$O]:"fire-auth-compat",[UO]:"fire-rtdb",[qO]:"fire-data-connect",[jO]:"fire-rtdb-compat",[zO]:"fire-fn",[HO]:"fire-fn-compat",[WO]:"fire-iid",[KO]:"fire-iid-compat",[GO]:"fire-fcm",[QO]:"fire-fcm-compat",[YO]:"fire-perf",[XO]:"fire-perf-compat",[JO]:"fire-rc",[ZO]:"fire-rc-compat",[eD]:"fire-gcs",[tD]:"fire-gcs-compat",[nD]:"fire-fst",[sD]:"fire-fst-compat",[rD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,lD=new Map,cf=new Map;function Ug(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){const e=t.name;if(cf.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,t);for(const n of oc.values())Ug(n,t);for(const n of lD.values())Ug(n,t);return!0}function wh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new La("app","Firebase",cD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=oD;function vb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:lf,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw os.create("bad-app-name",{appName:String(s)});if(n||(n=hb()),!n)throw os.create("no-options");const i=oc.get(s);if(i){if(Hs(n,i.options)&&Hs(r,i.config))return i;throw os.create("duplicate-app",{appName:s})}const o=new gO(s);for(const l of cf.values())o.addComponent(l);const a=new uD(n,r,o);return oc.set(s,a),a}function dD(t=lf){const e=oc.get(t);if(!e&&t===lf&&hb())return vb();if(!e)throw os.create("no-app",{appName:t});return e}function as(t,e,n){let r=aD[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(o.join(" "));return}Ui(new Ws(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="firebase-heartbeat-database",hD=1,pa="firebase-heartbeat-store";let pd=null;function _b(){return pd||(pd=RO(fD,hD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),pd}async function pD(t){try{const n=(await _b()).transaction(pa),r=await n.objectStore(pa).get(wb(t));return await n.done,r}catch(e){if(e instanceof Mr)Cr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(n.message)}}}async function qg(t,e){try{const r=(await _b()).transaction(pa,"readwrite");await r.objectStore(pa).put(e,wb(t)),await r.done}catch(n){if(n instanceof Mr)Cr.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(r.message)}}}function wb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=1024,gD=30;class yD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _D(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>gD){const s=wD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jg(),{heartbeatsToSend:n,unsentEntries:r}=vD(this._heartbeatsCache.heartbeats),s=db(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Cr.warn(e),""}}}function jg(){return new Date().toISOString().substring(0,10)}function vD(t,e=mD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),zg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _D{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sO()?iO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zg(t){return db(JSON.stringify({version:2,heartbeats:t})).length}function wD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){Ui(new Ws("platform-logger",e=>new OO(e),"PRIVATE")),Ui(new Ws("heartbeat",e=>new yD(e),"PRIVATE")),as(af,$g,t),as(af,$g,"esm2020"),as("fire-js","")}bD("");function bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=bb,Eb=new La("auth","Firebase",bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new vh("@firebase/auth");function TD(t,...e){ac.logLevel<=Ne.WARN&&ac.warn(`Auth (${Zi}): ${t}`,...e)}function Dl(t,...e){ac.logLevel<=Ne.ERROR&&ac.error(`Auth (${Zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw bh(t,...e)}function Yn(t,...e){return bh(t,...e)}function Tb(t,e,n){const r={...ED(),[e]:n};return new La("auth","Firebase",r).create(e,{appName:t.name})}function wr(t){return Tb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Eb.create(t,...e)}function Ae(t,e,...n){if(!t)throw bh(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dl(e),new Error(e)}function Pr(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(){return typeof self<"u"&&self.location?.href||""}function ID(){return Hg()==="http:"||Hg()==="https:"}function Hg(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ID()||eO()||"connection"in navigator)?navigator.onLine:!0}function SD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=Xk()||tO()}get(){return AD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t,e){Pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RD=new Ba(3e4,6e4);function Es(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ts(t,e,n,r,s={}){return Ab(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Fa({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return Zk()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(u.credentials="include"),Ib.fetch()(await Sb(t,t.config.apiHost,n,a),u)})}async function Ab(t,e,n){t._canInitEmulator=!1;const r={...CD,...e};try{const s=new kD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Tb(t,d,u);Vn(t,d)}}catch(s){if(s instanceof Mr)throw s;Vn(t,"network-request-failed",{message:String(s)})}}async function $a(t,e,n,r,s={}){const i=await Ts(t,e,n,r,s);return"mfaPendingCredential"in i&&Vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Sb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Eh(t.config,s):`${t.config.apiScheme}://${s}`;return PD.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function xD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),RD.get())})}}function bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Yn(t,e,r);return s.customData._tokenResponse=n,s}function Wg(t){return t!==void 0&&t.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DD(t,e){return Ts(t,"GET","/v2/recaptchaConfig",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function lc(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MD(t,e=!1){const n=dn(t),r=await n.getIdToken(e),s=Th(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:r,authTime:Go(md(s.auth_time)),issuedAtTime:Go(md(s.iat)),expirationTime:Go(md(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function md(t){return Number(t)*1e3}function Th(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{const s=fb(n);return s?JSON.parse(s):(Dl("Failed to decode base64 JWT payload"),null)}catch(s){return Dl("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Kg(t){const e=Th(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&VD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){const e=t.auth,n=await t.getIdToken(),r=await ma(t,lc(e,{idToken:n}));Ae(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?Cb(s.providerUserInfo):[],o=BD(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!o?.length,u=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new df(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function FD(t){const e=dn(t);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Cb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e){const n=await Ab(t,{},async()=>{const r=Fa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Sb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ji(t.emulatorConfig.host)&&(l.credentials="include"),Ib.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UD(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Kg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $D(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Oi;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oi,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new df(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ma(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MD(this,e)}reload(){return FD(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await ma(this,ND(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:v,stsTokenManager:b}=n;Ae(f&&b,e,"internal-error");const E=Oi.fromJSON(this.name,b);Ae(typeof f=="string",e,"internal-error"),Hr(r,e.name),Hr(s,e.name),Ae(typeof h=="boolean",e,"internal-error"),Ae(typeof m=="boolean",e,"internal-error"),Hr(i,e.name),Hr(o,e.name),Hr(a,e.name),Hr(l,e.name),Hr(u,e.name),Hr(d,e.name);const O=new Cn({uid:f,auth:e,email:s,emailVerified:h,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(O.providerData=v.map(M=>({...M}))),l&&(O._redirectEventId=l),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new Oi;s.updateFromServerResponse(n);const i=new Cn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Cb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,a=new Oi;a.updateFromIdToken(r);const l=new Cn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new df(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new Map;function _r(t){Pr(t instanceof Function,"Expected a class definition");let e=Gg.get(t);return e?(Pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Pb.type="NONE";const Qg=Pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t,e,n){return`firebase:${t}:${e}:${n}`}class Di{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Nl(this.userKey,s.apiKey,i),this.fullPersistenceKey=Nl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lc(this.auth,{idToken:e}).catch(()=>{});return n?Cn._fromGetAccountInfoResponse(this.auth,n,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Di(_r(Qg),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||_r(Qg);const o=Nl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await lc(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Cn._fromGetAccountInfoResponse(e,h,d)}else f=Cn._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Di(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Di(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nb(e))return"Blackberry";if(Mb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||kb(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Rb(t=Yt()){return/firefox\//i.test(t)}function xb(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kb(t=Yt()){return/crios\//i.test(t)}function Ob(t=Yt()){return/iemobile/i.test(t)}function Db(t=Yt()){return/android/i.test(t)}function Nb(t=Yt()){return/blackberry/i.test(t)}function Mb(t=Yt()){return/webos/i.test(t)}function Ih(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qD(t=Yt()){return Ih(t)&&!!window.navigator?.standalone}function jD(){return nO()&&document.documentMode===10}function Vb(t=Yt()){return Ih(t)||Db(t)||Mb(t)||Nb(t)||/windows phone/i.test(t)||Ob(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e=[]){let n;switch(t){case"Browser":n=Yg(Yt());break;case"Worker":n=`${Yg(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",Es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=6;class KD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xg(this),this.idTokenSubscription=new Xg(this),this.beforeStateQueue=new zD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Di.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lc(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!i||i===o)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(wr(this));const n=e?dn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HD(this),n=new KD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new La("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Di.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ni(t){return dn(t)}class Xg{constructor(e){this.auth=e,this.observer=null,this.addObserver=uO(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(t){iu=t}function Fb(t){return iu.loadJS(t)}function YD(){return iu.recaptchaEnterpriseScript}function XD(){return iu.gapiScript}function JD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZD{constructor(){this.enterprise=new eN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tN="recaptcha-enterprise",Bb="NO_RECAPTCHA";class nN{constructor(e){this.type=tN,this.auth=ni(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{DD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new OD(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Wg(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Bb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZD().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Wg(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YD();l.length!==0&&(l+=a),Fb(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Jg(t,e,n,r=!1,s=!1){const i=new nN(t);let o;if(s)o=Bb;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ff(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Jg(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Jg(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t,e){const n=wh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hs(i,e??{}))return s;Vn(s,"already-initialized")}return n.initialize({options:e})}function sN(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_r);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iN(t,e,n){const r=ni(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=$b(e),{host:o,port:a}=oN(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(Hs(u,r.config.emulator)&&Hs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ji(o)?(mb(`${i}//${o}${l}`),Yk("Auth",!0)):aN()}function $b(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oN(t){const e=$b(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Zg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Zg(o)}}}function Zg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}async function lN(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t,e){return $a(t,"POST","/v1/accounts:signInWithPassword",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e){return $a(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}async function dN(t,e){return $a(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Ah{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ga(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ga(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,n,"signInWithPassword",cN);case"emailLink":return uN(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ff(e,r,"signUpPassword",lN);case"emailLink":return dN(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(t,e){return $a(t,"POST","/v1/accounts:signInWithIdp",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="http://localhost";class Ks extends Ah{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ks(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ni(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ni(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}buildRequest(){const e={requestUri:fN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pN(t){const e=xo(ko(t)).link,n=e?xo(ko(e)).deep_link_id:null,r=xo(ko(t)).deep_link_id;return(r?xo(ko(r)).link:null)||r||n||e||t}class Sh{constructor(e){const n=xo(ko(e)),r=n.apiKey??null,s=n.oobCode??null,i=hN(n.mode??null);Ae(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pN(e);try{return new Sh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sh.parseLink(n);return Ae(r,"argument-error"),ga._fromEmailAndCode(e,r.code,r.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Ub{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ua{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return es.credential(n,r)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Ua{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Ua{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e){return $a(t,"POST","/v1/accounts:signUp",Es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Cn._fromIdTokenResponse(e,r,s),o=ey(r);return new Gs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=ey(r);return new Gs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function ey(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Mr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new uc(e,n,r,s)}}function qb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(t,i,e,r):i})}async function gN(t,e,n=!1){const r=await ma(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(t,e,n=!1){const{auth:r}=t;if(_n(r.app))return Promise.reject(wr(r));const s="reauthenticate";try{const i=await ma(t,qb(r,s,e,t),n);Ae(i.idToken,r,"internal-error");const o=Th(i.idToken);Ae(o,r,"internal-error");const{sub:a}=o;return Ae(t.uid===a,r,"user-mismatch"),Gs._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Vn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e,n=!1){if(_n(t.app))return Promise.reject(wr(t));const r="signIn",s=await qb(t,r,e),i=await Gs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function vN(t,e){return jb(ni(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zb(t){const e=ni(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _N(t,e,n){if(_n(t.app))return Promise.reject(wr(t));const r=ni(t),o=await ff(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zb(t),l}),a=await Gs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _$(t,e,n){return _n(t.app)?Promise.reject(wr(t)):vN(dn(t),eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t,e){return dn(t).setPersistence(e)}function wN(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function bN(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function Hb(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function EN(t){return dn(t).signOut()}const dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dc,"1"),this.storage.removeItem(dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1e3,IN=10;class Kb extends Wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,IN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Kb.type="LOCAL";const AN=Kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gb.type="SESSION";const Qb=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ou(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await SN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ou.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Ch("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function PN(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function RN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){return navigator?.serviceWorker?.controller||null}function kN(){return Yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebaseLocalStorageDb",ON=1,fc="firebaseLocalStorage",Jb="fbase_key";class qa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function au(t,e){return t.transaction([fc],e?"readwrite":"readonly").objectStore(fc)}function DN(){const t=indexedDB.deleteDatabase(Xb);return new qa(t).toPromise()}function hf(){const t=indexedDB.open(Xb,ON);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fc,{keyPath:Jb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fc)?e(r):(r.close(),await DN(),e(await hf()))})})}async function ty(t,e,n){const r=au(t,!0).put({[Jb]:e,value:n});return new qa(r).toPromise()}async function NN(t,e){const n=au(t,!1).get(e),r=await new qa(n).toPromise();return r===void 0?null:r.value}function ny(t,e){const n=au(t,!0).delete(e);return new qa(n).toPromise()}const MN=800,VN=3;class Zb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ou._getInstance(kN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RN(),!this.activeServiceWorker)return;this.sender=new CN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hf();return await ty(e,dc,"1"),await ny(e,dc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ty(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ny(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=au(s,!1).getAll();return new qa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zb.type="LOCAL";const LN=Zb;new Ba(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){return e?_r(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Ah{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BN(t){return jb(t.auth,new Ph(t),t.bypassAuthState)}function $N(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),yN(n,new Ph(t),t.bypassAuthState)}async function UN(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),gN(n,new Ph(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BN;case"linkViaPopup":case"linkViaRedirect":return UN;case"reauthViaPopup":case"reauthViaRedirect":return $N;default:Vn(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Ba(2e3,1e4);class Ii extends eE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ii.currentPopupAction&&Ii.currentPopupAction.cancel(),Ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=Ch();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qN.get())};e()}}Ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="pendingRedirect",Ml=new Map;class zN extends eE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ml.get(this.auth._key());if(!e){try{const r=await HN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ml.set(this.auth._key(),e)}return this.bypassAuthState||Ml.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HN(t,e){const n=GN(e),r=KN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function WN(t,e){Ml.set(t._key(),e)}function KN(t){return _r(t._redirectPersistence)}function GN(t){return Nl(jN,t.config.apiKey,t.name)}async function QN(t,e,n=!1){if(_n(t.app))return Promise.reject(wr(t));const r=ni(t),s=FN(r,e),o=await new zN(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=600*1e3;class XN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!tE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ry(e))}saveEventToCache(e){this.cachedEventUids.add(ry(e)),this.lastProcessedEventTime=Date.now()}}function ry(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function JN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tM=/^https?/;async function nM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZN(t);for(const n of e)try{if(rM(n))return}catch{}Vn(t,"unauthorized-domain")}function rM(t){const e=uf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tM.test(n))return!1;if(eM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Ba(3e4,6e4);function sy(){const t=Xn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iM(t){return new Promise((e,n)=>{function r(){sy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sy(),n(Yn(t,"network-request-failed"))},timeout:sM.get()})}if(Xn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xn().gapi?.load)r();else{const s=JD("iframefcb");return Xn()[s]=()=>{gapi.load?r():n(Yn(t,"network-request-failed"))},Fb(`${XD()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Vl=null,e})}let Vl=null;function oM(t){return Vl=Vl||iM(t),Vl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new Ba(5e3,15e3),lM="__/auth/iframe",cM="emulator/auth/iframe",uM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fM(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Eh(e,cM):`https://${t.config.authDomain}/${lM}`,r={apiKey:e.apiKey,appName:t.name,v:Zi},s=dM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Fa(r).slice(1)}`}async function hM(t){const e=await oM(t),n=Xn().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:fM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Yn(t,"network-request-failed"),a=Xn().setTimeout(()=>{i(o)},aM.get());function l(){Xn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mM=500,gM=600,yM="_blank",vM="http://localhost";class iy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _M(t,e,n,r=mM,s=gM){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...pM,width:r.toString(),height:s.toString(),top:i,left:o},u=Yt().toLowerCase();n&&(a=kb(u)?yM:n),Rb(u)&&(e=e||vM,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(qD(u)&&a!=="_self")return wM(e||"",a),new iy(null);const f=window.open(e||"",a,d);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new iy(f)}function wM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="__/auth/handler",EM="emulator/auth/handler",TM=encodeURIComponent("fac");async function oy(t,e,n,r,s,i){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zi,eventId:s};if(e instanceof Ub){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Ua){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${TM}=${encodeURIComponent(l)}`:"";return`${IM(t)}?${Fa(a).slice(1)}${u}`}function IM({config:t}){return t.emulator?Eh(t,EM):`https://${t.authDomain}/${bM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="webStorageSupport";class AM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qb,this._completeRedirectFn=QN,this._overrideRedirectResult=WN}async _openPopup(e,n,r,s){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await oy(e,n,r,uf(),s);return _M(e,i,Ch())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await oy(e,n,r,uf(),s);return PN(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Pr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hM(e),r=new XN(e);return n.register("authEvent",s=>(Ae(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gd,{type:gd},s=>{const i=s?.[0]?.[gd];i!==void 0&&n(!!i),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vb()||xb()||Ih()}}const SM=AM;var ay="@firebase/auth",ly="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RM(t){Ui(new Ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(t)},u=new GD(r,s,i,l);return sN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new Ws("auth-internal",e=>{const n=ni(e.getProvider("auth").getImmediate());return(r=>new CM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(ay,ly,PM(t)),as(ay,ly,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=300,kM=pb("authIdTokenMaxAge")||xM;let cy=null;const OM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kM)return;const s=n?.token;cy!==s&&(cy=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lu(t=dD()){const e=wh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rN(t,{popupRedirectResolver:SM,persistence:[LN,AN,Qb]}),r=pb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=OM(i.toString());bN(n,o,()=>o(n.currentUser)),wN(n,a=>o(a))}}const s=Wk("auth");return s&&iN(n,`http://${s}`),n}function DM(){return document.getElementsByTagName("head")?.[0]??document}QD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Yn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",DM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RM("Browser");const uy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dy=Kw,NM=(t,e)=>n=>{var r;if(e?.variants==null)return dy(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n?.[u],f=i?.[u];if(d===null)return null;const h=uy(d)||uy(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[b,E]=v;return Array.isArray(E)?E.includes({...i,...a}[b]):{...i,...a}[b]===E})?[...u,f,h]:u},[]);return dy(t,o,l,n?.class,n?.className)},qi=J({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,r)=>($(),ee(T(dt),{"data-slot":"button",as:t.as,"as-child":t.asChild,class:ft(T(Bt)(T(MM)({variant:t.variant,size:t.size}),e.class))},{default:q(()=>[oe(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),MM=NM("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),nE=/^[a-z0-9]+(-[a-z0-9]+)*$/,ja=(t,e,n,r="")=>{const s=t.split(":");if(t.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;r=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const a=s.pop(),l=s.pop(),u={provider:s.length>0?s[0]:r,prefix:l,name:a};return e&&!Ll(u)?null:u}const i=s[0],o=i.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return e&&!Ll(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:i};return e&&!Ll(a,n)?null:a}return null},Ll=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,rE=Object.freeze({left:0,top:0,width:16,height:16}),hc=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),za=Object.freeze({...rE,...hc}),pf=Object.freeze({...za,body:"",hidden:!1});function VM(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function fy(t,e){const n=VM(t,e);for(const r in pf)r in hc?r in t&&!(r in n)&&(n[r]=hc[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function LM(t,e){const n=t.icons,r=t.aliases||Object.create(null),s=Object.create(null);function i(o){if(n[o])return s[o]=[];if(!(o in s)){s[o]=null;const a=r[o]&&r[o].parent,l=a&&i(a);l&&(s[o]=[a].concat(l))}return s[o]}return Object.keys(n).concat(Object.keys(r)).forEach(i),s}function FM(t,e,n){const r=t.icons,s=t.aliases||Object.create(null);let i={};function o(a){i=fy(r[a]||s[a],i)}return o(e),n.forEach(o),fy(t,i)}function sE(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(s=>{e(s,null),n.push(s)});const r=LM(t);for(const s in r){const i=r[s];i&&(e(s,FM(t,s,i)),n.push(s))}return n}const BM={provider:"",aliases:{},not_found:{},...rE};function yd(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function iE(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!yd(t,BM))return null;const n=e.icons;for(const s in n){const i=n[s];if(!s||typeof i.body!="string"||!yd(i,pf))return null}const r=e.aliases||Object.create(null);for(const s in r){const i=r[s],o=i.parent;if(!s||typeof o!="string"||!n[o]&&!r[o]||!yd(i,pf))return null}return e}const hy=Object.create(null);function $M(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function ji(t,e){const n=hy[t]||(hy[t]=Object.create(null));return n[e]||(n[e]=$M(t,e))}function oE(t,e){return iE(e)?sE(e,(n,r)=>{r?t.icons[n]=r:t.missing.add(n)}):[]}function UM(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let ya=!1;function aE(t){return typeof t=="boolean"&&(ya=t),ya}function lE(t){const e=typeof t=="string"?ja(t,!0,ya):t;if(e){const n=ji(e.provider,e.prefix),r=e.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function qM(t,e){const n=ja(t,!0,ya);if(!n)return!1;const r=ji(n.provider,n.prefix);return e?UM(r,n.name,e):(r.missing.add(n.name),!0)}function jM(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),ya&&!e&&!t.prefix){let s=!1;return iE(t)&&(t.prefix="",sE(t,(i,o)=>{qM(i,o)&&(s=!0)})),s}const n=t.prefix;if(!Ll({prefix:n,name:"a"}))return!1;const r=ji(e,n);return!!oE(r,t)}const cE=Object.freeze({width:null,height:null}),uE=Object.freeze({...cE,...hc}),zM=/(-?[0-9.]*[0-9]+[0-9.]*)/g,HM=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function py(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(zM);if(r===null||!r.length)return t;const s=[];let i=r.shift(),o=HM.test(i);for(;;){if(o){const a=parseFloat(i);isNaN(a)?s.push(i):s.push(Math.ceil(a*e*n)/n)}else s.push(i);if(i=r.shift(),i===void 0)return s.join("");o=!o}}function WM(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const s=t.indexOf(">",r),i=t.indexOf("</"+e);if(s===-1||i===-1)break;const o=t.indexOf(">",i);if(o===-1)break;n+=t.slice(s+1,i).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function KM(t,e){return t?"<defs>"+t+"</defs>"+e:e}function GM(t,e,n){const r=WM(t);return KM(r.defs,e+r.content+n)}const QM=t=>t==="unset"||t==="undefined"||t==="none";function YM(t,e){const n={...za,...t},r={...uE,...e},s={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,r].forEach(b=>{const E=[],O=b.hFlip,M=b.vFlip;let D=b.rotate;O?M?D+=2:(E.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),E.push("scale(-1 1)"),s.top=s.left=0):M&&(E.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),E.push("scale(1 -1)"),s.top=s.left=0);let k;switch(D<0&&(D-=Math.floor(D/4)*4),D=D%4,D){case 1:k=s.height/2+s.top,E.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:E.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:k=s.width/2+s.left,E.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}D%2===1&&(s.left!==s.top&&(k=s.left,s.left=s.top,s.top=k),s.width!==s.height&&(k=s.width,s.width=s.height,s.height=k)),E.length&&(i=GM(i,'<g transform="'+E.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=s.width,u=s.height;let d,f;o===null?(f=a===null?"1em":a==="auto"?u:a,d=py(f,l/u)):(d=o==="auto"?l:o,f=a===null?py(d,u/l):a==="auto"?u:a);const h={},m=(b,E)=>{QM(E)||(h[b]=E.toString())};m("width",d),m("height",f);const v=[s.left,s.top,l,u];return h.viewBox=v.join(" "),{attributes:h,viewBox:v,body:i}}const XM=/\sid="(\S+)"/g,JM="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let ZM=0;function eV(t,e=JM){const n=[];let r;for(;r=XM.exec(t);)n.push(r[1]);if(!n.length)return t;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(i=>{const o=typeof e=="function"?e(i):e+(ZM++).toString(),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+s+"$3")}),t=t.replace(new RegExp(s,"g"),""),t}const mf=Object.create(null);function tV(t,e){mf[t]=e}function gf(t){return mf[t]||mf[""]}function Rh(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const xh=Object.create(null),So=["https://api.simplesvg.com","https://api.unisvg.com"],Fl=[];for(;So.length>0;)So.length===1||Math.random()>.5?Fl.push(So.shift()):Fl.push(So.pop());xh[""]=Rh({resources:["https://api.iconify.design"].concat(Fl)});function nV(t,e){const n=Rh(e);return n===null?!1:(xh[t]=n,!0)}function kh(t){return xh[t]}const rV=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let my=rV();function sV(t,e){const n=kh(t);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let s=0;n.resources.forEach(o=>{s=Math.max(s,o.length)});const i=e+".json?icons=";r=n.maxURL-s-n.path.length-i.length}return r}function iV(t){return t===404}const oV=(t,e,n)=>{const r=[],s=sV(t,e),i="icons";let o={type:i,provider:t,prefix:e,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=s&&u>0&&(r.push(o),o={type:i,provider:t,prefix:e,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function aV(t){if(typeof t=="string"){const e=kh(t);if(e)return e.path}return"/"}const lV=(t,e,n)=>{if(!my){n("abort",424);return}let r=aV(e.provider);switch(e.type){case"icons":{const i=e.prefix,a=e.icons.join(","),l=new URLSearchParams({icons:a});r+=i+".json?"+l.toString();break}case"custom":{const i=e.uri;r+=i.slice(0,1)==="/"?i.slice(1):i;break}default:n("abort",400);return}let s=503;my(t+r).then(i=>{const o=i.status;if(o!==200){setTimeout(()=>{n(iV(o)?"abort":"next",o)});return}return s=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?n("abort",i):n("next",s)});return}setTimeout(()=>{n("success",i)})}).catch(()=>{n("next",s)})},cV={prepare:oV,send:lV};function uV(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((s,i)=>s.provider!==i.provider?s.provider.localeCompare(i.provider):s.prefix!==i.prefix?s.prefix.localeCompare(i.prefix):s.name.localeCompare(i.name));let r={provider:"",prefix:"",name:""};return t.forEach(s=>{if(r.name===s.name&&r.prefix===s.prefix&&r.provider===s.provider)return;r=s;const i=s.provider,o=s.prefix,a=s.name,l=n[i]||(n[i]=Object.create(null)),u=l[o]||(l[o]=ji(i,o));let d;a in u.icons?d=e.loaded:o===""||u.missing.has(a)?d=e.missing:d=e.pending;const f={provider:i,prefix:o,name:a};d.push(f)}),e}function dE(t,e){t.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(s=>s.id!==e))})}function dV(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const r=t.provider,s=t.prefix;e.forEach(i=>{const o=i.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==s)return!0;const u=l.name;if(t.icons[u])o.loaded.push({provider:r,prefix:s,name:u});else if(t.missing.has(u))o.missing.push({provider:r,prefix:s,name:u});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||dE([t],i.id),i.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),i.abort))})}))}let fV=0;function hV(t,e,n){const r=fV++,s=dE.bind(null,n,r);if(!e.pending.length)return s;const i={id:r,icons:e,callback:t,abort:s};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(i)}),s}function pV(t,e=!0,n=!1){const r=[];return t.forEach(s=>{const i=typeof s=="string"?ja(s,e,n):s;i&&r.push(i)}),r}var mV={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function gV(t,e,n,r){const s=t.resources.length,i=t.random?Math.floor(Math.random()*s):t.index;let o;if(t.random){let F=t.resources.slice(0);for(o=[];F.length>1;){const I=Math.floor(Math.random()*F.length);o.push(F[I]),F=F.slice(0,I).concat(F.slice(I+1))}o=o.concat(F)}else o=t.resources.slice(i).concat(t.resources.slice(0,i));const a=Date.now();let l="pending",u=0,d,f=null,h=[],m=[];typeof r=="function"&&m.push(r);function v(){f&&(clearTimeout(f),f=null)}function b(){l==="pending"&&(l="aborted"),v(),h.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),h=[]}function E(F,I){I&&(m=[]),typeof F=="function"&&m.push(F)}function O(){return{startTime:a,payload:e,status:l,queriesSent:u,queriesPending:h.length,subscribe:E,abort:b}}function M(){l="failed",m.forEach(F=>{F(void 0,d)})}function D(){h.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),h=[]}function k(F,I,w){const y=I!=="success";switch(h=h.filter(_=>_!==F),l){case"pending":break;case"failed":if(y||!t.dataAfterTimeout)return;break;default:return}if(I==="abort"){d=w,M();return}if(y){d=w,h.length||(o.length?V():M());return}if(v(),D(),!t.random){const _=t.resources.indexOf(F.resource);_!==-1&&_!==t.index&&(t.index=_)}l="completed",m.forEach(_=>{_(w)})}function V(){if(l!=="pending")return;v();const F=o.shift();if(F===void 0){if(h.length){f=setTimeout(()=>{v(),l==="pending"&&(D(),M())},t.timeout);return}M();return}const I={status:"pending",resource:F,callback:(w,y)=>{k(I,w,y)}};h.push(I),u++,f=setTimeout(V,t.rotate),n(F,e,I.callback)}return setTimeout(V),O}function fE(t){const e={...mV,...t};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function s(a,l,u){const d=gV(e,a,l,(f,h)=>{r(),u&&u(f,h)});return n.push(d),d}function i(a){return n.find(l=>a(l))||null}return{query:s,find:i,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:r}}function gy(){}const vd=Object.create(null);function yV(t){if(!vd[t]){const e=kh(t);if(!e)return;const n=fE(e),r={config:e,redundancy:n};vd[t]=r}return vd[t]}function vV(t,e,n){let r,s;if(typeof t=="string"){const i=gf(t);if(!i)return n(void 0,424),gy;s=i.send;const o=yV(t);o&&(r=o.redundancy)}else{const i=Rh(t);if(i){r=fE(i);const o=t.resources?t.resources[0]:"",a=gf(o);a&&(s=a.send)}}return!r||!s?(n(void 0,424),gy):r.query(e,s,n)().abort}function yy(){}function _V(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,dV(t)}))}function wV(t){const e=[],n=[];return t.forEach(r=>{(r.match(nE)?e:n).push(r)}),{valid:e,invalid:n}}function Co(t,e,n){function r(){const s=t.pendingIcons;e.forEach(i=>{s&&s.delete(i),t.icons[i]||t.missing.add(i)})}if(n&&typeof n=="object")try{if(!oE(t,n).length){r();return}}catch(s){console.error(s)}r(),_V(t)}function vy(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function bV(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:r}=t,s=t.iconsToLoad;if(delete t.iconsToLoad,!s||!s.length)return;const i=t.loadIcon;if(t.loadIcons&&(s.length>1||!i)){vy(t.loadIcons(s,r,n),d=>{Co(t,s,d)});return}if(i){s.forEach(d=>{const f=i(d,r,n);vy(f,h=>{const m=h?{prefix:r,icons:{[d]:h}}:null;Co(t,[d],m)})});return}const{valid:o,invalid:a}=wV(s);if(a.length&&Co(t,a,null),!o.length)return;const l=r.match(nE)?gf(n):null;if(!l){Co(t,o,null);return}l.prepare(n,r,o).forEach(d=>{vV(n,d,f=>{Co(t,d.icons,f)})})}))}const hE=(t,e)=>{const n=pV(t,!0,aE()),r=uV(n);if(!r.pending.length){let l=!0;return e&&setTimeout(()=>{l&&e(r.loaded,r.missing,r.pending,yy)}),()=>{l=!1}}const s=Object.create(null),i=[];let o,a;return r.pending.forEach(l=>{const{provider:u,prefix:d}=l;if(d===a&&u===o)return;o=u,a=d,i.push(ji(u,d));const f=s[u]||(s[u]=Object.create(null));f[d]||(f[d]=[])}),r.pending.forEach(l=>{const{provider:u,prefix:d,name:f}=l,h=ji(u,d),m=h.pendingIcons||(h.pendingIcons=new Set);m.has(f)||(m.add(f),s[u][d].push(f))}),i.forEach(l=>{const u=s[l.provider][l.prefix];u.length&&bV(l,u)}),e?hV(e,r,i):yy},EV=t=>new Promise((e,n)=>{const r=typeof t=="string"?ja(t,!0):t;if(!r){n(t);return}hE([r||t],s=>{if(s.length&&r){const i=lE(r);if(i){e({...za,...i});return}}n(t)})});function TV(t,e){const n={...t};for(const r in e){const s=e[r],i=typeof s;r in cE?(s===null||s&&(i==="string"||i==="number"))&&(n[r]=s):i===typeof n[r]&&(n[r]=r==="rotate"?s%4:s)}return n}const IV=/[\s,]+/;function AV(t,e){e.split(IV).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function SV(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function r(s){for(;s<0;)s+=4;return s%4}if(n===""){const s=parseInt(t);return isNaN(s)?0:r(s)}else if(n!==t){let s=0;switch(n){case"%":s=25;break;case"deg":s=90}if(s){let i=parseFloat(t.slice(0,t.length-n.length));return isNaN(i)?0:(i=i/s,i%1===0?r(i):0)}}return e}function CV(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function PV(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function RV(t){return"data:image/svg+xml,"+PV(t)}function xV(t){return'url("'+RV(t)+'")'}const _y={...uE,inline:!1},kV={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},OV={display:"inline-block"},yf={backgroundColor:"currentColor"},pE={backgroundColor:"transparent"},wy={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},by={webkitMask:yf,mask:yf,background:pE};for(const t in by){const e=by[t];for(const n in wy)e[t+n]=wy[n]}const Bl={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";Bl[t+"-flip"]=e,Bl[t.slice(0,1)+"-flip"]=e,Bl[t+"Flip"]=e});function Ey(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const Ty=(t,e)=>{const n=TV(_y,e),r={...kV},s=e.mode||"svg",i={},o=e.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let b in e){const E=e[b];if(E!==void 0)switch(b){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[b]=E===!0||E==="true"||E===1;break;case"flip":typeof E=="string"&&AV(n,E);break;case"color":i.color=E;break;case"rotate":typeof E=="string"?n[b]=SV(E):typeof E=="number"&&(n[b]=E);break;case"ariaHidden":case"aria-hidden":E!==!0&&E!=="true"&&delete r["aria-hidden"];break;default:{const O=Bl[b];O?(E===!0||E==="true"||E===1)&&(n[O]=!0):_y[b]===void 0&&(r[b]=E)}}}const l=YM(t,n),u=l.attributes;if(n.inline&&(i.verticalAlign="-0.125em"),s==="svg"){r.style={...i,...a},Object.assign(r,u);let b=0,E=e.id;return typeof E=="string"&&(E=E.replace(/-/g,"_")),r.innerHTML=eV(l.body,E?()=>E+"ID"+b++:"iconifyVue"),un("svg",r)}const{body:d,width:f,height:h}=t,m=s==="mask"||(s==="bg"?!1:d.indexOf("currentColor")!==-1),v=CV(d,{...u,width:f+"",height:h+""});return r.style={...i,"--svg":xV(v),width:Ey(u.width),height:Ey(u.height),...OV,...m?yf:pE,...a},un("span",r)};aE(!0);tV("",cV);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!jM(r))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const r="IconifyProviders["+n+"] is invalid.";try{const s=e[n];if(typeof s!="object"||!s||s.resources===void 0)continue;nV(n,s)||console.error(r)}catch{console.error(r)}}}}const DV={...za,body:""},NV=J((t,{emit:e})=>{const n=j(null);function r(){n.value&&(n.value.abort?.(),n.value=null)}const s=j(!!t.ssr),i=j(""),o=Gn(null);function a(){const u=t.icon;if(typeof u=="object"&&u!==null&&typeof u.body=="string")return i.value="",{data:u};let d;if(typeof u!="string"||(d=ja(u,!1,!0))===null)return null;let f=lE(d);if(!f){const v=n.value;return(!v||v.name!==u)&&(f===null?n.value={name:u}:n.value={name:u,abort:hE([d],l)}),null}r(),i.value!==u&&(i.value=u,Xe(()=>{e("load",u)}));const h=t.customise;if(h){f=Object.assign({},f);const v=h(f.body,d.name,d.prefix,d.provider);typeof v=="string"&&(f.body=v)}const m=["iconify"];return d.prefix!==""&&m.push("iconify--"+d.prefix),d.provider!==""&&m.push("iconify--"+d.provider),{data:f,classes:m}}function l(){const u=a();u?u.data!==o.value?.data&&(o.value=u):o.value=null}return s.value?l():_t(()=>{s.value=!0,l()}),Le(()=>t.icon,l),Js(r),()=>{const u=o.value;if(!u)return Ty(DV,t);let d=t;return u.classes&&(d={...t,class:u.classes.join(" ")}),Ty({...za,...u.data},d)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),MV=J({__name:"Skeleton",props:{class:{}},setup(t){const e=t;return(n,r)=>($(),Ce("div",{"data-slot":"skeleton",class:ft(T(Bt)("animate-pulse rounded-md bg-primary/10",e.class))},null,2))}}),to=J({__name:"SafeIcon",props:{icon:{}},setup(t){const e=t,n=j(!1);return _t(async()=>{await EV(e.icon),n.value=!0}),(r,s)=>n.value?($(),ee(T(NV),{key:0,icon:t.icon},null,8,["icon"])):($(),ee(T(MV),{key:1,class:"rounded-full"}))}}),mE=J({__name:"IconButton",props:{icon:{},textStart:{type:Boolean,default:!1},iconClass:{}},setup(t){const e=t;return(n,r)=>($(),ee(T(qi),Ie(n.$attrs,{class:"text-xl flex justify-start"}),{default:q(()=>[e.textStart?oe(n.$slots,"default",{key:0}):vt("",!0),ae(to,{icon:e.icon,class:ft(e.iconClass)},null,8,["icon","class"]),e.textStart?vt("",!0):oe(n.$slots,"default",{key:1})]),_:3},16))}}),VV="modulepreload",LV=function(t){return"/Arvavir/"+t},Iy={},Fs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=l(n.map(u=>{if(u=LV(u),u in Iy)return;Iy[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":VV,d||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var FV="firebase",BV="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(FV,BV,"app");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,gE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function y(){}y.prototype=w.prototype,I.F=w.prototype,I.prototype=new y,I.prototype.constructor=I,I.D=function(_,A,S){for(var C=Array(arguments.length-2),K=2;K<arguments.length;K++)C[K-2]=arguments[K];return w.prototype[A].apply(_,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,w,y){y||(y=0);const _=Array(16);if(typeof w=="string")for(var A=0;A<16;++A)_[A]=w.charCodeAt(y++)|w.charCodeAt(y++)<<8|w.charCodeAt(y++)<<16|w.charCodeAt(y++)<<24;else for(A=0;A<16;++A)_[A]=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24;w=I.g[0],y=I.g[1],A=I.g[2];let S=I.g[3],C;C=w+(S^y&(A^S))+_[0]+3614090360&4294967295,w=y+(C<<7&4294967295|C>>>25),C=S+(A^w&(y^A))+_[1]+3905402710&4294967295,S=w+(C<<12&4294967295|C>>>20),C=A+(y^S&(w^y))+_[2]+606105819&4294967295,A=S+(C<<17&4294967295|C>>>15),C=y+(w^A&(S^w))+_[3]+3250441966&4294967295,y=A+(C<<22&4294967295|C>>>10),C=w+(S^y&(A^S))+_[4]+4118548399&4294967295,w=y+(C<<7&4294967295|C>>>25),C=S+(A^w&(y^A))+_[5]+1200080426&4294967295,S=w+(C<<12&4294967295|C>>>20),C=A+(y^S&(w^y))+_[6]+2821735955&4294967295,A=S+(C<<17&4294967295|C>>>15),C=y+(w^A&(S^w))+_[7]+4249261313&4294967295,y=A+(C<<22&4294967295|C>>>10),C=w+(S^y&(A^S))+_[8]+1770035416&4294967295,w=y+(C<<7&4294967295|C>>>25),C=S+(A^w&(y^A))+_[9]+2336552879&4294967295,S=w+(C<<12&4294967295|C>>>20),C=A+(y^S&(w^y))+_[10]+4294925233&4294967295,A=S+(C<<17&4294967295|C>>>15),C=y+(w^A&(S^w))+_[11]+2304563134&4294967295,y=A+(C<<22&4294967295|C>>>10),C=w+(S^y&(A^S))+_[12]+1804603682&4294967295,w=y+(C<<7&4294967295|C>>>25),C=S+(A^w&(y^A))+_[13]+4254626195&4294967295,S=w+(C<<12&4294967295|C>>>20),C=A+(y^S&(w^y))+_[14]+2792965006&4294967295,A=S+(C<<17&4294967295|C>>>15),C=y+(w^A&(S^w))+_[15]+1236535329&4294967295,y=A+(C<<22&4294967295|C>>>10),C=w+(A^S&(y^A))+_[1]+4129170786&4294967295,w=y+(C<<5&4294967295|C>>>27),C=S+(y^A&(w^y))+_[6]+3225465664&4294967295,S=w+(C<<9&4294967295|C>>>23),C=A+(w^y&(S^w))+_[11]+643717713&4294967295,A=S+(C<<14&4294967295|C>>>18),C=y+(S^w&(A^S))+_[0]+3921069994&4294967295,y=A+(C<<20&4294967295|C>>>12),C=w+(A^S&(y^A))+_[5]+3593408605&4294967295,w=y+(C<<5&4294967295|C>>>27),C=S+(y^A&(w^y))+_[10]+38016083&4294967295,S=w+(C<<9&4294967295|C>>>23),C=A+(w^y&(S^w))+_[15]+3634488961&4294967295,A=S+(C<<14&4294967295|C>>>18),C=y+(S^w&(A^S))+_[4]+3889429448&4294967295,y=A+(C<<20&4294967295|C>>>12),C=w+(A^S&(y^A))+_[9]+568446438&4294967295,w=y+(C<<5&4294967295|C>>>27),C=S+(y^A&(w^y))+_[14]+3275163606&4294967295,S=w+(C<<9&4294967295|C>>>23),C=A+(w^y&(S^w))+_[3]+4107603335&4294967295,A=S+(C<<14&4294967295|C>>>18),C=y+(S^w&(A^S))+_[8]+1163531501&4294967295,y=A+(C<<20&4294967295|C>>>12),C=w+(A^S&(y^A))+_[13]+2850285829&4294967295,w=y+(C<<5&4294967295|C>>>27),C=S+(y^A&(w^y))+_[2]+4243563512&4294967295,S=w+(C<<9&4294967295|C>>>23),C=A+(w^y&(S^w))+_[7]+1735328473&4294967295,A=S+(C<<14&4294967295|C>>>18),C=y+(S^w&(A^S))+_[12]+2368359562&4294967295,y=A+(C<<20&4294967295|C>>>12),C=w+(y^A^S)+_[5]+4294588738&4294967295,w=y+(C<<4&4294967295|C>>>28),C=S+(w^y^A)+_[8]+2272392833&4294967295,S=w+(C<<11&4294967295|C>>>21),C=A+(S^w^y)+_[11]+1839030562&4294967295,A=S+(C<<16&4294967295|C>>>16),C=y+(A^S^w)+_[14]+4259657740&4294967295,y=A+(C<<23&4294967295|C>>>9),C=w+(y^A^S)+_[1]+2763975236&4294967295,w=y+(C<<4&4294967295|C>>>28),C=S+(w^y^A)+_[4]+1272893353&4294967295,S=w+(C<<11&4294967295|C>>>21),C=A+(S^w^y)+_[7]+4139469664&4294967295,A=S+(C<<16&4294967295|C>>>16),C=y+(A^S^w)+_[10]+3200236656&4294967295,y=A+(C<<23&4294967295|C>>>9),C=w+(y^A^S)+_[13]+681279174&4294967295,w=y+(C<<4&4294967295|C>>>28),C=S+(w^y^A)+_[0]+3936430074&4294967295,S=w+(C<<11&4294967295|C>>>21),C=A+(S^w^y)+_[3]+3572445317&4294967295,A=S+(C<<16&4294967295|C>>>16),C=y+(A^S^w)+_[6]+76029189&4294967295,y=A+(C<<23&4294967295|C>>>9),C=w+(y^A^S)+_[9]+3654602809&4294967295,w=y+(C<<4&4294967295|C>>>28),C=S+(w^y^A)+_[12]+3873151461&4294967295,S=w+(C<<11&4294967295|C>>>21),C=A+(S^w^y)+_[15]+530742520&4294967295,A=S+(C<<16&4294967295|C>>>16),C=y+(A^S^w)+_[2]+3299628645&4294967295,y=A+(C<<23&4294967295|C>>>9),C=w+(A^(y|~S))+_[0]+4096336452&4294967295,w=y+(C<<6&4294967295|C>>>26),C=S+(y^(w|~A))+_[7]+1126891415&4294967295,S=w+(C<<10&4294967295|C>>>22),C=A+(w^(S|~y))+_[14]+2878612391&4294967295,A=S+(C<<15&4294967295|C>>>17),C=y+(S^(A|~w))+_[5]+4237533241&4294967295,y=A+(C<<21&4294967295|C>>>11),C=w+(A^(y|~S))+_[12]+1700485571&4294967295,w=y+(C<<6&4294967295|C>>>26),C=S+(y^(w|~A))+_[3]+2399980690&4294967295,S=w+(C<<10&4294967295|C>>>22),C=A+(w^(S|~y))+_[10]+4293915773&4294967295,A=S+(C<<15&4294967295|C>>>17),C=y+(S^(A|~w))+_[1]+2240044497&4294967295,y=A+(C<<21&4294967295|C>>>11),C=w+(A^(y|~S))+_[8]+1873313359&4294967295,w=y+(C<<6&4294967295|C>>>26),C=S+(y^(w|~A))+_[15]+4264355552&4294967295,S=w+(C<<10&4294967295|C>>>22),C=A+(w^(S|~y))+_[6]+2734768916&4294967295,A=S+(C<<15&4294967295|C>>>17),C=y+(S^(A|~w))+_[13]+1309151649&4294967295,y=A+(C<<21&4294967295|C>>>11),C=w+(A^(y|~S))+_[4]+4149444226&4294967295,w=y+(C<<6&4294967295|C>>>26),C=S+(y^(w|~A))+_[11]+3174756917&4294967295,S=w+(C<<10&4294967295|C>>>22),C=A+(w^(S|~y))+_[2]+718787259&4294967295,A=S+(C<<15&4294967295|C>>>17),C=y+(S^(A|~w))+_[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const y=w-this.blockSize,_=this.C;let A=this.h,S=0;for(;S<w;){if(A==0)for(;S<=y;)s(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<w;)if(_[A++]=I.charCodeAt(S++),A==this.blockSize){s(this,_),A=0;break}}else for(;S<w;)if(_[A++]=I[S++],A==this.blockSize){s(this,_),A=0;break}}this.h=A,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var y=I.length-8;y<I.length;++y)I[y]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,y=0;y<4;++y)for(let _=0;_<32;_+=8)I[w++]=this.g[y]>>>_&255;return I};function i(I,w){var y=a;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=w(I)}function o(I,w){this.h=w;const y=[];let _=!0;for(let A=I.length-1;A>=0;A--){const S=I[A]|0;_&&S==w||(y[A]=S,_=!1)}this.g=y}var a={};function l(I){return-128<=I&&I<128?i(I,function(w){return new o([w|0],w<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return E(u(-I));const w=[];let y=1;for(let _=0;I>=y;_++)w[_]=I/y|0,y*=4294967296;return new o(w,0)}function d(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return E(d(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=u(Math.pow(w,8));let _=f;for(let S=0;S<I.length;S+=8){var A=Math.min(8,I.length-S);const C=parseInt(I.substring(S,S+A),w);A<8?(A=u(Math.pow(w,A)),_=_.j(A).add(u(C))):(_=_.j(y),_=_.add(u(C)))}return _}var f=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-E(this).m();let I=0,w=1;for(let y=0;y<this.g.length;y++){const _=this.i(y);I+=(_>=0?_:4294967296+_)*w,w*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+E(this).toString(I);const w=u(Math.pow(I,6));var y=this;let _="";for(;;){const A=k(y,w).g;y=O(y,A.j(w));let S=((y.g.length>0?y.g[0]:y.h)>>>0).toString(I);if(y=A,v(y))return S+_;for(;S.length<6;)S="0"+S;_=S+_}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=O(this,I),b(I)?-1:v(I)?0:1};function E(I){const w=I.g.length,y=[];for(let _=0;_<w;_++)y[_]=~I.g[_];return new o(y,~I.h).add(h)}t.abs=function(){return b(this)?E(this):this},t.add=function(I){const w=Math.max(this.g.length,I.g.length),y=[];let _=0;for(let A=0;A<=w;A++){let S=_+(this.i(A)&65535)+(I.i(A)&65535),C=(S>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);_=C>>>16,S&=65535,C&=65535,y[A]=C<<16|S}return new o(y,y[y.length-1]&-2147483648?-1:0)};function O(I,w){return I.add(E(w))}t.j=function(I){if(v(this)||v(I))return f;if(b(this))return b(I)?E(this).j(E(I)):E(E(this).j(I));if(b(I))return E(this.j(E(I)));if(this.l(m)<0&&I.l(m)<0)return u(this.m()*I.m());const w=this.g.length+I.g.length,y=[];for(var _=0;_<2*w;_++)y[_]=0;for(_=0;_<this.g.length;_++)for(let A=0;A<I.g.length;A++){const S=this.i(_)>>>16,C=this.i(_)&65535,K=I.i(A)>>>16,he=I.i(A)&65535;y[2*_+2*A]+=C*he,M(y,2*_+2*A),y[2*_+2*A+1]+=S*he,M(y,2*_+2*A+1),y[2*_+2*A+1]+=C*K,M(y,2*_+2*A+1),y[2*_+2*A+2]+=S*K,M(y,2*_+2*A+2)}for(I=0;I<w;I++)y[I]=y[2*I+1]<<16|y[2*I];for(I=w;I<2*w;I++)y[I]=0;return new o(y,0)};function M(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function D(I,w){this.g=I,this.h=w}function k(I,w){if(v(w))throw Error("division by zero");if(v(I))return new D(f,f);if(b(I))return w=k(E(I),w),new D(E(w.g),E(w.h));if(b(w))return w=k(I,E(w)),new D(E(w.g),w.h);if(I.g.length>30){if(b(I)||b(w))throw Error("slowDivide_ only works with positive integers.");for(var y=h,_=w;_.l(I)<=0;)y=V(y),_=V(_);var A=F(y,1),S=F(_,1);for(_=F(_,2),y=F(y,2);!v(_);){var C=S.add(_);C.l(I)<=0&&(A=A.add(y),S=C),_=F(_,1),y=F(y,1)}return w=O(I,A.j(w)),new D(A,w)}for(A=f;I.l(w)>=0;){for(y=Math.max(1,Math.floor(I.m()/w.m())),_=Math.ceil(Math.log(y)/Math.LN2),_=_<=48?1:Math.pow(2,_-48),S=u(y),C=S.j(w);b(C)||C.l(I)>0;)y-=_,S=u(y),C=S.j(w);v(S)&&(S=h),A=A.add(S),I=O(I,C)}return new D(A,I)}t.B=function(I){return k(this,I).h},t.and=function(I){const w=Math.max(this.g.length,I.g.length),y=[];for(let _=0;_<w;_++)y[_]=this.i(_)&I.i(_);return new o(y,this.h&I.h)},t.or=function(I){const w=Math.max(this.g.length,I.g.length),y=[];for(let _=0;_<w;_++)y[_]=this.i(_)|I.i(_);return new o(y,this.h|I.h)},t.xor=function(I){const w=Math.max(this.g.length,I.g.length),y=[];for(let _=0;_<w;_++)y[_]=this.i(_)^I.i(_);return new o(y,this.h^I.h)};function V(I){const w=I.g.length+1,y=[];for(let _=0;_<w;_++)y[_]=I.i(_)<<1|I.i(_-1)>>>31;return new o(y,I.h)}function F(I,w){const y=w>>5;w%=32;const _=I.g.length-y,A=[];for(let S=0;S<_;S++)A[S]=w>0?I.i(S+y)>>>w|I.i(S+y+1)<<32-w:I.i(S+y);return new o(A,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ls=o}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yE,Oo,vE,$l,vf,_E,wE,bE;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var g=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var B=c[P];if(!(B in g))break e;g=g[B]}c=c[c.length-1],P=g[c],p=p(P),p!=P&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(p){var g=[],P;for(P in p)Object.prototype.hasOwnProperty.call(p,P)&&g.push([P,p[P]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,g){return c.call.apply(c.bind,arguments)}function u(c,p,g){return u=l,u.apply(null,arguments)}function d(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var P=g.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function f(c,p){function g(){}g.prototype=p.prototype,c.Z=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(P,B,U){for(var le=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)le[ke-2]=arguments[ke];return p.prototype[B].apply(P,le)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function m(c){const p=c.length;if(p>0){const g=Array(p);for(let P=0;P<p;P++)g[P]=c[P];return g}return[]}function v(c,p){for(let P=1;P<arguments.length;P++){const B=arguments[P];var g=typeof B;if(g=g!="object"?g:B?Array.isArray(B)?"array":g:"null",g=="array"||g=="object"&&typeof B.length=="number"){g=c.length||0;const U=B.length||0;c.length=g+U;for(let le=0;le<U;le++)c[g+le]=B[le]}else c.push(B)}}class b{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){o.setTimeout(()=>{throw c},0)}function O(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class M{constructor(){this.h=this.g=null}add(p,g){const P=D.get();P.set(p,g),this.h?this.h.next=P:this.g=P,this.h=P}}var D=new b(()=>new k,c=>c.reset());class k{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,F=!1,I=new M,w=()=>{const c=Promise.resolve(void 0);V=()=>{c.then(y)}};function y(){for(var c;c=O();){try{c.h.call(c.g)}catch(g){E(g)}var p=D;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}F=!1}function _(){this.u=this.u,this.C=this.C}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function K(c,p){A.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}f(K,A),K.prototype.init=function(c,p){const g=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&K.Z.h.call(this)},K.prototype.h=function(){K.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),ce=0;function de(c,p,g,P,B){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!P,this.ha=B,this.key=++ce,this.da=this.fa=!1}function Y(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,p,g){for(const P in c)p.call(g,c[P],P,c)}function ct(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function it(c){const p={};for(const g in c)p[g]=c[g];return p}const Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(c,p){let g,P;for(let B=1;B<arguments.length;B++){P=arguments[B];for(g in P)c[g]=P[g];for(let U=0;U<Ze.length;U++)g=Ze[U],Object.prototype.hasOwnProperty.call(P,g)&&(c[g]=P[g])}}function qe(c){this.src=c,this.g={},this.h=0}qe.prototype.add=function(c,p,g,P,B){const U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);const le=mt(c,p,P,B);return le>-1?(p=c[le],g||(p.fa=!1)):(p=new de(p,this.src,U,!!P,B),p.fa=g,c.push(p)),p};function Ot(c,p){const g=p.type;if(g in c.g){var P=c.g[g],B=Array.prototype.indexOf.call(P,p,void 0),U;(U=B>=0)&&Array.prototype.splice.call(P,B,1),U&&(Y(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function mt(c,p,g,P){for(let B=0;B<c.length;++B){const U=c[B];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==P)return B}return-1}var x="closure_lm_"+(Math.random()*1e6|0),Z={};function z(c,p,g,P,B){if(Array.isArray(p)){for(let U=0;U<p.length;U++)z(c,p[U],g,P,B);return null}return g=ue(g),c&&c[he]?c.J(p,g,a(P)?!!P.capture:!1,B):se(c,p,g,!1,P,B)}function se(c,p,g,P,B,U){if(!p)throw Error("Invalid event type");const le=a(B)?!!B.capture:!!B;let ke=Q(c);if(ke||(c[x]=ke=new qe(c)),g=ke.add(p,g,P,le,U),g.proxy)return g;if(P=_e(),g.proxy=P,P.src=c,P.listener=g,c.addEventListener)S||(B=le),B===void 0&&(B=!1),c.addEventListener(p.toString(),P,B);else if(c.attachEvent)c.attachEvent(L(p.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return g}function _e(){function c(g){return p.call(c.src,c.listener,g)}const p=W;return c}function R(c,p,g,P,B){if(Array.isArray(p))for(var U=0;U<p.length;U++)R(c,p[U],g,P,B);else P=a(P)?!!P.capture:!!P,g=ue(g),c&&c[he]?(c=c.i,U=String(p).toString(),U in c.g&&(p=c.g[U],g=mt(p,g,P,B),g>-1&&(Y(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete c.g[U],c.h--)))):c&&(c=Q(c))&&(p=c.g[p.toString()],c=-1,p&&(c=mt(p,g,P,B)),(g=c>-1?p[c]:null)&&N(g))}function N(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[he])Ot(p.i,c);else{var g=c.type,P=c.proxy;p.removeEventListener?p.removeEventListener(g,P,c.capture):p.detachEvent?p.detachEvent(L(g),P):p.addListener&&p.removeListener&&p.removeListener(P),(g=Q(p))?(Ot(g,c),g.h==0&&(g.src=null,p[x]=null)):Y(c)}}}function L(c){return c in Z?Z[c]:Z[c]="on"+c}function W(c,p){if(c.da)c=!0;else{p=new K(p,this);const g=c.listener,P=c.ha||c.src;c.fa&&N(c),c=g.call(P,p)}return c}function Q(c){return c=c[x],c instanceof qe?c:null}var H="__closure_events_fn_"+(Math.random()*1e9>>>0);function ue(c){return typeof c=="function"?c:(c[H]||(c[H]=function(p){return c.handleEvent(p)}),c[H])}function re(){_.call(this),this.i=new qe(this),this.M=this,this.G=null}f(re,_),re.prototype[he]=!0,re.prototype.removeEventListener=function(c,p,g,P){R(this,c,p,g,P)};function te(c,p){var g,P=c.G;if(P)for(g=[];P;P=P.G)g.push(P);if(c=c.M,P=p.type||p,typeof p=="string")p=new A(p,c);else if(p instanceof A)p.target=p.target||c;else{var B=p;p=new A(P,c),Qe(p,B)}B=!0;let U,le;if(g)for(le=g.length-1;le>=0;le--)U=p.g=g[le],B=ne(U,P,!0,p)&&B;if(U=p.g=c,B=ne(U,P,!0,p)&&B,B=ne(U,P,!1,p)&&B,g)for(le=0;le<g.length;le++)U=p.g=g[le],B=ne(U,P,!1,p)&&B}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const g=c.g[p];for(let P=0;P<g.length;P++)Y(g[P]);delete c.g[p],c.h--}}this.G=null},re.prototype.J=function(c,p,g,P){return this.i.add(String(c),p,!1,g,P)},re.prototype.K=function(c,p,g,P){return this.i.add(String(c),p,!0,g,P)};function ne(c,p,g,P){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let B=!0;for(let U=0;U<p.length;++U){const le=p[U];if(le&&!le.da&&le.capture==g){const ke=le.listener,Et=le.ha||le.src;le.fa&&Ot(c.i,le),B=ke.call(Et,P)!==!1&&B}}return B&&!P.defaultPrevented}function we(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function fe(c){c.g=we(()=>{c.g=null,c.i&&(c.i=!1,fe(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class ve extends _{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Te(c){_.call(this),this.h=c,this.g={}}f(Te,_);var De=[];function Ye(c){je(c.g,function(p,g){this.g.hasOwnProperty(g)&&N(p)},c),c.g={}}Te.prototype.N=function(){Te.Z.N.call(this),Ye(this)},Te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=o.JSON.stringify,qt=o.JSON.parse,jt=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function fn(){}function hn(){}var An={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ai(){A.call(this,"d")}f(ai,A);function Dt(){A.call(this,"c")}f(Dt,A);var Ct={},oo=null;function Is(){return oo=oo||new re}Ct.Ia="serverreachability";function pp(c){A.call(this,Ct.Ia,c)}f(pp,A);function ao(c){const p=Is();te(p,new pp(p))}Ct.STAT_EVENT="statevent";function mp(c,p){A.call(this,Ct.STAT_EVENT,c),this.stat=p}f(mp,A);function Xt(c){const p=Is();te(p,new mp(p,c))}Ct.Ja="timingevent";function gp(c,p){A.call(this,Ct.Ja,c),this.size=p}f(gp,A);function lo(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function co(){this.g=!0}co.prototype.ua=function(){this.g=!1};function nI(c,p,g,P,B,U){c.info(function(){if(c.g)if(U){var le="",ke=U.split("&");for(let et=0;et<ke.length;et++){var Et=ke[et].split("=");if(Et.length>1){const Pt=Et[0];Et=Et[1];const $n=Pt.split("_");le=$n.length>=2&&$n[1]=="type"?le+(Pt+"="+Et+"&"):le+(Pt+"=redacted&")}}}else le=null;else le=U;return"XMLHTTP REQ ("+P+") [attempt "+B+"]: "+p+`
`+g+`
`+le})}function rI(c,p,g,P,B,U,le){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+B+"]: "+p+`
`+g+`
`+U+" "+le})}function li(c,p,g,P){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+iI(c,g)+(P?" "+P:"")})}function sI(c,p){c.info(function(){return"TIMEOUT: "+p})}co.prototype.info=function(){};function iI(c,p){if(!c.g)return p;if(!p)return null;try{const U=JSON.parse(p);if(U){for(c=0;c<U.length;c++)if(Array.isArray(U[c])){var g=U[c];if(!(g.length<2)){var P=g[1];if(Array.isArray(P)&&!(P.length<1)){var B=P[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<P.length;le++)P[le]=""}}}}return Be(U)}catch{return p}}var Ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yp={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vp;function Tu(){}f(Tu,fn),Tu.prototype.g=function(){return new XMLHttpRequest},vp=new Tu;function uo(c){return encodeURIComponent(String(c))}function oI(c){var p=1;c=c.split(":");const g=[];for(;p>0&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function Vr(c,p,g,P){this.j=c,this.i=p,this.l=g,this.S=P||1,this.V=new Te(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _p}function _p(){this.i=null,this.g="",this.h=!1}var wp={},Iu={};function Au(c,p,g){c.M=1,c.A=el(Bn(p)),c.u=g,c.R=!0,bp(c,null)}function bp(c,p){c.F=Date.now(),Za(c),c.B=Bn(c.A);var g=c.B,P=c.S;Array.isArray(P)||(P=[String(P)]),Np(g.i,"t",P),c.C=0,g=c.j.L,c.h=new _p,c.g=Jp(c.j,g?p:null,!c.u),c.P>0&&(c.O=new ve(u(c.Y,c,c.g),c.P)),p=c.V,g=c.g,P=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(De[0]=B.toString()),B=De);for(let U=0;U<B.length;U++){const le=z(g,B[U],P||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=c.J?it(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ao(),nI(c.i,c.v,c.B,c.l,c.S,c.u)}Vr.prototype.ba=function(c){c=c.target;const p=this.O;p&&Br(c)==3?p.j():this.Y(c)},Vr.prototype.Y=function(c){try{if(c==this.g)e:{const ke=Br(this.g),Et=this.g.ya(),et=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Up(this.g)))){this.K||ke!=4||Et==7||(Et==8||et<=0?ao(3):ao(2)),Su(this);var p=this.g.ca();this.X=p;var g=aI(this);if(this.o=p==200,rI(this.i,this.v,this.B,this.l,this.S,ke,p),this.o){if(this.U&&!this.L){t:{if(this.g){var P,B=this.g;if((P=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(P)){var U=P;break t}}U=null}if(c=U)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cu(this,c);else{this.o=!1,this.m=3,Xt(12),As(this),fo(this);break e}}if(this.R){c=!0;let Pt;for(;!this.K&&this.C<g.length;)if(Pt=lI(this,g),Pt==Iu){ke==4&&(this.m=4,Xt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==wp){this.m=4,Xt(15),li(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,Pt,null),Cu(this,Pt);if(Ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||g.length!=0||this.h.h||(this.m=1,Xt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,g,"[Invalid Chunked Response]"),As(this),fo(this);else if(g.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Mu(le),le.P=!0,Xt(11))}}else li(this.i,this.l,g,null),Cu(this,g);ke==4&&As(this),this.o&&!this.K&&(ke==4?Gp(this.j,this):(this.o=!1,Za(this)))}else EI(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),As(this),fo(this)}}}catch{}finally{}};function aI(c){if(!Ep(c))return c.g.la();const p=Up(c.g);if(p==="")return"";let g="";const P=p.length,B=Br(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return As(c),fo(c),"";c.h.i=new o.TextDecoder}for(let U=0;U<P;U++)c.h.h=!0,g+=c.h.i.decode(p[U],{stream:!(B&&U==P-1)});return p.length=0,c.h.g+=g,c.C=0,c.h.g}function Ep(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function lI(c,p){var g=c.C,P=p.indexOf(`
`,g);return P==-1?Iu:(g=Number(p.substring(g,P)),isNaN(g)?wp:(P+=1,P+g>p.length?Iu:(p=p.slice(P,P+g),c.C=P+g,p)))}Vr.prototype.cancel=function(){this.K=!0,As(this)};function Za(c){c.T=Date.now()+c.H,Tp(c,c.H)}function Tp(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=lo(u(c.aa,c),p)}function Su(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Vr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(sI(this.i,this.B),this.M!=2&&(ao(),Xt(17)),As(this),this.m=2,fo(this)):Tp(this,this.T-c)};function fo(c){c.j.I==0||c.K||Gp(c.j,c)}function As(c){Su(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ye(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Cu(c,p){try{var g=c.j;if(g.I!=0&&(g.g==c||Pu(g.h,c))){if(!c.L&&Pu(g.h,c)&&g.I==3){try{var P=g.Ba.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var B=P;if(B[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)il(g),rl(g);else break e;Nu(g),Xt(18)}}else g.xa=B[1],0<g.xa-g.K&&B[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=lo(u(g.Va,g),6e3));Sp(g.h)<=1&&g.ta&&(g.ta=void 0)}else Cs(g,11)}else if((c.L||g.g==c)&&il(g),!C(p))for(B=g.Ba.g.parse(p),p=0;p<B.length;p++){let et=B[p];const Pt=et[0];if(!(Pt<=g.K))if(g.K=Pt,et=et[1],g.I==2)if(et[0]=="c"){g.M=et[1],g.ba=et[2];const $n=et[3];$n!=null&&(g.ka=$n,g.j.info("VER="+g.ka));const Ps=et[4];Ps!=null&&(g.za=Ps,g.j.info("SVER="+g.za));const $r=et[5];$r!=null&&typeof $r=="number"&&$r>0&&(P=1.5*$r,g.O=P,g.j.info("backChannelRequestTimeoutMs_="+P)),P=g;const Ur=c.g;if(Ur){const al=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var U=P.h;U.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Ru(U,U.h),U.h=null))}if(P.G){const Vu=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Vu&&(P.wa=Vu,ot(P.J,P.G,Vu))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),P=g;var le=c;if(P.na=Xp(P,P.L?P.ba:null,P.W),le.L){Cp(P.h,le);var ke=le,Et=P.O;Et&&(ke.H=Et),ke.D&&(Su(ke),Za(ke)),P.g=le}else Wp(P);g.i.length>0&&sl(g)}else et[0]!="stop"&&et[0]!="close"||Cs(g,7);else g.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Cs(g,7):Du(g):et[0]!="noop"&&g.l&&g.l.qa(et),g.A=0)}}ao(4)}catch{}}var cI=class{constructor(c,p){this.g=c,this.map=p}};function Ip(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ap(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sp(c){return c.h?1:c.g?c.g.size:0}function Pu(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ru(c,p){c.g?c.g.add(p):c.h=p}function Cp(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ip.prototype.cancel=function(){if(this.i=Pp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Pp(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.G);return p}return m(c.i)}var Rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uI(c,p){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const P=c[g].indexOf("=");let B,U=null;P>=0?(B=c[g].substring(0,P),U=c[g].substring(P+1)):B=c[g],p(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Lr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Lr?(this.l=c.l,ho(this,c.j),this.o=c.o,this.g=c.g,po(this,c.u),this.h=c.h,xu(this,Mp(c.i)),this.m=c.m):c&&(p=String(c).match(Rp))?(this.l=!1,ho(this,p[1]||"",!0),this.o=mo(p[2]||""),this.g=mo(p[3]||"",!0),po(this,p[4]),this.h=mo(p[5]||"",!0),xu(this,p[6]||"",!0),this.m=mo(p[7]||"")):(this.l=!1,this.i=new yo(null,this.l))}Lr.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(go(p,xp,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(go(p,xp,!0),"@"),c.push(uo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(go(g,g.charAt(0)=="/"?hI:fI,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",go(g,mI)),c.join("")},Lr.prototype.resolve=function(c){const p=Bn(this);let g=!!c.j;g?ho(p,c.j):g=!!c.o,g?p.o=c.o:g=!!c.g,g?p.g=c.g:g=c.u!=null;var P=c.h;if(g)po(p,c.u);else if(g=!!c.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var B=p.h.lastIndexOf("/");B!=-1&&(P=p.h.slice(0,B+1)+P)}if(B=P,B==".."||B==".")P="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){P=B.lastIndexOf("/",0)==0,B=B.split("/");const U=[];for(let le=0;le<B.length;){const ke=B[le++];ke=="."?P&&le==B.length&&U.push(""):ke==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),P&&le==B.length&&U.push("")):(U.push(ke),P=!0)}P=U.join("/")}else P=B}return g?p.h=P:g=c.i.toString()!=="",g?xu(p,Mp(c.i)):g=!!c.m,g&&(p.m=c.m),p};function Bn(c){return new Lr(c)}function ho(c,p,g){c.j=g?mo(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function po(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function xu(c,p,g){p instanceof yo?(c.i=p,gI(c.i,c.l)):(g||(p=go(p,pI)),c.i=new yo(p,c.l))}function ot(c,p,g){c.i.set(p,g)}function el(c){return ot(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mo(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function go(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,dI),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xp=/[#\/\?@]/g,fI=/[#\?:]/g,hI=/[#\?]/g,pI=/[#\?@]/g,mI=/#/g;function yo(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Ss(c){c.g||(c.g=new Map,c.h=0,c.i&&uI(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=yo.prototype,t.add=function(c,p){Ss(this),this.i=null,c=ci(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function kp(c,p){Ss(c),p=ci(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Op(c,p){return Ss(c),p=ci(c,p),c.g.has(p)}t.forEach=function(c,p){Ss(this),this.g.forEach(function(g,P){g.forEach(function(B){c.call(p,B,P,this)},this)},this)};function Dp(c,p){Ss(c);let g=[];if(typeof p=="string")Op(c,p)&&(g=g.concat(c.g.get(ci(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)g=g.concat(c[p]);return g}t.set=function(c,p){return Ss(this),this.i=null,c=ci(this,c),Op(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=Dp(this,c),c.length>0?String(c[0]):p):p};function Np(c,p,g){kp(c,p),g.length>0&&(c.i=null,c.g.set(ci(c,p),m(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let P=0;P<p.length;P++){var g=p[P];const B=uo(g);g=Dp(this,g);for(let U=0;U<g.length;U++){let le=B;g[U]!==""&&(le+="="+uo(g[U])),c.push(le)}}return this.i=c.join("&")};function Mp(c){const p=new yo;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ci(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function gI(c,p){p&&!c.j&&(Ss(c),c.i=null,c.g.forEach(function(g,P){const B=P.toLowerCase();P!=B&&(kp(this,P),Np(this,B,g))},c)),c.j=p}function yI(c,p){const g=new co;if(o.Image){const P=new Image;P.onload=d(Fr,g,"TestLoadImage: loaded",!0,p,P),P.onerror=d(Fr,g,"TestLoadImage: error",!1,p,P),P.onabort=d(Fr,g,"TestLoadImage: abort",!1,p,P),P.ontimeout=d(Fr,g,"TestLoadImage: timeout",!1,p,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else p(!1)}function vI(c,p){const g=new co,P=new AbortController,B=setTimeout(()=>{P.abort(),Fr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:P.signal}).then(U=>{clearTimeout(B),U.ok?Fr(g,"TestPingServer: ok",!0,p):Fr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),Fr(g,"TestPingServer: error",!1,p)})}function Fr(c,p,g,P,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),P(g)}catch{}}function _I(){this.g=new jt}function ku(c){this.i=c.Sb||null,this.h=c.ab||!1}f(ku,fn),ku.prototype.g=function(){return new tl(this.i,this.h)};function tl(c,p){re.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(tl,re),t=tl.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,_o(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vp(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vp(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?vo(this):_o(this),this.readyState==3&&Vp(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,vo(this))},t.Na=function(c){this.g&&(this.response=c,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(c){c.readyState=4,c.l=null,c.j=null,c.B=null,_o(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function _o(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lp(c){let p="";return je(c,function(g,P){p+=P,p+=":",p+=g,p+=`\r
`}),p}function Ou(c,p,g){e:{for(P in g){var P=!1;break e}P=!0}P||(g=Lp(g),typeof c=="string"?g!=null&&uo(g):ot(c,p,g))}function gt(c){re.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(gt,re);var wI=/^https?$/i,bI=["POST","PUT"];t=gt.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,g,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vp.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){Fp(this,U);return}if(c=g||"",g=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var B in P)g.set(B,P[B]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const U of P.keys())g.set(U,P.get(U));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),B=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(bI,p,void 0)>=0)||P||B||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,le]of g)this.g.setRequestHeader(U,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(U){Fp(this,U)}};function Fp(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Bp(c),nl(c)}function Bp(c){c.A||(c.A=!0,te(c,"complete"),te(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,te(this,"complete"),te(this,"abort"),nl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nl(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$p(this):this.Xa())},t.Xa=function(){$p(this)};function $p(c){if(c.h&&typeof i<"u"){if(c.v&&Br(c)==4)setTimeout(c.Ca.bind(c),0);else if(te(c,"readystatechange"),Br(c)==4){c.h=!1;try{const U=c.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var P;if(P=U===0){let le=String(c.D).match(Rp)[1]||null;!le&&o.self&&o.self.location&&(le=o.self.location.protocol.slice(0,-1)),P=!wI.test(le?le.toLowerCase():"")}g=P}if(g)te(c,"complete"),te(c,"success");else{c.o=6;try{var B=Br(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Bp(c)}}finally{nl(c)}}}}function nl(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,p||te(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Br(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Br(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),qt(p)}};function Up(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function EI(c){const p={};c=(c.g&&Br(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(C(c[P]))continue;var g=oI(c[P]);const B=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[B]||[];p[B]=U,U.push(g)}ct(p,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wo(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function qp(c){this.za=0,this.i=[],this.j=new co,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wo("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wo("baseRetryDelayMs",5e3,c),this.Za=wo("retryDelaySeedMs",1e4,c),this.Ta=wo("forwardChannelMaxRetries",2,c),this.va=wo("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ip(c&&c.concurrentRequestLimit),this.Ba=new _I,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qp.prototype,t.ka=8,t.I=1,t.connect=function(c,p,g,P){Xt(0),this.W=c,this.H=p||{},g&&P!==void 0&&(this.H.OSID=g,this.H.OAID=P),this.F=this.X,this.J=Xp(this,null,this.W),sl(this)};function Du(c){if(jp(c),c.I==3){var p=c.V++,g=Bn(c.J);if(ot(g,"SID",c.M),ot(g,"RID",p),ot(g,"TYPE","terminate"),bo(c,g),p=new Vr(c,c.j,p),p.M=2,p.A=el(Bn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=Jp(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Za(p)}Yp(c)}function rl(c){c.g&&(Mu(c),c.g.cancel(),c.g=null)}function jp(c){rl(c),c.v&&(o.clearTimeout(c.v),c.v=null),il(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function sl(c){if(!Ap(c.h)&&!c.m){c.m=!0;var p=c.Ea;V||w(),F||(V(),F=!0),I.add(p,c),c.D=0}}function TI(c,p){return Sp(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=lo(u(c.Ea,c,p),Qp(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Vr(this,this.j,c);let U=this.o;if(this.U&&(U?(U=it(U),Qe(U,this.U)):U=this.U),this.u!==null||this.R||(B.J=U,U=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var P=this.i[g];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=Hp(this,B,p),g=Bn(this.J),ot(g,"RID",c),ot(g,"CVER",22),this.G&&ot(g,"X-HTTP-Session-Id",this.G),bo(this,g),U&&(this.R?p="headers="+uo(Lp(U))+"&"+p:this.u&&Ou(g,this.u,U)),Ru(this.h,B),this.Ra&&ot(g,"TYPE","init"),this.S?(ot(g,"$req",p),ot(g,"SID","null"),B.U=!0,Au(B,g,null)):Au(B,g,p),this.I=2}}else this.I==3&&(c?zp(this,c):this.i.length==0||Ap(this.h)||zp(this))};function zp(c,p){var g;p?g=p.l:g=c.V++;const P=Bn(c.J);ot(P,"SID",c.M),ot(P,"RID",g),ot(P,"AID",c.K),bo(c,P),c.u&&c.o&&Ou(P,c.u,c.o),g=new Vr(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Hp(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ru(c.h,g),Au(g,P,p)}function bo(c,p){c.H&&je(c.H,function(g,P){ot(p,P,g)}),c.l&&je({},function(g,P){ot(p,P,g)})}function Hp(c,p,g){g=Math.min(c.i.length,g);const P=c.l?u(c.l.Ka,c.l,c):null;e:{var B=c.i;let ke=-1;for(;;){const Et=["count="+g];ke==-1?g>0?(ke=B[0].g,Et.push("ofs="+ke)):ke=0:Et.push("ofs="+ke);let et=!0;for(let Pt=0;Pt<g;Pt++){var U=B[Pt].g;const $n=B[Pt].map;if(U-=ke,U<0)ke=Math.max(0,B[Pt].g-100),et=!1;else try{U="req"+U+"_"||"";try{var le=$n instanceof Map?$n:Object.entries($n);for(const[Ps,$r]of le){let Ur=$r;a($r)&&(Ur=Be($r)),Et.push(U+Ps+"="+encodeURIComponent(Ur))}}catch(Ps){throw Et.push(U+"type="+encodeURIComponent("_badmap")),Ps}}catch{P&&P($n)}}if(et){le=Et.join("&");break e}}le=void 0}return c=c.i.splice(0,g),p.G=c,le}function Wp(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;V||w(),F||(V(),F=!0),I.add(p,c),c.A=0}}function Nu(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=lo(u(c.Da,c),Qp(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Kp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=lo(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),rl(this),Kp(this))};function Mu(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Kp(c){c.g=new Vr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Bn(c.na);ot(p,"RID","rpc"),ot(p,"SID",c.M),ot(p,"AID",c.K),ot(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&ot(p,"TO",c.ia),ot(p,"TYPE","xmlhttp"),bo(c,p),c.u&&c.o&&Ou(p,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=el(Bn(p)),g.u=null,g.R=!0,bp(g,c)}t.Va=function(){this.C!=null&&(this.C=null,rl(this),Nu(this),Xt(19))};function il(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Gp(c,p){var g=null;if(c.g==p){il(c),Mu(c),c.g=null;var P=2}else if(Pu(c.h,p))g=p.G,Cp(c.h,p),P=1;else return;if(c.I!=0){if(p.o)if(P==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var B=c.D;P=Is(),te(P,new gp(P,g)),sl(c)}else Wp(c);else if(B=p.m,B==3||B==0&&p.X>0||!(P==1&&TI(c,p)||P==2&&Nu(c)))switch(g&&g.length>0&&(p=c.h,p.i=p.i.concat(g)),B){case 1:Cs(c,5);break;case 4:Cs(c,10);break;case 3:Cs(c,6);break;default:Cs(c,2)}}}function Qp(c,p){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*p}function Cs(c,p){if(c.j.info("Error code "+p),p==2){var g=u(c.bb,c),P=c.Ua;const B=!P;P=new Lr(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ho(P,"https"),el(P),B?yI(P.toString(),g):vI(P.toString(),g)}else Xt(2);c.I=0,c.l&&c.l.pa(p),Yp(c),jp(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function Yp(c){if(c.I=0,c.ja=[],c.l){const p=Pp(c.h);(p.length!=0||c.i.length!=0)&&(v(c.ja,p),v(c.ja,c.i),c.h.i.length=0,m(c.i),c.i.length=0),c.l.oa()}}function Xp(c,p,g){var P=g instanceof Lr?Bn(g):new Lr(g);if(P.g!="")p&&(P.g=p+"."+P.g),po(P,P.u);else{var B=o.location;P=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;const U=new Lr(null);P&&ho(U,P),p&&(U.g=p),B&&po(U,B),g&&(U.h=g),P=U}return g=c.G,p=c.wa,g&&p&&ot(P,g,p),ot(P,"VER",c.ka),bo(c,P),P}function Jp(c,p,g){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new gt(new ku({ab:g})):new gt(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zp(){}t=Zp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ol(){}ol.prototype.g=function(c,p){return new pn(c,p)};function pn(c,p){re.call(this),this.g=new qp(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ui(this)}f(pn,re),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Du(this.g)},pn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=Be(c),c=g);p.i.push(new cI(p.Ya++,c)),p.I==3&&sl(p)},pn.prototype.N=function(){this.g.l=null,delete this.j,Du(this.g),delete this.g,pn.Z.N.call(this)};function em(c){ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}f(em,ai);function tm(){Dt.call(this),this.status=1}f(tm,Dt);function ui(c){this.g=c}f(ui,Zp),ui.prototype.ra=function(){te(this.g,"a")},ui.prototype.qa=function(c){te(this.g,new em(c))},ui.prototype.pa=function(c){te(this.g,new tm)},ui.prototype.oa=function(){te(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,bE=function(){return new ol},wE=function(){return Is()},_E=Ct,vf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,$l=Ja,yp.COMPLETE="complete",vE=yp,hn.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",re.prototype.listen=re.prototype.J,Oo=hn,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,yE=gt}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});const Sy="@firebase/firestore",Cy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new vh("@firebase/firestore");function wi(){return Qs.logLevel}function pe(t,...e){if(Qs.logLevel<=Ne.DEBUG){const n=e.map(Oh);Qs.debug(`Firestore (${no}): ${t}`,...n)}}function Rr(t,...e){if(Qs.logLevel<=Ne.ERROR){const n=e.map(Oh);Qs.error(`Firestore (${no}): ${t}`,...n)}}function va(t,...e){if(Qs.logLevel<=Ne.WARN){const n=e.map(Oh);Qs.warn(`Firestore (${no}): ${t}`,...n)}}function Oh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EE(t,r,n)}function EE(t,e,n){let r=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rr(r),new Error(r)}function Ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||EE(e,s,r)}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class qV{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cs,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;e.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},a=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cs)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new $V(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class jV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=i=>{i.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Py(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=WV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function _f(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return _d(s)===_d(i)?Me(s,i):_d(s)?1:-1}return Me(t.length,e.length)}const KV=55296,GV=57343;function _d(t){const e=t.charCodeAt(0);return e>=KV&&e<=GV}function zi(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="__name__";class jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=jn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Me(e.length,n.length)}static compareSegments(e,n){const r=jn.isNumericId(e),s=jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?jn.extractNumericId(e).compare(jn.extractNumericId(n)):_f(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class ht extends jn{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const QV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends jn{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return QV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ry}static keyField(){return new Lt([Ry])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ye(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ye(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ye(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ye(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e,n){if(!n)throw new ye(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XV(t,e,n,r){if(e===!0&&r===!0)throw new ye(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xy(t){if(!Ee.isDocumentKey(t))throw new ye(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function pc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(t);throw new ye(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ha(t,e){if(!TE(t))throw new ye(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ye(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,Oy=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Oy);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ky)throw new ye(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oy}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ha(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:bt("string",lt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new lt(0,0))}static max(){return new Re(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=-1;function JV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new hs(s,Ee.empty(),e)}function ZV(t){return new hs(t.readTime,t.key,_a)}class hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hs(Re.min(),Ee.empty(),_a)}static max(){return new hs(Re.max(),Ee.empty(),_a)}}function eL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==tL)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):G.reject(n)}static resolve(e){return new G(((n,r)=>{n(e)}))}static reject(e){return new G(((n,r)=>{r(e)}))}static waitFor(e){return new G(((n,r)=>{let s=0,i=0,o=!1;e.forEach((a=>{++s,a.next((()=>{++i,o&&i===s&&n()}),(l=>r(l)))})),o=!0,i===s&&n()}))}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next((s=>s?G.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new G(((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next((d=>{o[u]=d,++a,a===i&&r(o)}),(d=>s(d)))}}))}static doWhile(e,n){return new G(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function rL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function so(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function uu(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function sL(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="";function iL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dy(e)),e=oL(t.get(n),e);return Dy(e)}function oL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case IE:n+="";break;default:n+=i}}return n}function Dy(t){return t+IE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ri(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tl(this.root,e,this.comparator,!0)}}class Tl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=i??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new At(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zi(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SE("Invalid base64 string: "+i):i}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const aL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(Ge(!!t,39018),typeof t=="string"){let e=0;const n=aL.exec(t);if(Ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="server_timestamp",PE="__type__",RE="__previous_value__",xE="__local_write_time__";function Vh(t){return(t?.mapValue?.fields||{})[PE]?.stringValue===CE}function du(t){const e=t.mapValue.fields[RE];return Vh(e)?du(e):e}function wa(t){const e=ps(t.mapValue.fields[xE].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const gc="(default)";class ba{constructor(e,n){this.projectId=e,this.database=n||gc}static empty(){return new ba("","")}get isDefaultDatabase(){return this.database===gc}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",cL="__max__",Il={mapValue:{}},OE="__vector__",yc="value";function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vh(t)?4:dL(t)?9007199254740991:uL(t)?10:11:Se(28295,{value:t})}function ir(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wa(t).isEqual(wa(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ps(s.timestampValue),a=ps(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return ms(s.bytesValue).isEqual(ms(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return yt(s.geoPointValue.latitude)===yt(i.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return yt(s.integerValue)===yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=yt(s.doubleValue),a=yt(i.doubleValue);return o===a?mc(o)===mc(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return zi(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Ny(o)!==Ny(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ir(o[l],a[l])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Ea(t,e){return(t.values||[]).find((n=>ir(n,e)))!==void 0}function Hi(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const a=yt(i.integerValue||i.doubleValue),l=yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return Vy(t.timestampValue,e.timestampValue);case 4:return Vy(wa(t),wa(e));case 5:return _f(t.stringValue,e.stringValue);case 6:return(function(i,o){const a=ms(i),l=ms(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Me(a[u],l[u]);if(d!==0)return d}return Me(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const a=Me(yt(i.latitude),yt(o.latitude));return a!==0?a:Me(yt(i.longitude),yt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Ly(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const a=i.fields||{},l=o.fields||{},u=a[yc]?.arrayValue,d=l[yc]?.arrayValue,f=Me(u?.values?.length||0,d?.values?.length||0);return f!==0?f:Ly(u,d)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===Il.mapValue&&o===Il.mapValue)return 0;if(i===Il.mapValue)return 1;if(o===Il.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=_f(l[f],d[f]);if(h!==0)return h;const m=Hi(a[l[f]],u[d[f]]);if(m!==0)return m}return Me(l.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Vy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=ps(t),r=ps(e),s=Me(n.seconds,r.seconds);return s!==0?s:Me(n.nanos,r.nanos)}function Ly(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Hi(n[s],r[s]);if(i)return i}return Me(n.length,r.length)}function Wi(t){return wf(t)}function wf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ms(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wf(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wf(n.fields[o])}`;return s+"}"})(t.mapValue):Se(61005,{value:t})}function Ul(t){switch(gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=du(t);return e?16+Ul(e):16;case 5:return 2*t.stringValue.length;case 6:return ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Ul(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ri(r.fields,((i,o)=>{s+=i.length+Ul(o)})),s})(t.mapValue);default:throw Se(13486,{value:t})}}function bf(t){return!!t&&"integerValue"in t}function Lh(t){return!!t&&"arrayValue"in t}function Fy(t){return!!t&&"nullValue"in t}function By(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ql(t){return!!t&&"mapValue"in t}function uL(t){return(t?.mapValue?.fields||{})[kE]?.stringValue===OE}function Qo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ri(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Qo(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(t.arrayValue.values[n]);return e}return{...t}}function dL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=Lt.emptyPath(),r={},s=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qo(o):s.push(a.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ql(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ri(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new wn(Qo(this.value))}}function DE(t){const e=[];return ri(t.fields,((n,r)=>{const s=new Lt([n]);if(ql(r)){const i=DE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kt(e,0,Re.min(),Re.min(),Re.min(),wn.empty(),0)}static newFoundDocument(e,n,r,s){return new Kt(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new Kt(e,2,n,Re.min(),Re.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,Re.min(),Re.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.position=e,this.inclusive=n}}function $y(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Ee.comparator(Ee.fromName(o.referenceValue),n.key):r=Hi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Uy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function fL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{}class It extends NE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pL(e,n,r):n==="array-contains"?new yL(e,r):n==="in"?new vL(e,r):n==="not-in"?new _L(e,r):n==="array-contains-any"?new wL(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mL(e,r):new gL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hi(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Hi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends NE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new or(e,n)}matches(e){return ME(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(t){return t.op==="and"}function VE(t){return hL(t)&&ME(t)}function hL(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function Ef(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+Wi(t.value);if(VE(t))return t.filters.map((e=>Ef(e))).join(",");{const e=t.filters.map((n=>Ef(n))).join(",");return`${t.op}(${e})`}}function LE(t,e){return t instanceof It?(function(r,s){return s instanceof It&&r.op===s.op&&r.field.isEqual(s.field)&&ir(r.value,s.value)})(t,e):t instanceof or?(function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,a)=>i&&LE(o,s.filters[a])),!0):!1})(t,e):void Se(19439)}function FE(t){return t instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wi(n.value)}`})(t):t instanceof or?(function(n){return n.op.toString()+" {"+n.getFilters().map(FE).join(" ,")+"}"})(t):"Filter"}class pL extends It{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class mL extends It{constructor(e,n){super(e,"in",n),this.keys=BE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class gL extends It{constructor(e,n){super(e,"not-in",n),this.keys=BE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function BE(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class yL extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lh(n)&&Ea(n.arrayValue,this.value)}}class vL extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class _L extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ea(this.value.arrayValue,n)}}class wL extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ea(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function qy(t,e=null,n=[],r=[],s=null,i=null,o=null){return new bL(t,e,n,r,s,i,o)}function Fh(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ef(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wi(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wi(r))).join(",")),e.Te=n}return e.Te}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uy(t.startAt,e.startAt)&&Uy(t.endAt,e.endAt)}function Tf(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EL(t,e,n,r,s,i,o,a){return new fu(t,e,n,r,s,i,o,a)}function $h(t){return new fu(t)}function jy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TL(t){return t.collectionGroup!==null}function Yo(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(Lt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new _c(i,r))})),n.has(Lt.keyField().canonicalString())||e.Ie.push(new _c(Lt.keyField(),r))}return e.Ie}function Jn(t){const e=xe(t);return e.Ee||(e.Ee=IL(e,Yo(t))),e.Ee}function IL(t,e){if(t.limitType==="F")return qy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new _c(s.field,i)}));const n=t.endAt?new vc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vc(t.startAt.position,t.startAt.inclusive):null;return qy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function If(t,e,n){return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hu(t,e){return Bh(Jn(t),Jn(e))&&t.limitType===e.limitType}function $E(t){return`${Fh(Jn(t))}|lt:${t.limitType}`}function bi(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>FE(s))).join(", ")}]`),uu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Wi(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Wi(s))).join(",")),`Target(${r})`})(Jn(t))}; limitType=${t.limitType})`}function pu(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Yo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,a,l){const u=$y(o,a,l);return o.inclusive?u<=0:u<0})(r.startAt,Yo(r),s)||r.endAt&&!(function(o,a,l){const u=$y(o,a,l);return o.inclusive?u>=0:u>0})(r.endAt,Yo(r),s))})(t,e)}function AL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UE(t){return(e,n)=>{let r=!1;for(const s of Yo(t)){const i=SL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function SL(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Hi(l,u):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ri(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new pt(Ee.comparator);function xr(){return CL}const qE=new pt(Ee.comparator);function Do(...t){let e=qE;for(const n of t)e=e.insert(n.key,n);return e}function jE(t){let e=qE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Bs(){return Xo()}function zE(){return Xo()}function Xo(){return new si((t=>t.toString()),((t,e)=>t.isEqual(e)))}const PL=new pt(Ee.comparator),RL=new At(Ee.comparator);function Ve(...t){let e=RL;for(const n of t)e=e.add(n);return e}const xL=new At(Me);function kL(){return xL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function HE(t){return{integerValue:""+t}}function OL(t,e){return sL(e)?HE(e):Uh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this._=void 0}}function DL(t,e,n){return t instanceof Ta?(function(s,i){const o={fields:{[PE]:{stringValue:CE},[xE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vh(i)&&(i=du(i)),i&&(o.fields[RE]=i),{mapValue:o}})(n,e):t instanceof Ia?KE(t,e):t instanceof Aa?GE(t,e):(function(s,i){const o=WE(s,i),a=zy(o)+zy(s.Ae);return bf(o)&&bf(s.Ae)?HE(a):Uh(s.serializer,a)})(t,e)}function NL(t,e,n){return t instanceof Ia?KE(t,e):t instanceof Aa?GE(t,e):n}function WE(t,e){return t instanceof wc?(function(r){return bf(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Ta extends mu{}class Ia extends mu{constructor(e){super(),this.elements=e}}function KE(t,e){const n=QE(e);for(const r of t.elements)n.some((s=>ir(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Aa extends mu{constructor(e){super(),this.elements=e}}function GE(t,e){let n=QE(e);for(const r of t.elements)n=n.filter((s=>!ir(s,r)));return{arrayValue:{values:n}}}class wc extends mu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zy(t){return yt(t.integerValue||t.doubleValue)}function QE(t){return Lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.field=e,this.transform=n}}function VL(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Ia&&s instanceof Ia||r instanceof Aa&&s instanceof Aa?zi(r.elements,s.elements,ir):r instanceof wc&&s instanceof wc?ir(r.Ae,s.Ae):r instanceof Ta&&s instanceof Ta})(t.transform,e.transform)}class LL{constructor(e,n){this.version=e,this.transformResults=n}}class br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gu{}function YE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JE(t.key,br.none()):new Wa(t.key,t.data,br.none());{const n=t.data,r=wn.empty();let s=new At(Lt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ii(t.key,r,new Pn(s.toArray()),br.none())}}function FL(t,e,n){t instanceof Wa?(function(s,i,o){const a=s.value.clone(),l=Wy(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof ii?(function(s,i,o){if(!jl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Wy(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(XE(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Jo(t,e,n,r){return t instanceof Wa?(function(i,o,a,l){if(!jl(i.precondition,o))return a;const u=i.value.clone(),d=Ky(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof ii?(function(i,o,a,l){if(!jl(i.precondition,o))return a;const u=Ky(i.fieldTransforms,l,o),d=o.data;return d.setAll(XE(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(i,o,a){return jl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function BL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=WE(r.transform,s||null);i!=null&&(n===null&&(n=wn.empty()),n.set(r.field,i))}return n||null}function Hy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zi(r,s,((i,o)=>VL(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wa extends gu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ii extends gu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function XE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Wy(t,e,n){const r=new Map;Ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,NL(o,a,n[s]))}return r}function Ky(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,DL(i,o,e))}return r}class JE extends gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $L extends gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&FL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zE();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=YE(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&zi(this.mutations,e.mutations,((n,r)=>Hy(n,r)))&&zi(this.baseMutations,e.baseMutations,((n,r)=>Hy(n,r)))}}class qh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return PL})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Fe;function zL(t){switch(t){case X.OK:return Se(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function ZE(t){if(t===void 0)return Rr("GRPC error has no .code"),X.UNKNOWN;switch(t){case wt.OK:return X.OK;case wt.CANCELLED:return X.CANCELLED;case wt.UNKNOWN:return X.UNKNOWN;case wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case wt.INTERNAL:return X.INTERNAL;case wt.UNAVAILABLE:return X.UNAVAILABLE;case wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case wt.NOT_FOUND:return X.NOT_FOUND;case wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case wt.ABORTED:return X.ABORTED;case wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case wt.DATA_LOSS:return X.DATA_LOSS;default:return Se(39323,{code:t})}}(Fe=wt||(wt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new ls([4294967295,4294967295],0);function Gy(t){const e=HL().encode(t),n=new gE;return n.update(e),new Uint8Array(n.digest())}function Qy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ls([n,r],0),new ls([s,i],0)]}class jh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new No(`Invalid padding: ${n}`);if(r<0)throw new No(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new No(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ls.fromNumber(r)));return s.compare(WL)===1&&(s=new ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gy(e),[r,s]=Qy(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new jh(i,s,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=Gy(e),[r,s]=Qy(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yu(Re.min(),s,new pt(Me),xr(),Ve())}}class Ka{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ka(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class eT{constructor(e,n){this.targetId=e,this.Ce=n}}class tT{constructor(e,n,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Yy{constructor(){this.ve=0,this.Fe=Xy(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),r=Ve();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}})),new Ka(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Xy()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KL{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.Je=Al(),this.He=Al(),this.Ye=new pt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Tf(i))if(r===0){const o=new Ee(i.path);this.et(n,o,Kt.newNoDocument(o,Re.min()))}else Ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ms(r).toUint8Array()}catch(l){if(l instanceof SE)return va("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jh(o,s,i)}catch(l){return va(l instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Tf(a.target)){const l=new Ee(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Kt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Ve();this.He.forEach(((i,o)=>{let a=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new yu(e,n,this.Ye,this.je,r);return this.je=xr(),this.Je=Al(),this.He=Al(),this.Ye=new pt(Me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yy,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yy),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Al(){return new pt(Ee.comparator)}function Xy(){return new pt(Ee.comparator)}const GL={asc:"ASCENDING",desc:"DESCENDING"},QL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YL={and:"AND",or:"OR"};class XL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Af(t,e){return t.useProto3Json||uu(e)?e:{value:e}}function bc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JL(t,e){return bc(t,e.toTimestamp())}function Zn(t){return Ge(!!t,49232),Re.fromTimestamp((function(n){const r=ps(n);return new lt(r.seconds,r.nanos)})(t))}function zh(t,e){return Sf(t,e).canonicalString()}function Sf(t,e){const n=(function(s){return new ht(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function rT(t){const e=ht.fromString(t);return Ge(lT(e),10190,{key:e.toString()}),e}function Cf(t,e){return zh(t.databaseId,e.path)}function wd(t,e){const n=rT(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(iT(n))}function sT(t,e){return zh(t.databaseId,e)}function ZL(t){const e=rT(t);return e.length===4?ht.emptyPath():iT(e)}function Pf(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iT(t){return Ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Jy(t,e,n){return{name:Cf(t,e),fields:n.value.mapValue.fields}}function eF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,d){return u.useProto3Json?(Ge(d===void 0||typeof d=="string",58123),$t.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),$t.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){const d=u.code===void 0?X.UNKNOWN:ZE(u.code);return new ye(d,u.message||"")})(o);n=new tT(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wd(t,r.document.name),i=Zn(r.document.updateTime),o=r.document.createTime?Zn(r.document.createTime):Re.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=Kt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new zl(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wd(t,r.document),i=r.readTime?Zn(r.readTime):Re.min(),o=Kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wd(t,r.document),i=r.removedTargetIds||[];n=new zl([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new jL(s,i),a=r.targetId;n=new eT(a,o)}}return n}function tF(t,e){let n;if(e instanceof Wa)n={update:Jy(t,e.key,e.value)};else if(e instanceof JE)n={delete:Cf(t,e.key)};else if(e instanceof ii)n={update:Jy(t,e.key,e.data),updateMask:uF(e.fieldMask)};else{if(!(e instanceof $L))return Se(16599,{Vt:e.type});n={verify:Cf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const a=o.transform;if(a instanceof Ta)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ia)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Aa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Se(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:JL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)})(t,e.precondition)),n}function nF(t,e){return t&&t.length>0?(Ge(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Zn(s.updateTime):Zn(i);return o.isEqual(Re.min())&&(o=Zn(i)),new LL(o,s.transformResults||[])})(n,e)))):[]}function rF(t,e){return{documents:[sT(t,e.path)]}}function sF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sT(t,s);const i=(function(u){if(u.length!==0)return aT(or.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((d=>(function(h){return{field:Ei(h.field),direction:aF(h.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Af(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function iF(t){let e=ZL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(f){const h=oT(f);return h instanceof or&&VE(h)?h.getFilters():[h]})(n.where));let o=[];n.orderBy&&(o=(function(f){return f.map((h=>(function(v){return new _c(Ti(v.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(h)))})(n.orderBy));let a=null;n.limit&&(a=(function(f){let h;return h=typeof f=="object"?f.value:f,uu(h)?null:h})(n.limit));let l=null;n.startAt&&(l=(function(f){const h=!!f.before,m=f.values||[];return new vc(m,h)})(n.startAt));let u=null;return n.endAt&&(u=(function(f){const h=!f.before,m=f.values||[];return new vc(m,h)})(n.endAt)),EL(e,s,o,i,a,"F",l,u)}function oF(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ti(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ti(n.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ti(n.unaryFilter.field);return It.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ti(n.unaryFilter.field);return It.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return It.create(Ti(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return or.create(n.compositeFilter.filters.map((r=>oT(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function aF(t){return GL[t]}function lF(t){return QL[t]}function cF(t){return YL[t]}function Ei(t){return{fieldPath:t.canonicalString()}}function Ti(t){return Lt.fromServerFormat(t.fieldPath)}function aT(t){return t instanceof It?(function(n){if(n.op==="=="){if(By(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NAN"}};if(Fy(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(By(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NAN"}};if(Fy(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ei(n.field),op:lF(n.op),value:n.value}}})(t):t instanceof or?(function(n){const r=n.getFilters().map((s=>aT(s)));return r.length===1?r[0]:{compositeFilter:{op:cF(n.op),filters:r}}})(t):Se(54877,{filter:t})}function uF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,s,i=Re.min(),o=Re.min(),a=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.yt=e}}function fF(t){const e=iF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(){this.Cn=new pF}addToCollectionParentIndex(e,n){return this.Cn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(hs.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class pF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At(ht.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(cT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ki(0)}static cr(){return new Ki(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LruGarbageCollector",uT=1048576;function tv([t,e],[n,r]){const s=Me(t,n);return s===0?Me(e,r):s}class mF{constructor(e){this.Ir=e,this.buffer=new At(tv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?pe(ev,"Ignoring IndexedDB error during garbage collection: ",n):await ro(n)}await this.Vr(3e5)}))}}class yF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return G.resolve(cu.ce);const r=new mF(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Zy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zy):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s)))).next((f=>(r=f,a=Date.now(),this.removeTargets(e,r,n)))).next((f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((f=>(u=Date.now(),wi()<=Ne.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f}))))}}function vF(t,e){return new yF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.changes=new si((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Jo(r.mutation,s,Pn.empty(),lt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ve()){const s=Bs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Do();return i.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Bs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ve())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,s){let i=xr();const o=Xo(),a=(function(){return Xo()})();return n.forEach(((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ii)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Jo(d.mutation,u,d.mutation.getFieldMask(),lt.now())):o.set(u.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,i).next((l=>(l.forEach(((u,d)=>o.set(u,d))),n.forEach(((u,d)=>a.set(u,new wF(d,o.get(u)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=Xo();let s=new pt(((o,a)=>o-a)),i=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Pn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(s.get(a.batchId)||Ve()).add(l);s=s.insert(a.batchId,f)}))})).next((()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=zE();d.forEach((h=>{if(!i.has(h)){const m=YE(n.get(h),r.get(h));m!==null&&f.set(h,m),i=i.add(h)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return G.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(o){return Ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(Bs());let a=_a,l=i;return o.next((u=>G.forEach(u,((d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next((h=>{l=l.insert(d,h)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,l,u,Ve()))).next((d=>({batchId:a,changes:jE(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let s=Do();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Do();return this.indexManager.getCollectionParents(e,i).next((a=>G.forEach(a,(l=>{const u=(function(f,h){return new fu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((d=>{d.forEach(((f,h)=>{o=o.insert(f,h)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Kt.newInvalidDocument(d)))}));let a=Do();return o.forEach(((l,u)=>{const d=i.get(l);d!==void 0&&Jo(d.mutation,u,Pn.empty(),lt.now()),pu(n,u)&&(a=a.insert(l,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return G.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Zn(s.createTime)}})(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:fF(s.bundledQuery),readTime:Zn(s.readTime)}})(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.overlays=new pt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bs();return G.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=Bs(),i=n.length+1,o=new Ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt(((u,d)=>u-d));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Bs(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Bs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,d)=>a.set(u,d))),!(a.size()>=s)););return G.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new qL(n,r));let i=this.qr.get(n);i===void 0&&(i=Ve(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this.Qr=new At(Rt.$r),this.Ur=new At(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Rt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ee(new ht([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ht([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=Ve();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new Rt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(Rt.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Mh:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const a=this.Xr(o.Yr);i.push(a)})),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Me);return n.forEach((s=>{const i=new Rt(s,0),o=new Rt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(a=>{r=r.add(a.Yr)}))})),G.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ee.isDocumentKey(i)||(i=i.child(""));const o=new Rt(new Ee(i),0);let a=new At(Me);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)}),o),G.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return G.forEach(n.mutations,(s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Rt(n,0),s=this.Zr.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.ri=e,this.docs=(function(){return new pt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Kt.newInvalidDocument(s))})),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=xr();const o=n.path,a=new Ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eL(ZV(d),r)<=0||(s.has(d.key)||pu(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}ii(e,n){return G.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new CF(this)}getSize(e){return G.resolve(this.size)}}class CF extends _F{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),G.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.persistence=e,this.si=new si((n=>Fh(n)),Bh),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Hh,this.targetCount=0,this.ai=Ki.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),G.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ki(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Pr(n),G.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)})),G.waitFor(i).next((()=>s))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.ui={},this.overlays={},this.ci=new cu(0),this.li=!1,this.li=!0,this.hi=new IF,this.referenceDelegate=e(this),this.Pi=new PF(this),this.indexManager=new hF,this.remoteDocumentCache=(function(s){return new SF(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dF(n),this.Ii=new EF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new AF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const s=new RF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return G.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class RF extends nL{constructor(e){super(),this.currentSequenceNumber=e}}class Wh{constructor(e){this.persistence=e,this.Ri=new Hh,this.Vi=null}static mi(e){return new Wh(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return G.or([()=>G.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ec{constructor(e,n){this.persistence=e,this.pi=new si((r=>iL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=vF(this,n)}static mi(e,n){return new Ec(e,n)}Ei(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return G.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?G.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,i.removeEntry(o,Re.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ul(e.data.value)),n}br(e,n,r){return G.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return G.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ve(),s=Ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Kh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rO()?8:rL(Yt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new xF;return this.Ss(e,n,o).next((a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(wi()<=Ne.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(wi()<=Ne.DEBUG&&pe("QueryEngine","Query:",bi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(wi()<=Ne.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):G.resolve())}ys(e,n){if(jy(n))return G.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=If(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Ve(...i);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,If(n,null,"F")):this.vs(e,u,n,l)}))))})))))}ws(e,n,r,s){return jy(n)||s.isEqual(Re.min())?G.resolve(null):this.ps.getDocuments(e,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?G.resolve(null):(wi()<=Ne.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bi(n)),this.vs(e,o,n,JV(s,_a)).next((a=>a)))}))}Ds(e,n){let r=new At(UE(e));return n.forEach(((s,i)=>{pu(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return wi()<=Ne.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",bi(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="LocalStore",OF=3e8;class DF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new pt(Me),this.xs=new si((i=>Fh(i)),Bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function NF(t,e,n,r){return new DF(t,e,n,r)}async function fT(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],a=[];let l=Ve();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:a})))}))}))}function MF(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,d){const f=u.batch,h=f.keys();let m=G.resolve();return h.forEach((v=>{m=m.next((()=>d.getEntry(l,v))).next((b=>{const E=u.docVersions.get(v);Ge(E!==null,48541),b.version.compareTo(E)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))}))})),m.next((()=>a.mutationQueue.removeMutationBatch(l,f)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function hT(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function VF(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach(((d,f)=>{const h=s.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f))));let m=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken($t.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),(function(b,E,O){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=OF?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(h,m,d)&&a.push(n.Pi.updateTargetData(i,m))}));let l=xr(),u=Ve();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),a.push(LF(i,o,e.documentUpdates).next((d=>{l=d.ks,u=d.qs}))),!r.isEqual(Re.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));a.push(d)}return G.waitFor(a).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(n.Ms=s,i)))}function LF(t,e,n){let r=Ve(),s=Ve();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=xr();return n.forEach(((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):pe(Gh,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function FF(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Mh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function BF(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,G.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Rf(t,e,n){const r=xe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!so(o))throw o;pe(Gh,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function nv(t,e,n){const r=xe(t);let s=Re.min(),i=Ve();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,d){const f=xe(l),h=f.xs.get(d);return h!==void 0?G.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)})(r,o,Jn(e)).next((a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Re.min(),n?i:Ve()))).next((a=>($F(r,AL(e),a),{documents:a,Qs:i})))))}function $F(t,e,n){let r=t.Os.get(e)||Re.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class rv{constructor(){this.activeTargetIds=kL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UF{constructor(){this.Mo=new rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(sv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl=null;function xf(){return Sl===null?Sl=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sl++,"0x"+Sl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="RestConnection",jF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===gc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=xf(),a=this.zo(e,n.toUriEncodedString());pe(bd,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=Ji(u);return this.Jo(e,a,l,r,d).then((f=>(pe(bd,`Received RPC '${e}' ${o}: `,f),f)),(f=>{throw va(bd,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f}))}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+no})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=jF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class WF extends zF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=xf();return new Promise(((a,l)=>{const u=new yE;u.setWithCredentials(!0),u.listenOnce(vE.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case $l.NO_ERROR:const f=u.getResponseJson();pe(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case $l.TIMEOUT:pe(zt,`RPC '${e}' ${o} timed out`),l(new ye(X.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:const h=u.getStatus();if(pe(zt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m?.error;if(v&&v.status&&v.message){const b=(function(O){const M=O.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(M)>=0?M:X.UNKNOWN})(v.status);l(new ye(b,v.message))}else l(new ye(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ye(X.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{pe(zt,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(s);pe(zt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)}))}T_(e,n,r){const s=xf(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bE(),a=wE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");pe(zt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let h=!1,m=!1;const v=new HF({Yo:E=>{m?pe(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(h||(pe(zt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),pe(zt,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),b=(E,O,M)=>{E.listen(O,(D=>{try{M(D)}catch(k){setTimeout((()=>{throw k}),0)}}))};return b(f,Oo.EventType.OPEN,(()=>{m||(pe(zt,`RPC '${e}' stream ${s} transport opened.`),v.o_())})),b(f,Oo.EventType.CLOSE,(()=>{m||(m=!0,pe(zt,`RPC '${e}' stream ${s} transport closed`),v.a_(),this.E_(f))})),b(f,Oo.EventType.ERROR,(E=>{m||(m=!0,va(zt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),v.a_(new ye(X.UNAVAILABLE,"The operation could not be completed")))})),b(f,Oo.EventType.MESSAGE,(E=>{if(!m){const O=E.data[0];Ge(!!O,16349);const M=O,D=M?.error||M[0]?.error;if(D){pe(zt,`RPC '${e}' stream ${s} received error:`,D);const k=D.status;let V=(function(w){const y=wt[w];if(y!==void 0)return ZE(y)})(k),F=D.message;V===void 0&&(V=X.INTERNAL,F="Unknown error status: "+k+" with message "+D.message),m=!0,v.a_(new ye(V,F)),f.close()}else pe(zt,`RPC '${e}' stream ${s} received:`,O),v.u_(O)}})),b(a,_E.STAT_EVENT,(E=>{E.stat===vf.PROXY?pe(zt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===vf.NOPROXY&&pe(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{v.__()}),0),v}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){return new XL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class mT{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ye(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KF extends mT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eF(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?Zn(o.readTime):Re.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Pf(this.serializer),n.addTarget=(function(i,o){let a;const l=o.target;if(a=Tf(l)?{documents:rF(i,l)}:{query:sF(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nT(i,o.resumeToken);const u=Af(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Re.min())>0){a.readTime=bc(i,o.snapshotVersion.toTimestamp());const u=Af(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const r=oF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Pf(this.serializer),n.removeTarget=e,this.q_(n)}}class GF extends mT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nF(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Pf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{}class YF extends QF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ye(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Sf(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(X.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,Sf(n,r),s,o,a,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(X.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class JF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{oi(this)&&(pe(Ys,"Restarting streams for network reachability change."),await(async function(l){const u=xe(l);u.Ea.add(4),await Ga(u),u.Ra.set("Unknown"),u.Ea.delete(4),await _u(u)})(this))}))})),this.Ra=new XF(r,s)}}async function _u(t){if(oi(t))for(const e of t.da)await e(!0)}async function Ga(t){for(const e of t.da)await e(!1)}function gT(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jh(n)?Xh(n):io(n).O_()&&Yh(n,e))}function Qh(t,e){const n=xe(t),r=io(n);n.Ia.delete(e),r.O_()&&yT(n,e),n.Ia.size===0&&(r.O_()?r.L_():oi(n)&&n.Ra.set("Unknown"))}function Yh(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(t).Y_(e)}function yT(t,e){t.Va.Ue(e),io(t).Z_(e)}function Xh(t){t.Va=new KL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),io(t).start(),t.Ra.ua()}function Jh(t){return oi(t)&&!io(t).x_()&&t.Ia.size>0}function oi(t){return xe(t).Ea.size===0}function vT(t){t.Va=void 0}async function ZF(t){t.Ra.set("Online")}async function e2(t){t.Ia.forEach(((e,n)=>{Yh(t,e)}))}async function t2(t,e){vT(t),Jh(t)?(t.Ra.ha(e),Xh(t)):t.Ra.set("Unknown")}async function n2(t,e,n){if(t.Ra.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))})(t,e)}catch(r){pe(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tc(t,r)}else if(e instanceof zl?t.Va.Ze(e):e instanceof eT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const r=await hT(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken($t.EMPTY_BYTE_STRING,d.snapshotVersion)),yT(i,l);const f=new rs(d.target,l,u,d.sequenceNumber);Yh(i,f)})),i.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){pe(Ys,"Failed to raise snapshot:",r),await Tc(t,r)}}async function Tc(t,e,n){if(!so(e))throw e;t.Ea.add(1),await Ga(t),t.Ra.set("Offline"),n||(n=()=>hT(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Ys,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _u(t)}))}function _T(t,e){return e().catch((n=>Tc(t,n,e)))}async function wu(t){const e=xe(t),n=ys(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mh;for(;r2(e);)try{const s=await FF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,s2(e,s)}catch(s){await Tc(e,s)}wT(e)&&bT(e)}function r2(t){return oi(t)&&t.Ta.length<10}function s2(t,e){t.Ta.push(e);const n=ys(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wT(t){return oi(t)&&!ys(t).x_()&&t.Ta.length>0}function bT(t){ys(t).start()}async function i2(t){ys(t).ra()}async function o2(t){const e=ys(t);for(const n of t.Ta)e.ea(n.mutations)}async function a2(t,e,n){const r=t.Ta.shift(),s=qh.from(r,e,n);await _T(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await wu(t)}async function l2(t,e){e&&ys(t).X_&&await(async function(r,s){if((function(o){return zL(o)&&o!==X.ABORTED})(s.code)){const i=r.Ta.shift();ys(r).B_(),await _T(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await wu(r)}})(t,e),wT(t)&&bT(t)}async function av(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),pe(Ys,"RemoteStore received new credentials");const r=oi(n);n.Ea.add(3),await Ga(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _u(n)}async function c2(t,e){const n=xe(t);e?(n.Ea.delete(2),await _u(n)):e||(n.Ea.add(2),await Ga(n),n.Ra.set("Unknown"))}function io(t){return t.ma||(t.ma=(function(n,r,s){const i=xe(n);return i.sa(),new KF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:ZF.bind(null,t),t_:e2.bind(null,t),r_:t2.bind(null,t),H_:n2.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Jh(t)?Xh(t):t.Ra.set("Unknown")):(await t.ma.stop(),vT(t))}))),t.ma}function ys(t){return t.fa||(t.fa=(function(n,r,s){const i=xe(n);return i.sa(),new GF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:i2.bind(null,t),r_:l2.bind(null,t),ta:o2.bind(null,t),na:a2.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wu(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Ys,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Zh(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),so(t))return new ye(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{static emptySet(e){return new Mi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Do(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.ga=new pt(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Gi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new Gi(e,n,Mi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class d2{constructor(){this.queries=cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=xe(n),i=s.queries;s.queries=cv(),i.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new ye(X.ABORTED,"Firestore shutting down"))}}function cv(){return new si((t=>$E(t)),hu)}async function f2(t,e){const n=xe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new u2,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ep(o,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&tp(n)}async function h2(t,e){const n=xe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p2(t,e){const n=xe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&tp(n)}function m2(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function tp(t){t.Ca.forEach((e=>{e.next()}))}var kf,uv;(uv=kf||(kf={})).Ma="default",uv.Cache="cache";class g2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Gi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class y2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=UE(e),this.tu=new Mi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lv,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((d,f)=>{const h=s.get(d),m=pu(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?v!==b&&(r.track({type:3,doc:m}),E=!0):this.su(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),i=b?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,f)=>(function(m,v){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:E})}};return b(m)-b(v)})(d.type,f.type)||this.eu(d.doc,f.doc))),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Gi(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new TT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new ET(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const np="SyncEngine";class v2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _2{constructor(e){this.key=e,this.hu=!1}}class w2{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new si((a=>$E(a)),hu),this.Iu=new Map,this.Eu=new Set,this.du=new pt(Ee.comparator),this.Au=new Map,this.Ru=new Hh,this.Vu={},this.mu=new Map,this.fu=Ki.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function b2(t,e,n=!0){const r=RT(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await IT(r,e,n,!0),s}async function E2(t,e){const n=RT(t);await IT(n,e,!0,!1)}async function IT(t,e,n,r){const s=await BF(t.localStore,Jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await T2(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&gT(t.remoteStore,s),a}async function T2(t,e,n,r,s){t.pu=(f,h,m)=>(async function(b,E,O,M){let D=E.view.ru(O);D.Cs&&(D=await nv(b.localStore,E.query,!1).then((({documents:I})=>E.view.ru(I,D))));const k=M&&M.targetChanges.get(E.targetId),V=M&&M.targetMismatches.get(E.targetId)!=null,F=E.view.applyChanges(D,b.isPrimaryClient,k,V);return fv(b,E.targetId,F.au),F.snapshot})(t,f,h,m);const i=await nv(t.localStore,e,!0),o=new y2(e,i.Qs),a=o.ru(i.documents),l=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);fv(t,n,u.au);const d=new v2(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function I2(t,e,n){const r=xe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!hu(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rf(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qh(r.remoteStore,s.targetId),Of(r,s.targetId)})).catch(ro)):(Of(r,s.targetId),await Rf(r.localStore,s.targetId,!0))}async function A2(t,e){const n=xe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qh(n.remoteStore,r.targetId))}async function S2(t,e,n){const r=D2(t);try{const s=await(function(o,a){const l=xe(o),u=lt.now(),d=a.reduce(((m,v)=>m.add(v.key)),Ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let v=xr(),b=Ve();return l.Ns.getEntries(m,d).next((E=>{v=E,v.forEach(((O,M)=>{M.isValidDocument()||(b=b.add(O))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,v))).next((E=>{f=E;const O=[];for(const M of a){const D=BL(M,f.get(M.key).overlayedDocument);D!=null&&O.push(new ii(M.key,D,DE(D.value.mapValue),br.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,O,a)})).next((E=>{h=E;const O=E.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(m,E.batchId,O)}))})).then((()=>({batchId:h.batchId,changes:jE(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new pt(Me)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await Qa(r,s.changes),await wu(r.remoteStore)}catch(s){const i=ep(s,"Failed to persist write");n.reject(i)}}async function AT(t,e){const n=xe(t);try{const r=await VF(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ge(o.hu,14607):s.removedDocuments.size>0&&(Ge(o.hu,42227),o.hu=!1))})),await Qa(n,r,e)}catch(r){await ro(r)}}function dv(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)})),(function(o,a){const l=xe(o);l.onlineState=a;let u=!1;l.queries.forEach(((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)})),u&&tp(l)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C2(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new pt(Ee.comparator);o=o.insert(i,Kt.newNoDocument(i,Re.min()));const a=Ve().add(i),l=new yu(Re.min(),new Map,new pt(Me),o,a);await AT(r,l),r.du=r.du.remove(i),r.Au.delete(e),rp(r)}else await Rf(r.localStore,e,!1).then((()=>Of(r,e,n))).catch(ro)}async function P2(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await MF(n.localStore,e);CT(n,r,null),ST(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,s)}catch(s){await ro(s)}}async function R2(t,e,n){const r=xe(t);try{const s=await(function(o,a){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next((f=>(Ge(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>l.localDocuments.getDocuments(u,d)))}))})(r.localStore,e);CT(r,e,n),ST(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qa(r,s)}catch(s){await ro(s)}}function ST(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function CT(t,e,n){const r=xe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Of(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||PT(t,r)}))}function PT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),rp(t))}function fv(t,e,n){for(const r of n)r instanceof ET?(t.Ru.addReference(r.key,e),x2(t,r)):r instanceof TT?(pe(np,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||PT(t,r.key)):Se(19791,{wu:r})}function x2(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(np,"New document in limbo: "+n),t.Eu.add(r),rp(t))}function rp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(ht.fromString(e)),r=t.fu.next();t.Au.set(r,new _2(n)),t.du=t.du.insert(n,r),gT(t.remoteStore,new rs(Jn($h(n.path)),r,"TargetPurposeLimboResolution",cu.ce))}}async function Qa(t,e,n){const r=xe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){s.push(u);const d=Kh.As(l.targetId,u);i.push(d)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const d=xe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>G.forEach(u,(h=>G.forEach(h.Es,(m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m))).next((()=>G.forEach(h.ds,(m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))))))}catch(f){if(!so(f))throw f;pe(Gh,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),v=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(h,b)}}})(r.localStore,i))}async function k2(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){pe(np,"User change. New user:",e.toKey());const r=await fT(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((a=>{a.forEach((l=>{l.reject(new ye(X.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qa(n,r.Ls)}}function O2(t,e){const n=xe(t),r=n.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let s=Ve();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function RT(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.Pu.H_=p2.bind(null,e.eventManager),e.Pu.yu=m2.bind(null,e.eventManager),e}function D2(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R2.bind(null,e),e}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return NF(this.persistence,new kF,e.initialUser,this.serializer)}Cu(e){return new dT(Wh.mi,this.serializer)}Du(e){return new UF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class N2 extends Ic{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Ec,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new dT((r=>Ec.mi(r,n)),this.serializer)}}class Df{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d2})()}createDatastore(e){const n=vu(e.databaseInfo.databaseId),r=(function(i){return new WF(i)})(e.databaseInfo);return(function(i,o,a,l){return new YF(i,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,a){return new JF(r,s,i,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>dv(this.syncEngine,n,0)),(function(){return iv.v()?new iv:new qF})())}createSyncEngine(e,n){return(function(s,i,o,a,l,u,d){const f=new w2(s,i,o,a,l,u);return d&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=xe(n);pe(Ys,"RemoteStore shutting down."),r.Ea.add(5),await Ga(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Df.provider={build:()=>new Df};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class V2{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=sn.UNAUTHENTICATED,this.clientId=Dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{pe(vs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(pe(vs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ep(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Td(t,e){t.asyncQueue.verifyOperationInProgress(),pe(vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await fT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L2(t);pe(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>av(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>av(e.remoteStore,s))),t._onlineComponents=e}async function L2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(vs,"Using user provided OfflineComponentProvider");try{await Td(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;va("Error using user provided cache. Falling back to memory cache: "+n),await Td(t,new Ic)}}else pe(vs,"Using default OfflineComponentProvider"),await Td(t,new N2(void 0));return t._offlineComponents}async function xT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(vs,"Using user provided OnlineComponentProvider"),await hv(t,t._uninitializedComponentsProvider._online)):(pe(vs,"Using default OnlineComponentProvider"),await hv(t,new Df))),t._onlineComponents}function F2(t){return xT(t).then((e=>e.syncEngine))}async function B2(t){const e=await xT(t),n=e.eventManager;return n.onListen=b2.bind(null,e.syncEngine),n.onUnlisten=I2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A2.bind(null,e.syncEngine),n}function $2(t,e,n={}){const r=new cs;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,a,l,u){const d=new M2({next:h=>{d.Nu(),o.enqueueAndForget((()=>h2(i,f)));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new ye(X.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new ye(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new g2($h(a.path),d,{includeMetadataChanges:!0,qa:!0});return f2(i,f)})(await B2(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firestore.googleapis.com",mv=!0;class gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U2,this.ssl=mv}else this.host=e.host,this.ssl=e.ssl??mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uT)throw new ye(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class OT{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UV;switch(r.type){case"firstParty":return new zV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=pv.get(n);r&&(pe("ComponentProvider","Removing Datastore"),pv.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sp(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ha(n,kt._jsonSchema))return new kt(e,r||null,new Ee(ht.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:bt("string",kt._jsonSchemaVersion),referencePath:bt("string")};class Sa extends sp{constructor(e,n,r){super(e,n,$h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ee(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function ip(t,e,...n){if(t=dn(t),arguments.length===1&&(e=Dh.newId()),YV("doc","path",e),t instanceof OT){const r=ht.fromString(e,...n);return xy(r),new kt(t,null,new Ee(r))}{if(!(t instanceof kt||t instanceof Sa))throw new ye(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return xy(r),new kt(t.firestore,t instanceof Sa?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const r=Ed();r&&pe(yv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ed();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ed();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!so(e))throw e;pe(yv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Rr("INTERNAL UNHANDLED ERROR: ",_v(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Zh.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:_v(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _v(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class op extends OT{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new vv,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function q2(t,e,n){n||(n=gc);const r=wh(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Hs(i,e))return s;throw new ye(X.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ye(X.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uT)throw new ye(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Ji(e.host)&&mb(e.host),r.initialize({options:e,instanceIdentifier:n})}function DT(t){if(t._terminated)throw new ye(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j2(t),t._firestoreClient}function j2(t){const e=t._freezeSettings(),n=(function(s,i,o,a){return new lL(s,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,kT(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new V2(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn($t.fromBase64String(e))}catch(n){throw new ye(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ha(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:bt("string",bn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:er._jsonSchemaVersion}}static fromJSON(e){if(Ha(e,er._jsonSchema))return new er(e.latitude,e.longitude)}}er._jsonSchemaVersion="firestore/geoPoint/1.0",er._jsonSchema={type:bt("string",er._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ha(e,tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new tr(e.vectorValues);throw new ye(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tr._jsonSchemaVersion="firestore/vectorValue/1.0",tr._jsonSchema={type:bt("string",tr._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=/^__.*__$/;class H2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wa(e,this.data,n,this.fieldTransforms)}}function NT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class cp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ac(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NT(this.Ac)&&z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vu(e)}Cc(e,n,r,s=!1){return new cp({Ac:e,methodName:n,Dc:r,path:Lt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K2(t){const e=t._freezeSettings(),n=vu(t._databaseId);return new W2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G2(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);FT("Data must be an object, but it was:",o,r);const a=VT(r,o);let l,u;if(i.merge)l=new Pn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const h=Q2(e,f,n);if(!o.contains(h))throw new ye(X.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);X2(d,h)||d.push(h)}l=new Pn(d),u=o.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,u=o.fieldTransforms;return new H2(new wn(a),l,u)}class up extends lp{_toFieldTransform(e){return new ML(e.path,new Ta)}isEqual(e){return e instanceof up}}function MT(t,e){if(LT(t=dn(t)))return FT("Unsupported field value:",e,t),VT(t,e);if(t instanceof lp)return(function(r,s){if(!NT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const a of r){let l=MT(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=lt.fromDate(r);return{timestampValue:bc(s.serializer,i)}}if(r instanceof lt){const i=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bc(s.serializer,i)}}if(r instanceof er)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bn)return{bytesValue:nT(s.serializer,r._byteString)};if(r instanceof kt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zh(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof tr)return(function(o,a){return{mapValue:{fields:{[kE]:{stringValue:OE},[yc]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Uh(a.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Nh(r)}`)})(t,e)}function VT(t,e){const n={};return AE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ri(t,((r,s)=>{const i=MT(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function LT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof er||t instanceof bn||t instanceof kt||t instanceof lp||t instanceof tr)}function FT(t,e,n){if(!LT(n)||!TE(n)){const r=Nh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Q2(t,e,n){if((e=dn(e))instanceof ap)return e._internalPath;if(typeof e=="string")return BT(t,e);throw Ac("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y2=new RegExp("[~\\*/\\[\\]]");function BT(t,e,n){if(e.search(Y2)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ap(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ac(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ye(X.INVALID_ARGUMENT,a+t+l)}function X2(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J2 extends $T{data(){return super.data()}}function UT(t,e){return typeof e=="string"?BT(t,e):e instanceof ap?e._internalPath:e._delegate._internalPath}class Z2{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ri(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[yc].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new tr(n)}convertGeoPoint(e){return new er(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=du(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wa(e));default:return null}}convertTimestamp(e){const n=ps(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);Ge(lT(r),9688,{name:e});const s=new ba(r.get(1),r.get(3)),i=new Ee(r.popFirst(5));return s.isEqual(n)||Rr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends $T{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:bt("string",qs._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class Hl extends qs{data(e={}){return super.data(e)}}class Zo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Hl(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((a=>{const l=new Hl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const l=new Hl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Mo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:tB(a.type),doc:l,oldIndex:u,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){t=pc(t,kt);const e=pc(t.firestore,op);return $2(DT(e),t._key).then((n=>sB(e,t,n)))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:bt("string",Zo._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class nB extends Z2{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function Sc(t,e,n){t=pc(t,kt);const r=pc(t.firestore,op),s=eB(t.converter,e,n);return rB(r,[G2(K2(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,br.none())])}function rB(t,e){return(function(r,s){const i=new cs;return r.asyncQueue.enqueueAndForget((async()=>S2(await F2(r),s,i))),i.promise})(DT(t),e)}function sB(t,e,n){const r=n.docs.get(e._key),s=new nB(t);return new qs(t,s,e._key,r,new Mo(n.hasPendingWrites,n.fromCache),e.converter)}function jT(){return new up("serverTimestamp")}(function(e,n=!0){(function(s){no=s})(Zi),Ui(new Ws("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new op(new qV(r.getProvider("auth-internal")),new HV(o,r.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ye(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(u.options.projectId,d)})(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),as(Sy,Cy,e),as(Sy,Cy,"esm2020")})();const iB={apiKey:"AIzaSyB3ygxBAWOEgyuled5grcIPfQBmCFyUUJ8",authDomain:"arvavir-d14b3.firebaseapp.com",projectId:"arvavir-d14b3",storageBucket:"arvavir-d14b3.firebasestorage.app",messagingSenderId:"289266155249",appId:"1:289266155249:web:261217b74227dd8f2e3350"},zT=vb(iB),dp=q2(zT,{}),oB=lu(zT);let Nf=1;var aB=class{subscribers;toasts;dismissedToasts;constructor(){this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)});publish=t=>{this.subscribers.forEach(e=>e(t))};addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]};create=t=>{const{message:e,...n}=t,r=typeof t.id=="number"||t.id&&t.id?.length>0?t.id:Nf++,s=this.toasts.find(o=>o.id===r),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(o=>o.id===r?(this.publish({...o,...t,id:r,title:e}),{...o,...t,id:r,dismissible:i,title:e}):o):this.addToast({title:e,...n,dismissible:i,id:r}),r};dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),t);message=(t,e)=>this.create({...e,message:t,type:"default"});error=(t,e)=>this.create({...e,type:"error",message:t});success=(t,e)=>this.create({...e,type:"success",message:t});info=(t,e)=>this.create({...e,type:"info",message:t});warning=(t,e)=>this.create({...e,type:"warning",message:t});loading=(t,e)=>this.create({...e,type:"loading",message:t});promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,i;const o=r.then(async l=>{if(i=["resolve",l],Hn(l))s=!1,this.create({id:n,type:"default",message:l});else if(cB(l)&&!l.ok){s=!1;const d=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description,m=typeof d=="object"&&!Hn(d)?d:{message:d||"",id:n||""};this.create({id:n,type:"error",description:f,...m})}else if(l instanceof Error){s=!1;const d=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description,m=typeof d=="object"&&!Hn(d)?d:{message:d||"",id:n||""};this.create({id:n,type:"error",description:f,...m})}else if(e.success!==void 0){s=!1;const d=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description,m=typeof d=="object"&&!Hn(d)?d:{message:d||"",id:n||""};this.create({id:n,type:"success",description:f,...m})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;const u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description,h=typeof u=="object"&&!Hn(u)?u:{message:u||"",id:n||""};this.create({id:n,type:"error",description:d,...h})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),e.finally?.()}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})};custom=(t,e)=>{const n=e?.id||Nf++,r=this.toasts.find(i=>i.id===n),s=e?.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),r?this.toasts=this.toasts.map(i=>i.id===n?(this.publish({...i,component:t,dismissible:s,id:n,...e}),{...i,component:t,dismissible:s,id:n,...e}):i):this.addToast({component:t,dismissible:s,id:n,...e}),n};getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id))};const rn=new aB;function lB(t,e){const n=e?.id||Nf++;return rn.create({message:t,id:n,type:"default",...e}),n}const cB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",uB=lB,dB=()=>rn.toasts,fB=()=>rn.getActiveToasts(),Ya=Object.assign(uB,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:dB,getToasts:fB});function Cl(t){return t.label!==void 0}const hB=3,HT="24px",WT="16px",wv=4e3,pB=356,mB=14,gB=45,KT=200;function yB(){const t=j(!1);return at(()=>{const e=()=>{t.value=document.hidden};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),{isDocumentHidden:t}}function Wr(...t){return t.filter(Boolean).join(" ")}function vB(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}function _B(t,e){const n={};return[t,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?WT:HT;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}const wB=["data-rich-colors","data-styled","data-mounted","data-promise","data-swiped","data-removed","data-visible","data-y-position","data-x-position","data-index","data-front","data-swiping","data-dismissible","data-type","data-invert","data-swipe-out","data-swipe-direction","data-expanded","data-testid"],bB=["aria-label","data-disabled","data-close-button-position"];var EB=J({__name:"Toast",props:{toast:{},toasts:{},index:{},swipeDirections:{},expanded:{type:Boolean},invert:{type:Boolean},heights:{},gap:{},position:{},closeButtonPosition:{},visibleToasts:{},expandByDefault:{type:Boolean},closeButton:{type:Boolean},interacting:{type:Boolean},style:{},cancelButtonStyle:{},actionButtonStyle:{},duration:{},class:{},unstyled:{type:Boolean},descriptionClass:{},loadingIcon:{},classes:{},icons:{},closeButtonAriaLabel:{},defaultRichColors:{type:Boolean}},emits:["update:heights","update:height","removeToast"],setup(t,{emit:e}){const n=t,r=e,s=j(null),i=j(null),o=j(!1),a=j(!1),l=j(!1),u=j(!1),d=j(!1),f=j(0),h=j(0),m=j(n.toast.duration||n.duration||wv),v=j(null),b=j(null),E=ie(()=>n.index===0),O=ie(()=>n.index+1<=n.visibleToasts),M=ie(()=>n.toast.type),D=ie(()=>n.toast.dismissible!==!1),k=ie(()=>n.toast.class||""),V=ie(()=>n.descriptionClass||""),F=ie(()=>{const x=n.toast.position||n.position,z=n.heights.filter(se=>se.position===x).findIndex(se=>se.toastId===n.toast.id);return z>=0?z:0}),I=ie(()=>{const x=n.toast.position||n.position;return n.heights.filter(z=>z.position===x).reduce((z,se,_e)=>_e>=F.value?z:z+se.height,0)}),w=ie(()=>F.value*n.gap+I.value||0),y=ie(()=>n.toast.closeButton??n.closeButton),_=ie(()=>n.toast.duration||n.duration||wv),A=j(0),S=j(0),C=j(null),K=ie(()=>n.position.split("-")),he=ie(()=>K.value[0]),ce=ie(()=>K.value[1]),de=ie(()=>typeof n.toast.title!="string"),Y=ie(()=>typeof n.toast.description!="string"),{isDocumentHidden:je}=yB(),ct=ie(()=>M.value&&M.value==="loading");_t(()=>{o.value=!0,m.value=_.value}),at(async()=>{if(!o.value||!b.value)return;await Xe();const x=b.value,Z=x.style.height;x.style.height="auto";const z=x.getBoundingClientRect().height;x.style.height=Z,h.value=z,r("update:height",{toastId:n.toast.id,height:z,position:n.toast.position||n.position})});function it(){a.value=!0,f.value=w.value,setTimeout(()=>{r("removeToast",n.toast)},KT)}function Ze(){if(ct.value||!D.value)return{};it(),n.toast.onDismiss?.(n.toast)}function Qe(x){x.button!==2&&(ct.value||!D.value||(v.value=new Date,f.value=w.value,x.target.setPointerCapture(x.pointerId),x.target.tagName!=="BUTTON"&&(l.value=!0,C.value={x:x.clientX,y:x.clientY})))}function qe(){if(u.value||!D.value)return;C.value=null;const x=Number(b.value?.style.getPropertyValue("--swipe-amount-x").replace("px","")||0),Z=Number(b.value?.style.getPropertyValue("--swipe-amount-y").replace("px","")||0),z=new Date().getTime()-(v.value?.getTime()||0),se=s.value==="x"?x:Z,_e=Math.abs(se)/z;if(Math.abs(se)>=gB||_e>.11){f.value=w.value,n.toast.onDismiss?.(n.toast),s.value==="x"?i.value=x>0?"right":"left":i.value=Z>0?"down":"up",it(),u.value=!0;return}else b.value?.style.setProperty("--swipe-amount-x","0px"),b.value?.style.setProperty("--swipe-amount-y","0px");d.value=!1,l.value=!1,s.value=null}function Ot(x){if(!C.value||!D.value||(window?.getSelection()?.toString()?.length??!1))return;const z=x.clientY-C.value.y,se=x.clientX-C.value.x,_e=n.swipeDirections??vB(n.position);!s.value&&(Math.abs(se)>1||Math.abs(z)>1)&&(s.value=Math.abs(se)>Math.abs(z)?"x":"y");let R={x:0,y:0};const N=L=>1/(1.5+Math.abs(L)/20);if(s.value==="y"){if(_e.includes("top")||_e.includes("bottom"))if(_e.includes("top")&&z<0||_e.includes("bottom")&&z>0)R.y=z;else{const L=z*N(z);R.y=Math.abs(L)<Math.abs(z)?L:z}}else if(s.value==="x"&&(_e.includes("left")||_e.includes("right")))if(_e.includes("left")&&se<0||_e.includes("right")&&se>0)R.x=se;else{const L=se*N(se);R.x=Math.abs(L)<Math.abs(se)?L:se}(Math.abs(R.x)>0||Math.abs(R.y)>0)&&(d.value=!0),b.value?.style.setProperty("--swipe-amount-x",`${R.x}px`),b.value?.style.setProperty("--swipe-amount-y",`${R.y}px`)}_t(()=>{if(o.value=!0,!b.value)return;const x=b.value.getBoundingClientRect().height;h.value=x;const Z=[{toastId:n.toast.id,height:x,position:n.toast.position},...n.heights];r("update:heights",Z)}),Oa(()=>{b.value&&r("removeToast",n.toast)}),at(x=>{if(n.toast.promise&&M.value==="loading"||n.toast.duration===1/0||n.toast.type==="loading")return;let Z;const z=()=>{if(S.value<A.value){const _e=new Date().getTime()-A.value;m.value=m.value-_e}S.value=new Date().getTime()},se=()=>{m.value!==1/0&&(A.value=new Date().getTime(),Z=setTimeout(()=>{n.toast.onAutoClose?.(n.toast),it()},m.value))};n.expanded||n.interacting||je.value?z():se(),x(()=>{clearTimeout(Z)})}),Le(()=>n.toast.delete,x=>{x!==void 0&&x&&(it(),n.toast.onDismiss?.(n.toast))},{deep:!0});function mt(){l.value=!1,s.value=null,C.value=null}return(x,Z)=>($(),Ce("li",{tabindex:"0",ref_key:"toastRef",ref:b,class:ft(T(Wr)(n.class,k.value,x.classes?.toast,x.toast.classes?.toast,x.classes?.[M.value],x.toast?.classes?.[M.value])),"data-sonner-toast":"","data-rich-colors":x.toast.richColors??x.defaultRichColors,"data-styled":!(x.toast.component||x.toast?.unstyled||x.unstyled),"data-mounted":o.value,"data-promise":!!x.toast.promise,"data-swiped":d.value,"data-removed":a.value,"data-visible":O.value,"data-y-position":he.value,"data-x-position":ce.value,"data-index":x.index,"data-front":E.value,"data-swiping":l.value,"data-dismissible":D.value,"data-type":M.value,"data-invert":x.toast.invert||x.invert,"data-swipe-out":u.value,"data-swipe-direction":i.value,"data-expanded":!!(x.expanded||x.expandByDefault&&o.value),"data-testid":x.toast.testId,style:En({"--index":x.index,"--toasts-before":x.index,"--z-index":x.toasts.length-x.index,"--offset":`${a.value?f.value:w.value}px`,"--initial-height":x.expandByDefault?"auto":`${h.value}px`,...x.style,...n.toast.style}),onDragend:mt,onPointerdown:Qe,onPointerup:qe,onPointermove:Ot},[y.value&&!x.toast.component&&M.value!=="loading"?($(),Ce("button",{key:0,"aria-label":x.closeButtonAriaLabel||"Close toast","data-disabled":ct.value,"data-close-button":"true","data-close-button-position":x.closeButtonPosition,class:ft(T(Wr)(x.classes?.closeButton,x.toast?.classes?.closeButton)),onClick:Ze},[x.icons?.close?($(),ee(Vs(x.icons?.close),{key:0})):oe(x.$slots,"close-icon",{key:1})],10,bB)):vt("v-if",!0),x.toast.component?($(),ee(Vs(x.toast.component),Ie({key:1},x.toast.componentProps,{onCloseToast:Ze,isPaused:x.$props.expanded||x.$props.interacting||T(je)}),null,16,["isPaused"])):($(),Ce(Ue,{key:2},[M.value!=="default"||x.toast.icon||x.toast.promise?($(),Ce("div",{key:0,"data-icon":"",class:ft(T(Wr)(x.classes?.icon,x.toast?.classes?.icon))},[x.toast.icon?($(),ee(Vs(x.toast.icon),{key:0})):($(),Ce(Ue,{key:1},[M.value==="loading"?oe(x.$slots,"loading-icon",{key:0}):M.value==="success"?oe(x.$slots,"success-icon",{key:1}):M.value==="error"?oe(x.$slots,"error-icon",{key:2}):M.value==="warning"?oe(x.$slots,"warning-icon",{key:3}):M.value==="info"?oe(x.$slots,"info-icon",{key:4}):vt("v-if",!0)],64))],2)):vt("v-if",!0),Ke("div",{"data-content":"",class:ft(T(Wr)(x.classes?.content,x.toast?.classes?.content))},[Ke("div",{"data-title":"",class:ft(T(Wr)(x.classes?.title,x.toast.classes?.title))},[de.value?($(),ee(Vs(x.toast.title),xn(Ie({key:0},x.toast.componentProps)),null,16)):($(),Ce(Ue,{key:1},[cn(xt(x.toast.title),1)],64))],2),x.toast.description?($(),Ce("div",{key:0,"data-description":"",class:ft(T(Wr)(x.descriptionClass,V.value,x.classes?.description,x.toast.classes?.description))},[Y.value?($(),ee(Vs(x.toast.description),xn(Ie({key:0},x.toast.componentProps)),null,16)):($(),Ce(Ue,{key:1},[cn(xt(x.toast.description),1)],64))],2)):vt("v-if",!0)],2),x.toast.cancel?($(),Ce("button",{key:1,style:En(x.toast.cancelButtonStyle||x.cancelButtonStyle),class:ft(T(Wr)(x.classes?.cancelButton,x.toast.classes?.cancelButton)),"data-button":"","data-cancel":"",onClick:Z[0]||(Z[0]=z=>{T(Cl)(x.toast.cancel)&&D.value&&(x.toast.cancel.onClick?.(z),it())})},xt(T(Cl)(x.toast.cancel)?x.toast.cancel?.label:x.toast.cancel),7)):vt("v-if",!0),x.toast.action?($(),Ce("button",{key:2,style:En(x.toast.actionButtonStyle||x.actionButtonStyle),class:ft(T(Wr)(x.classes?.actionButton,x.toast.classes?.actionButton)),"data-button":"","data-action":"",onClick:Z[1]||(Z[1]=z=>{T(Cl)(x.toast.action)&&(x.toast.action.onClick?.(z),!z.defaultPrevented&&it())})},xt(T(Cl)(x.toast.action)?x.toast.action?.label:x.toast.action),7)):vt("v-if",!0)],64))],46,wB))}}),TB=EB,Xa=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};const IB={},AB={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stoke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};function SB(t,e){return $(),Ce("svg",AB,e[0]||(e[0]=[Ke("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),Ke("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}var CB=Xa(IB,[["render",SB]]);const PB=["data-visible"],RB={class:"sonner-spinner"};var xB=J({__name:"Loader",props:{visible:{type:Boolean}},setup(t){const e=Array(12).fill(0);return(n,r)=>($(),Ce("div",{class:"sonner-loading-wrapper","data-visible":n.visible},[Ke("div",RB,[($(!0),Ce(Ue,null,On(T(e),s=>($(),Ce("div",{key:`spinner-bar-${s}`,class:"sonner-loading-bar"}))),128))])],8,PB))}}),kB=xB;const OB={},DB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function NB(t,e){return $(),Ce("svg",DB,e[0]||(e[0]=[Ke("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"},null,-1)]))}var MB=Xa(OB,[["render",NB]]);const VB={},LB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function FB(t,e){return $(),Ce("svg",LB,e[0]||(e[0]=[Ke("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule":"evenodd"},null,-1)]))}var BB=Xa(VB,[["render",FB]]);const $B={},UB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"};function qB(t,e){return $(),Ce("svg",UB,e[0]||(e[0]=[Ke("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1)]))}var jB=Xa($B,[["render",qB]]);const zB={},HB={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};function WB(t,e){return $(),Ce("svg",HB,e[0]||(e[0]=[Ke("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"},null,-1)]))}var KB=Xa(zB,[["render",WB]]);const GB=["aria-label"],QB=["data-sonner-theme","dir","data-theme","data-rich-colors","data-y-position","data-x-position"],YB=typeof window<"u"&&typeof document<"u";function XB(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var JB=J({name:"Toaster",inheritAttrs:!1,__name:"Toaster",props:{id:{},invert:{type:Boolean,default:!1},theme:{default:"light"},position:{default:"bottom-right"},closeButtonPosition:{default:"top-left"},hotkey:{default:()=>["altKey","KeyT"]},richColors:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},duration:{},gap:{default:mB},visibleToasts:{default:hB},closeButton:{type:Boolean,default:!1},toastOptions:{default:()=>({})},class:{default:""},style:{},offset:{default:HT},mobileOffset:{default:WT},dir:{default:"auto"},swipeDirections:{},icons:{},containerAriaLabel:{default:"Notifications"}},setup(t){const e=t,n=x0(),r=j([]),s=ie(()=>e.id?r.value.filter(_=>_.toasterId===e.id):r.value.filter(_=>!_.toasterId));function i(_,A){return s.value.filter(S=>!S.position&&A===0||S.position===_)}const o=ie(()=>{const _=s.value.filter(A=>A.position).map(A=>A.position);return _.length>0?Array.from(new Set([e.position].concat(_))):[e.position]}),a=ie(()=>{const _={};return o.value.forEach(A=>{_[A]=r.value.filter(S=>S.position===A)}),_}),l=j([]),u=j({}),d=j(!1);at(()=>{o.value.forEach(_=>{_ in u.value||(u.value[_]=!1)})});const f=j(e.theme!=="system"?e.theme:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),h=j(null),m=j(null),v=j(!1),b=e.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,"");function E(_){r.value.find(A=>A.id===_.id)?.delete||rn.dismiss(_.id),r.value=r.value.filter(({id:A})=>A!==_.id),setTimeout(()=>{r.value.find(A=>A.id===_.id)||(l.value=l.value.filter(A=>A.toastId!==_.id))},KT+50)}function O(_){v.value&&!_.currentTarget?.contains?.(_.relatedTarget)&&(v.value=!1,m.value&&(m.value.focus({preventScroll:!0}),m.value=null))}function M(_){_.target instanceof HTMLElement&&_.target.dataset.dismissible==="false"||v.value||(v.value=!0,m.value=_.relatedTarget)}function D(_){_.target&&_.target instanceof HTMLElement&&_.target.dataset.dismissible==="false"||(d.value=!0)}at(_=>{const A=rn.subscribe(S=>{if(S.dismiss){requestAnimationFrame(()=>{r.value=r.value.map(C=>C.id===S.id?{...C,delete:!0}:C)});return}Xe(()=>{const C=r.value.findIndex(K=>K.id===S.id);C!==-1?r.value=[...r.value.slice(0,C),{...r.value[C],...S},...r.value.slice(C+1)]:r.value=[S,...r.value]})});_(A)}),at(_=>{if(typeof window>"u")return;if(e.theme!=="system"){f.value=e.theme;return}const A=window.matchMedia("(prefers-color-scheme: dark)"),S=K=>{f.value=K?"dark":"light"};S(A.matches);const C=K=>{S(K.matches)};try{A.addEventListener("change",C)}catch{A.addListener(C)}_(()=>{try{A.removeEventListener("change",C)}catch{A.removeListener(C)}})}),at(()=>{h.value&&m.value&&(m.value.focus({preventScroll:!0}),m.value=null,v.value=!1)}),at(()=>{r.value.length<=1&&Object.keys(u.value).forEach(_=>{u.value[_]=!1})}),at(_=>{function A(S){const C=e.hotkey.every(ce=>S[ce]||S.code===ce),K=Array.isArray(h.value)?h.value[0]:h.value;C&&(o.value.forEach(ce=>{u.value[ce]=!0}),K?.focus());const he=document.activeElement===h.value||K?.contains(document.activeElement);S.code==="Escape"&&he&&o.value.forEach(ce=>{u.value[ce]=!1})}YB&&(document.addEventListener("keydown",A),_(()=>{document.removeEventListener("keydown",A)}))});function k(_){const A=_.currentTarget,S=A.getAttribute("data-y-position")+"-"+A.getAttribute("data-x-position");u.value[S]=!0}function V(_){if(!d.value){const A=_.currentTarget,S=A.getAttribute("data-y-position")+"-"+A.getAttribute("data-x-position");u.value[S]=!1}}function F(){Object.keys(u.value).forEach(_=>{u.value[_]=!1})}function I(){d.value=!1}function w(_){l.value=_}function y(_){const A=l.value.findIndex(S=>S.toastId===_.toastId);if(A!==-1)l.value[A]=_;else{const S=l.value.findIndex(C=>C.position===_.position);S!==-1?l.value.splice(S,0,_):l.value.unshift(_)}}return(_,A)=>($(),Ce(Ue,null,[vt(" Remove item from normal navigation flow, only available via hotkey "),Ke("section",{"aria-label":`${_.containerAriaLabel} ${T(b)}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},[($(!0),Ce(Ue,null,On(o.value,(S,C)=>($(),Ce("ol",Ie({key:S,ref_for:!0,ref_key:"listRef",ref:h,"data-sonner-toaster":"","data-sonner-theme":f.value,class:e.class,dir:_.dir==="auto"?XB():_.dir,tabIndex:-1,"data-theme":_.theme,"data-rich-colors":_.richColors,"data-y-position":S.split("-")[0],"data-x-position":S.split("-")[1],style:{"--front-toast-height":`${l.value[0]?.height||0}px`,"--width":`${T(pB)}px`,"--gap":`${_.gap}px`,..._.style,...T(n).style,...T(_B)(_.offset,_.mobileOffset)}},{ref_for:!0},_.$attrs,{onBlur:O,onFocus:M,onMouseenter:k,onMousemove:k,onMouseleave:V,onDragend:F,onPointerdown:D,onPointerup:I}),[($(!0),Ce(Ue,null,On(i(S,C),(K,he)=>($(),ee(TB,{key:K.id,heights:l.value,icons:_.icons,index:he,toast:K,defaultRichColors:_.richColors,duration:_.toastOptions?.duration??_.duration,class:ft(_.toastOptions?.class??""),descriptionClass:_.toastOptions?.descriptionClass,invert:_.invert,visibleToasts:_.visibleToasts,closeButton:_.toastOptions?.closeButton??_.closeButton,interacting:d.value,position:S,closeButtonPosition:_.toastOptions?.closeButtonPosition??_.closeButtonPosition,style:En(_.toastOptions?.style),unstyled:_.toastOptions?.unstyled,classes:_.toastOptions?.classes,cancelButtonStyle:_.toastOptions?.cancelButtonStyle,actionButtonStyle:_.toastOptions?.actionButtonStyle,"close-button-aria-label":_.toastOptions?.closeButtonAriaLabel,toasts:a.value[S],expandByDefault:_.expand,gap:_.gap,expanded:u.value[S]||!1,swipeDirections:e.swipeDirections,"onUpdate:heights":w,"onUpdate:height":y,onRemoveToast:E},{"close-icon":q(()=>[oe(_.$slots,"close-icon",{},()=>[ae(CB)])]),"loading-icon":q(()=>[oe(_.$slots,"loading-icon",{},()=>[ae(kB,{visible:K.type==="loading"},null,8,["visible"])])]),"success-icon":q(()=>[oe(_.$slots,"success-icon",{},()=>[ae(MB)])]),"error-icon":q(()=>[oe(_.$slots,"error-icon",{},()=>[ae(KB)])]),"warning-icon":q(()=>[oe(_.$slots,"warning-icon",{},()=>[ae(jB)])]),"info-icon":q(()=>[oe(_.$slots,"info-icon",{},()=>[ae(BB)])]),_:2},1032,["heights","icons","index","toast","defaultRichColors","duration","class","descriptionClass","invert","visibleToasts","closeButton","interacting","position","closeButtonPosition","style","unstyled","classes","cancelButtonStyle","actionButtonStyle","close-button-aria-label","toasts","expandByDefault","gap","expanded","swipeDirections"]))),128))],16,QB))),128))],8,GB)],2112))}}),ZB=JB;async function GT(t){try{return await t()}catch(e){return console.error(e),Ya.error(": "+e.message),null}}async function E$(t,e){e.value=!0;const n=await t();return e.value=!1,n}class Xs{budget;spendings;colorTheme;periodType;spendingMode;constructor(e=0,n=[],r="auto",s="day",i="period"){this.budget=e,this.spendings=n,this.colorTheme=r,this.periodType=s,this.spendingMode=i}}const T$={day:"",week:""},I$={period:"",budget:""};function QT(t){return ip(dp,"users",t)}function e4(t){const e=t?.date,n=e instanceof Date?e:e?new Date(e):new Date,r=n instanceof Date&&!isNaN(n.getTime())?n:new Date,s={amount:typeof t.amount=="number"?t.amount:0,date:r};return t.category&&(s.category={name:t.category.name,color:t.category.color,icon:t.category.icon}),s}function Ca(t){return{budget:typeof t.budget=="number"?t.budget:0,spendings:Array.isArray(t.spendings)?t.spendings.map(e4):[],colorTheme:t.colorTheme??"auto",periodType:t.periodType??"day",spendingMode:t.spendingMode??"period"}}function YT(t){if(!t)return new Xs;const e=Array.isArray(t.spendings)?t.spendings.map(n=>({amount:typeof n?.amount=="number"?n.amount:0,date:typeof n?.date?.toDate=="function"?n.date.toDate():new Date(n?.date??Date.now()),category:n?.category?{name:n.category.name??" ",color:n.category.color??"#4a4a4a",icon:n.category.icon??"radix-icons:slash"}:{name:" ",color:"#4a4a4a",icon:"radix-icons:slash"}})):[];return new Xs(typeof t.budget=="number"?t.budget:0,e,t.colorTheme??"auto",t.periodType??"day",t.spendingMode??"period")}async function t4(t){const e=QT(t),n=await qT(e),r=n.exists()?n.data()?.accountData:null;return YT(r)}async function XT(t,e){const n=QT(t);await Sc(n,{accountData:Ca(e)},{merge:!0})}const n4=Object.freeze(Object.defineProperty({__proto__:null,getAccountData:t4,mapAccountData:YT,saveAccountData:XT,serializeAccountData:Ca},Symbol.toStringTag,{value:"Module"})),fp=lu();async function A$(t,e){return await GT(async()=>{const{user:n}=await _N(fp,t,e);return await Sc(ip(dp,"users",n.uid),{email:t,uid:n.uid,createdAt:jT(),accountData:Ca(new Xs)}),{uid:n.uid,email:n.email}})}async function r4(){await EN(fp),Ya.info("   ")}async function s4(t,e){const n=ip(dp,"users",t),r=await qT(n);r.exists()?r.data()?.accountData||await Sc(n,{accountData:Ca(new Xs)},{merge:!0}):await Sc(n,{email:e??null,uid:t,createdAt:jT(),accountData:Ca(new Xs)})}function i4(){Hb(fp,async t=>{const{useAccountData:e}=await Fs(async()=>{const{useAccountData:s}=await Promise.resolve().then(()=>U4);return{useAccountData:s}},void 0),{getAccountData:n}=await Fs(async()=>{const{getAccountData:s}=await Promise.resolve().then(()=>n4);return{getAccountData:s}},void 0),r=e();t?await GT(async()=>{await s4(t.uid,t.email??void 0);const s=await n(t.uid);r.SetFromRemote(s)}):(r.Reset(),r.loaded=!0)})}class o4{text;icon;func;constructor(e,n,r){this.text=e,this.icon=n,this.func=r}}const a4=J({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=Ln(t,e);return(i,o)=>($(),ee(T(P1),Ie({"data-slot":"dropdown-menu"},T(s)),{default:q(()=>[oe(i.$slots,"default")]),_:3},16))}});/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),c4=t=>{const e=l4(t);return e.charAt(0).toUpperCase()+e.slice(1)},u4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Ev=t=>t==="";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Po={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=({name:t,iconNode:e,absoluteStrokeWidth:n,"absolute-stroke-width":r,strokeWidth:s,"stroke-width":i,size:o=Po.width,color:a=Po.stroke,...l},{slots:u})=>un("svg",{...Po,...l,width:o,height:o,stroke:a,"stroke-width":Ev(n)||Ev(r)||n===!0||r===!0?Number(s||i||Po["stroke-width"])*24/Number(o):s||i||Po["stroke-width"],class:u4("lucide",l.class,...t?[`lucide-${bv(c4(t))}-icon`,`lucide-${bv(t)}`]:["lucide-icon"])},[...e.map(d=>un(...d)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=(t,e)=>(n,{slots:r,attrs:s})=>un(d4,{...s,...n,iconNode:e,name:t},r);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=bu("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=bu("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=bu("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=bu("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m4=J({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=Fn(n,"class"),i=Ln(s,r);return(o,a)=>($(),ee(T(N1),null,{default:q(()=>[ae(T(x1),Ie({"data-slot":"dropdown-menu-content"},T(i),{class:T(Bt)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--reka-dropdown-menu-content-available-height) min-w-[8rem] origin-(--reka-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n.class)}),{default:q(()=>[oe(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),g4=J({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean},variant:{default:"default"}},setup(t){const e=t,n=Fn(e,"inset","variant","class"),r=ar(n);return(s,i)=>($(),ee(T(O1),Ie({"data-slot":"dropdown-menu-item","data-inset":t.inset?"":void 0,"data-variant":t.variant},T(r),{class:T(Bt)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e.class)}),{default:q(()=>[oe(s.$slots,"default")]),_:3},16,["data-inset","data-variant","class"]))}}),y4=J({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const n=ar(t);return(r,s)=>($(),ee(T(V1),Ie({"data-slot":"dropdown-menu-trigger"},T(n)),{default:q(()=>[oe(r.$slots,"default")]),_:3},16))}}),v4=J({__name:"DropdownFunctions",props:{functions:Array},setup(t){return(e,n)=>($(),ee(T(a4),null,{default:q(()=>[ae(T(y4),{"as-child":""},{default:q(()=>[oe(e.$slots,"default")]),_:3}),ae(T(m4),null,{default:q(()=>[($(!0),Ce(Ue,null,On(t.functions,r=>($(),ee(T(g4),{onClick:()=>r.func()},{default:q(()=>[r.icon?($(),ee(to,{key:0,icon:r.icon},null,8,["icon"])):vt("",!0),Ke("p",null,xt(r.text),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:3}))}}),_4=J({__name:"TextDialog",props:{text:{},class:{}},setup(t){const e=t;return(n,r)=>($(),Ce("p",{class:ft(e.class)},xt(t.text),3))}});class Vo{component;props;constructor(e,n=null){this.component=e,this.props=n}}const hp=J_("common dialog",()=>{const t=j([]),e=j([]),n=j([]),r=nr({label:"NO LABEL PROVIDED",buttons:{cancel:"",confirm:""}}),s=j(!1);let i=null;async function o(h,m,v,...b){t.value=b,n.value=b.map(O=>O.props.defaultValue),e.value=Array(b.length),r.label=h,r.buttons={cancel:m,confirm:v},s.value=!0;let E;return await new Promise(O=>{i=O}).then(O=>E=O),E}async function a(h,...m){return await o(h,"","",...m)}async function l(h,m,v=""){return!!await o(h,"","",new Vo(_4,{text:m,class:v}))}function u(h){i&&(i(h),i=null),s.value=!1}function d(){u(n.value)}function f(){u(null)}return{components:t,results:n,conditions:e,config:r,open:s,DialogResults:a,BoolDialogResults:l,Confirm:d,Cancel:f}}),w4={class:"text-2xl"},b4=J({__name:"UserLink",setup(t){const e=lu(),n=hp(),r=j(null),s=j(!0);Hb(e,o=>{r.value=o,s.value=!1});async function i(){await n.BoolDialogResults("","     ?")&&await r4()}return(o,a)=>{const l=Uc("RouterLink");return $(),ee(l,{to:"/login",class:"flex items-center px-10 gap-3 hover:underline border-l h-full"},{default:q(()=>[ae(T(ak),{class:"size-15"},{default:q(()=>[ae(T(Lk),{class:"text-3xl"},{default:q(()=>[ae(to,{icon:"radix-icons:person"})]),_:1})]),_:1}),Ke("p",w4,xt(r.value?.email?.split("@")[0]??""),1),T(e).currentUser?($(),ee(v4,{key:0,functions:[new(T(o4))("","radix-icons:exit",i)]},{default:q(()=>[ae(mE,{icon:"radix-icons:dots-vertical",size:"icon",variant:"outline",class:"flex-center rounded-full"})]),_:1},8,["functions"])):vt("",!0)]),_:1})}}}),E4=J({__name:"Card",props:{class:{}},setup(t){const e=t;return(n,r)=>($(),Ce("div",{"data-slot":"card",class:ft(T(Bt)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e.class))},[oe(n.$slots,"default")],2))}});class Jr{name;color;icon;constructor(e,n,r){this.name=e,this.color=n,this.icon=r}}class ZT{amount;date;category;constructor(e,n,r){this.amount=e,this.date=n,this.category=r}}function Tv(t){return t?.category?.name!=eI.name}function T4(t){return new ZT(t,new Date(Date.now()),eI)}const Pa=[new Jr(" ","#4a4a4a","radix-icons:slash"),new Jr("","#ff2e8c","lucide:lollipop"),new Jr("","#d5ba10","radix-icons:accessibility"),new Jr("","#1f70ff","radix-icons:gear"),new Jr("","#ff2e2e","lucide:cross"),new Jr("","#c42eff","radix-icons:cube")],eI=new Jr("","oklch(69.6% 0.17 162.48)","lucide:russian-ruble"),I4={class:"flex-center gap-2"},A4=J({__name:"NumberSetSuggestions",props:qc({options:{type:Array,default:[0,100,200,500,1e3]}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=ia(t,"modelValue");return(r,s)=>($(),Ce("div",I4,[($(!0),Ce(Ue,null,On(e.options,i=>($(),ee(T(qi),{onClick:o=>n.value=i,key:i,variant:"outline",class:"text-xl flex-1 font-bold hover:text-primary"},{default:q(()=>[cn(xt(i),1)]),_:2},1032,["onClick"]))),128))]))}}),S4={class:"flex-center gap-2"},C4=J({__name:"NumberChangeSuggestions",props:qc({options:{type:Array,default:[-1e3,-500,-100,0,100,500,1e3]}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=ia(t,"modelValue");function r(s){s==0?n.value=0:n.value+=s}return(s,i)=>($(),Ce("div",S4,[($(!0),Ce(Ue,null,On(e.options,o=>($(),ee(T(qi),{onClick:a=>r(o),key:o,variant:"outline",class:ft(["text-sm flex-1 font-bold",{"text-destructive":o<0,"text-primary":o>0}])},{default:q(()=>[cn(xt(o>0?"+":"")+xt(o),1)]),_:2},1032,["onClick","class"]))),128))]))}});function S$(t){navigator.clipboard.writeText(t).then(()=>Ya.success(""))}function P4(t,e,n){return Math.min(Math.max(t,e),n)}function C$(t){return new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(t)}const R4={class:"flex-center justify-between gap-10 w-full py-5"},x4={class:"flex-center flex-col w-40"},Iv=999999,Id=J({__name:"ChangeBudgetDialog",props:qc({defaultValue:{},options:{},mode:{}},{modelValue:{default:0},modelModifiers:{},condition:{type:Boolean},conditionModifiers:{}}),emits:["update:modelValue","update:condition"],setup(t){const e=t,n=ia(t,"modelValue"),r=ia(t,"condition");function s(){n.value=P4(n.value,0,Iv),r.value=n.value>0}return _t(async()=>{n.value=e.defaultValue??0,await Xe(),s()}),Le(n,s),(i,o)=>($(),Ce(Ue,null,[Ke("div",R4,[Ke("div",x4,[l_(Ke("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),min:0,max:Iv,type:"number",tabindex:"-1",class:"text-7xl text-primary max-w-[7ch] text-center"},null,512),[[jA,n.value]])])]),e.mode=="change"?($(),ee(C4,{key:0,modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=a=>n.value=a),options:e.options},null,8,["modelValue","options"])):($(),ee(A4,{key:1,modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=a=>n.value=a),options:e.options},null,8,["modelValue","options"]))],64))}}),k4=J({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const s=Ln(t,e);return(i,o)=>($(),ee(T(q1),Ie({"data-slot":"select"},T(s)),{default:q(()=>[oe(i.$slots,"default")]),_:3},16))}}),O4=J({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=e,s=Fn(n,"class"),i=Ln(s,r);return(o,a)=>($(),ee(T(yx),null,{default:q(()=>[ae(T(rx),Ie({"data-slot":"select-content"},{...T(i),...o.$attrs},{class:T(Bt)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--reka-select-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n.class)}),{default:q(()=>[ae(T(L4)),ae(T(Sx),{class:ft(T(Bt)("p-1",t.position==="popper"&&"h-[var(--reka-select-trigger-height)] w-full min-w-[var(--reka-select-trigger-width)] scroll-my-1"))},{default:q(()=>[oe(o.$slots,"default")]),_:3},8,["class"]),ae(T(V4))]),_:3},16,["class"])]),_:3}))}}),D4=J({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,r)=>($(),ee(T(ox),Ie({"data-slot":"select-group"},e),{default:q(()=>[oe(n.$slots,"default")]),_:3},16))}}),N4={class:"absolute right-2 flex size-3.5 items-center justify-center"},M4=J({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Fn(e,"class"),r=ar(n);return(s,i)=>($(),ee(T(dx),Ie({"data-slot":"select-item"},T(r),{class:T(Bt)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e.class)}),{default:q(()=>[Ke("span",N4,[ae(T(hx),null,{default:q(()=>[ae(T(f4),{class:"size-4"})]),_:1})]),ae(T(mx),null,{default:q(()=>[oe(s.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),V4=J({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Fn(e,"class"),r=ar(n);return(s,i)=>($(),ee(T(wx),Ie({"data-slot":"select-scroll-down-button"},T(r),{class:T(Bt)("flex cursor-default items-center justify-center py-1",e.class)}),{default:q(()=>[oe(s.$slots,"default",{},()=>[ae(T(JT),{class:"size-4"})])]),_:3},16,["class"]))}}),L4=J({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Fn(e,"class"),r=ar(n);return(s,i)=>($(),ee(T(Ex),Ie({"data-slot":"select-scroll-up-button"},T(r),{class:T(Bt)("flex cursor-default items-center justify-center py-1",e.class)}),{default:q(()=>[oe(s.$slots,"default",{},()=>[ae(T(h4),{class:"size-4"})])]),_:3},16,["class"]))}}),F4=J({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{},size:{default:"default"}},setup(t){const e=t,n=Fn(e,"class","size"),r=ar(n);return(s,i)=>($(),ee(T(Ix),Ie({"data-slot":"select-trigger","data-size":t.size},T(r),{class:T(Bt)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e.class)}),{default:q(()=>[oe(s.$slots,"default"),ae(T(lx),{"as-child":""},{default:q(()=>[ae(T(JT),{class:"size-4 opacity-50"})]),_:1})]),_:3},16,["data-size","class"]))}}),B4={class:"flex items-center gap-2 w-35 p-1 rounded-md"},Av=J({__name:"SpendingCategoryComponent",props:{category:{type:Jr,default:Pa[0]}},setup(t){const e=t;return(n,r)=>($(),Ce("div",B4,[Ke("div",{class:"p-0.5 flex-center text-center rounded-md text-white",style:En("background-color: "+e.category.color)},[ae(to,{icon:e.category.icon,class:"text-3xl"},null,8,["icon"])],4),Ke("p",null,xt(e.category.name),1)]))}}),$4=J({__name:"SpendingSelect",props:qc({defaultValue:{type:Number,required:!1}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=t,n=ia(t,"modelValue");return _t(()=>{n.value=e.defaultValue??0}),(r,s)=>($(),ee(T(k4),{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=i=>n.value=i)},{default:q(()=>[ae(T(F4),{class:"w-[180px]"},{default:q(()=>[ae(Av,{category:T(Pa)[n.value]},null,8,["category"])]),_:1}),ae(T(O4),null,{default:q(()=>[ae(T(D4),null,{default:q(()=>[($(!0),Ce(Ue,null,On(T(Pa),(i,o)=>($(),ee(T(M4),{value:o,key:o},{default:q(()=>[ae(Av,{category:i},null,8,["category"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});function Ad(){lu().currentUser||Ya.warning("    ")}const tI=J_("account data",()=>{const t=hp(),e=j(new Xs),n=j(!1);let r=!1,s=null;function i(b){r=!0,e.value=b,setTimeout(()=>{r=!1},0),n.value=!0}function o(){r=!0,e.value=new Xs,setTimeout(()=>{r=!1},0)}Le(e,async b=>{if(r)return;const E=oB.currentUser;E&&(s&&clearTimeout(s),s=setTimeout(async()=>{try{await XT(E.uid,b)}catch(O){console.error("Failed to save account data",O)}},400))},{deep:!0});async function a(b=[0,0]){const E=await t.DialogResults(" ",new Vo(Id,{defaultValue:b[0],options:[-500,-100,-50,0,50,100,500],mode:"change"}),new Vo($4,{defaultValue:b[1]}));if(Ad(),!!E)return new ZT(E[0],new Date(Date.now()),Pa[E[1]])}async function l(b=0){const E=await t.DialogResults(" ",new Vo(Id,{defaultValue:b,options:[-1e3,-100,0,100,1e3],mode:"change"}));if(Ad(),!!E)return T4(E[0])}async function u(){const b=await a();b&&e.value.spendings.push(b)}async function d(){const b=await l();b&&e.value.spendings.push(b)}function f(b){const E=Tv(e.value.spendings[b]);e.value.spendings.splice(b,1),Ya.info(E?" ":" ")}async function h(b){const E=e.value.spendings[b],O=Tv(E);let M;if(O){const D=E.category?.name,k=D?Pa.findIndex(V=>V.name===D):0;M=await a([E.amount,k<0?0:k])}else M=await l(E.amount);M&&(e.value.spendings[b]=M)}async function m(){const b=await t.DialogResults(" ",new Vo(Id,{defaultValue:e.value.budget,options:[-1e4,-1e3,0,1e3,1e4],mode:"change"}));Ad(),b&&v(b[0])}function v(b){e.value.budget=b}return{data:e,loaded:n,NewSpending:a,NewIncome:l,AddSpending:u,AddIncome:d,DeleteSpending:f,EditSpending:h,ChangeBudget:m,SetBudget:v,SetFromRemote:i,Reset:o}}),U4=Object.freeze(Object.defineProperty({__proto__:null,useAccountData:tI},Symbol.toStringTag,{value:"Module"})),q4={class:"relative"},j4=J({__name:"ThemeSelector",setup(t){const e={light:"radix-icons:sun",dark:"radix-icons:moon",auto:"radix-icons:cube"},n={light:"",dark:"",auto:""},r=tI(),s=j(!1);function i(u){return e[u]}function o(u){return n[u]}function a(u){r.data.colorTheme=u,l.value=u}const l=Vk({disableTransition:!1});return Le(()=>r.data.colorTheme,u=>{l.value=u},{immediate:!0}),(u,d)=>{const f=P0("click-outside");return l_(($(),Ce("div",q4,[ae(T(qi),{onClick:d[0]||(d[0]=h=>s.value=!s.value),icon:i(T(r).data.colorTheme),size:"icon",class:"size-13",variant:"outline"},{default:q(()=>[ae(to,{icon:i(T(r).data.colorTheme),class:ft(["transition-transform duration-500 size-6",{"rotate-360":s.value}])},null,8,["icon","class"])]),_:1},8,["icon"]),ae(EA,{name:"menu"},{default:q(()=>[s.value?($(),ee(T(E4),{key:0,class:"absolute gap-3 p-4 -left-20 mt-2 z-999"},{default:q(()=>[($(),Ce(Ue,null,On(e,(h,m)=>ae(mE,{onClick:()=>a(m),icon:h,variant:T(r).data.colorTheme==m?"default":"outline",class:"flex justify-between"},{default:q(()=>[cn(xt(o(m)),1)]),_:2},1032,["onClick","icon","variant"])),64))]),_:1})):vt("",!0)]),_:1})])),[[f,()=>s.value=!1]])}}}),z4={class:"w-full h-25 flex items-center justify-between border-b bg-secondary/10"},H4={class:"flex-center h-full"},W4={class:"flex-center h-full px-5 border-l"},K4=J({__name:"Header",setup(t){return(e,n)=>($(),Ce("div",z4,[ae(cC,{to:"/",class:"text-6xl font-semibold border-r h-full flex-center px-10"}),Ke("div",H4,[Ke("div",W4,[ae(j4)]),ae(b4)])]))}}),G4=J({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const s=Ln(t,e);return(i,o)=>($(),ee(T(QC),Ie({"data-slot":"dialog"},T(s)),{default:q(()=>[oe(i.$slots,"default")]),_:3},16))}}),Q4=J({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Fn(e,"class");return(r,s)=>($(),ee(T(SP),Ie({"data-slot":"dialog-overlay"},T(n),{class:T(Bt)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e.class)}),{default:q(()=>[oe(r.$slots,"default")]),_:3},16,["class"]))}}),Y4=J({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=e,s=Fn(n,"class"),i=Ln(s,r);return(o,a)=>($(),ee(T(RP),null,{default:q(()=>[ae(Q4),ae(T(EP),Ie({"data-slot":"dialog-content"},T(i),{class:T(Bt)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n.class)}),{default:q(()=>[oe(o.$slots,"default"),ae(T(XC),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"},{default:q(()=>[ae(T(p4)),a[0]||(a[0]=Ke("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),X4=J({__name:"DialogHeader",props:{class:{}},setup(t){const e=t;return(n,r)=>($(),Ce("div",{"data-slot":"dialog-header",class:ft(T(Bt)("flex flex-col gap-2 text-center sm:text-left",e.class))},[oe(n.$slots,"default")],2))}}),J4=J({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Fn(e,"class"),r=ar(n);return(s,i)=>($(),ee(T(kP),Ie({"data-slot":"dialog-title"},T(r),{class:T(Bt)("text-lg leading-none font-semibold",e.class)}),{default:q(()=>[oe(s.$slots,"default")]),_:3},16,["class"]))}}),Z4={class:"flex items-center justify-end w-full pt-5 gap-2 border-t"},e$=J({__name:"CommonDialog",setup(t){const e=hp(),n=ie(()=>!e.conditions.some(s=>s===!1));function r(s){e.open=s}return(s,i)=>($(),ee(T(G4),{open:T(e).open,"onUpdate:open":r},{default:q(()=>[ae(T(Y4),{class:"w-auto max-w-none sm:max-w-none min-w-70"},{default:q(()=>[ae(T(X4),null,{default:q(()=>[ae(T(J4),null,{default:q(()=>[cn(xt(T(e).config.label),1)]),_:1})]),_:1}),($(!0),Ce(Ue,null,On(T(e).components,(o,a)=>($(),ee(Vs(xa(o.component)),Ie({ref_for:!0},o.props,{modelValue:T(e).results[a],"onUpdate:modelValue":l=>T(e).results[a]=l,condition:T(e).conditions[a],"onUpdate:condition":l=>T(e).conditions[a]=l,key:a}),null,16,["modelValue","onUpdate:modelValue","condition","onUpdate:condition"]))),128)),Ke("div",Z4,[ae(T(qi),{onClick:T(e).Cancel,variant:"outline"},{default:q(()=>[cn(xt(T(e).config.buttons.cancel),1)]),_:1},8,["onClick"]),ae(T(qi),{disabled:!n.value,onClick:T(e).Confirm},{default:q(()=>[cn(xt(T(e).config.buttons.confirm),1)]),_:1},8,["disabled","onClick"])])]),_:1})]),_:1},8,["open"]))}}),t$=J({__name:"Sonner",props:{id:{},invert:{type:Boolean},theme:{},position:{},closeButtonPosition:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(t){const e=t;return(n,r)=>($(),ee(T(ZB),Ie({class:"toaster group"},e,{style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}}),null,16))}}),n$={class:"flex items-start p-5 w-full h-40 gap-10 border-t-2 bg-secondary/10 text-muted-foreground/50 group"},r$={class:"flex flex-col"},s$={class:"h-full"},i$={class:"flex-center gap-2 transition-colors hover:text-white",href:"https://github.com/TeamKait/Arvavir",target:"_blank"},o$=J({__name:"Footer",setup(t){const e=fw().options.routes;return(n,r)=>{const s=Uc("RouterLink");return $(),Ce("div",n$,[Ke("div",r$,[($(!0),Ce(Ue,null,On(T(e),i=>($(),ee(s,{to:i.path,class:"transition-colors hover:text-white"},{default:q(()=>[cn(xt(i.name),1)]),_:2},1032,["to"]))),256))]),Ke("div",s$,[Ke("a",i$,[ae(to,{icon:"radix-icons:github-logo"}),r[0]||(r[0]=cn("   ",-1))])])])}}}),a$={class:"min-h-screen flex flex-col"},l$={class:"flex-1 flex-center mt-5"},c$=J({__name:"App",setup(t){return(e,n)=>{const r=Uc("RouterView");return $(),Ce(Ue,null,[Ke("div",a$,[ae(K4),Ke("div",l$,[ae(r)]),ae(o$,{class:"mt-5 mb-0"})]),ae(e$),ae(T(t$),{theme:"system","close-button":!0,"rich-colors":!0,"toast-options":{class:"!text-xl flex items-center"}})],64)}}}),u$=aC({history:VS("/Arvavir/"),routes:[{path:"/",name:"ARVAVIR",component:()=>Fs(()=>import("./HomeView-icNRM1oi.js"),__vite__mapDeps([0,1]))},{path:"/login",component:()=>Fs(()=>import("./Auth-CKwy6bMy.js"),__vite__mapDeps([2,1])),props:{login:!0}},{path:"/register",component:()=>Fs(()=>import("./Auth-CKwy6bMy.js"),__vite__mapDeps([2,1])),props:{login:!1}},{path:"/about",name:" ",component:()=>Fs(()=>import("./AboutView-Dkx7O-en.js"),[])},{path:"/:pathMatch(.*)*",name:"404",component:()=>Fs(()=>import("./Page404-D5REXoNY.js"),[])}]}),Eu=YA(c$);Eu.directive("click-outside",iS);Eu.use(ZA());Eu.use(u$);Eu.mount("#app");i4();export{MV as $,r1 as A,Ce as B,Ke as C,cn as D,qc as E,Ue as F,ia as G,On as H,xt as I,tI as J,hp as K,T$ as L,Tv as M,E4 as N,ft as O,dt as P,to as Q,v4 as R,I$ as S,o4 as T,ZT as U,C$ as V,Av as W,S$ as X,Fn as Y,Bt as Z,qi as _,Je as a,Gn as a0,un as a1,gA as a2,$e as a3,qf as a4,Xe as a5,lg as a6,dC as a7,m$ as a8,js as a9,A$ as aA,w$ as aB,AN as aC,Qg as aD,_$ as aE,bu as aF,bs as aa,h$ as ab,p$ as ac,qP as ad,fg as ae,KP as af,Bi as ag,VC as ah,KA as ai,xi as aj,Vs as ak,HP as al,Ln as am,ar as an,f4 as ao,v$ as ap,l_ as aq,jA as ar,rt as as,lu as at,Uc as au,mE as av,fw as aw,Mr as ax,Ya as ay,E$ as az,ee as b,nn as c,J as d,oe as e,T as f,ie as g,kC as h,Le as i,vt as j,ag as k,_t as l,Ie as m,En as n,$ as o,d$ as p,ae as q,j as r,Jc as s,In as t,Xc as u,Js as v,q as w,qC as x,at as y,f$ as z};
